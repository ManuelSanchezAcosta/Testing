<div class="app-content content">
  <div class="content-wrapper">
    <div class="content-header row mb-1">
      <app-breadcrumb class="col-12" [breadcrumb]="breadcrumb"></app-breadcrumb>
    </div>

    <div class="content-body">
      <section id="add-row">
        <div class="row">
          <div class="col-12" *blockUI="'bloqueFormulario'; message: 'Cargando'">
            <m-card [options]="options" (reloadFunction)="getRegistros(true)">

              <ng-container mCardHeaderTitle>
                Archivo de {{ tituloMantenimiento }}
              </ng-container>

              <ng-container mCardBody>

                <div>
                  <button name="btnNuevo" class="btn btn-info btn-min-width box-shadow-2 mr-1 mb-1" type="button"
                    _ngcontent-ijs-c12="" (click)="create()">Nuevo</button>
                  <button name="btnModificar" class="btn btn-info btn-min-width box-shadow-2 mr-1 mb-1" type="button"
                    _ngcontent-ijs-c12="" (click)="update()">Modificar</button>
                  <button name="btnEliminar" class="btn btn-info btn-min-width box-shadow-2 mr-1 mb-1" type="button"
                    _ngcontent-ijs-c12="" (click)="delete()">Eliminar</button>
                  <button name="btnImprimir" class="btn btn-info btn-min-width box-shadow-2 mr-1 mb-1" type="button"
                    _ngcontent-ijs-c12="" (click)="print('Imprimible')">Imprimir</button>
                  <button name="btnImprimir" class="btn btn-info btn-min-width box-shadow-2 mr-1 mb-1" type="button"
                    _ngcontent-ijs-c12="" (click)="CopiarAJson()">JSON</button>
                  <button name="btnImprimir" class="btn btn-success btn-min-width box-shadow-2 mr-1 mb-1" type="button"
                    _ngcontent-ijs-c12="" (click)="getExcelData()">EXCEL</button>
                  <button name="btnImprimir" class="btn btn-warning btn-min-width box-shadow-2 mr-1 mb-1" type="button"
                    _ngcontent-ijs-c12="" (click)="getPdfData()">PDF</button>
                </div>


                <div>

                  <section id="html5">
                    <div id='Imprimible'>

                      <div class="row " id="printMe">
                        <div class="col-12 printMe" *blockUI="'printButtons'; message: 'Loading'">
                          <m-card [options]="options" (reloadFunction)="reloadPrintButtons($event)">
                            <ng-container mCardBody>

                              <div class="collapse show">
                                <div class="card-dashboard">
                                  <div class="table table-striped table-bordered dataex-html5-export">

                                    <!--
                                    fxFlex="auto" 
                                    [perfectScrollbar]="config"
                                    [columnMode]="'force'"
                                    [rowHeight]="'auto'"
                                    [headerHeight]="50"
                                    [ScrollBarV]="true"
                                    [ScrollBarH]="true"
                                    -->

                                    <ngx-datatable class="bootstrap" 
                                      [sortType]="'multi'" 
                                      [footerHeight]="50"
                                      [rows]="rowsRegistros" 
                                      [limit]="10" 
                                      [loadingIndicator]="loadingIndicator"
                                      [selectionType]="SelectionType.single" 
                                      [headerHeight]="50" 
                                      [rowHeight]="auto"
                                      [columnMode]="ColumnMode.force" 
                                      [ScrollBarH]="true" 
                                      [ScrollBarV]="true"
                                      [perfectScrollbar]="config"
                                      (select)="onRowSelect($event)">

                                      <ngx-datatable-column name="Id" [flexGrow]="1" [minWidth]="40"
                                        [CanAutoResize]="true">
                                        <ng-template ngx-datatable-cell-template let-row="row">
                                          <span>{{row.id}}</span>
                                        </ng-template>
                                      </ngx-datatable-column>

                                      <ngx-datatable-column name="Categoria ID" [flexGrow]="1" [minWidth]="40">
                                        <ng-template ngx-datatable-cell-template let-row="row">
                                          <span>{{row.categoryid}}</span>
                                        </ng-template>
                                      </ngx-datatable-column>

                                      <ngx-datatable-column name="Nombre" [flexGrow]="1" [minWidth]="90">
                                        <ng-template ngx-datatable-cell-template let-row="row">
                                          <span>{{row.name}}</span>
                                        </ng-template>
                                      </ngx-datatable-column>

                                      <ngx-datatable-column name="Imagen" [flexGrow]="1" [minWidth]="30">
                                        <ng-template ngx-datatable-cell-template let-row="row">
                                          <span>{{row.image}}</span>
                                        </ng-template>
                                      </ngx-datatable-column>

                                      <ngx-datatable-column name="Creado" [flexGrow]="1" [minWidth]="90">
                                        <ng-template ngx-datatable-cell-template let-row="row">
                                          <span>{{row.createdDT}}</span>
                                        </ng-template>
                                      </ngx-datatable-column>

                                      <ngx-datatable-column name="Nombre 2" [flexGrow]="1" [minWidth]="90">
                                        <ng-template ngx-datatable-cell-template let-row="row">
                                          <span>{{row.sname}}</span>
                                        </ng-template>
                                      </ngx-datatable-column>

                                    </ngx-datatable>
                                  </div>
                                </div>
                              </div>
                            </ng-container>
                          </m-card>
                        </div>
                      </div>
                      </div>
                  </section>


                </div>

              </ng-container>

            </m-card>

          </div>
        </div>
      </section>

    </div>
  </div>

</div>