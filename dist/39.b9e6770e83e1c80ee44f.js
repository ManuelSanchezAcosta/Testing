(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{n7nQ:function(t,o,e){"use strict";e.r(o),e.d(o,"MapsModule",function(){return B});var i=e("SVse"),n=e("iInd"),a=e("mrSG"),s=e("12jx"),r=e("8Y7J"),c=e("/DnI"),l=e("LSHg"),d=e("FhuM");function b(t,o){if(1&t){var e=r.Zb();r.Yb(0,"div",8),r.Yb(1,"m-card",17),r.ic("reloadFunction",function(t){return r.Jc(e),r.lc().reloadBasicMap(t)}),r.Wb(2,18),r.Tc(3," Basic Map "),r.Vb(),r.Wb(4,19),r.Yb(5,"p",14),r.Tc(6,"You must define "),r.Yb(7,"strong"),r.Tc(8,"container ID"),r.Xb(),r.Tc(9,", "),r.Yb(10,"strong"),r.Tc(11,"latitude"),r.Xb(),r.Tc(12," and "),r.Yb(13,"strong"),r.Tc(14,"longitude"),r.Xb(),r.Tc(15," of the map's center."),r.Xb(),r.Yb(16,"p",14),r.Tc(17,"You also can define "),r.Yb(18,"strong"),r.Tc(19,"zoom"),r.Xb(),r.Tc(20,", "),r.Yb(21,"strong"),r.Tc(22,"width"),r.Xb(),r.Tc(23," and "),r.Yb(24,"strong"),r.Tc(25,"height"),r.Xb(),r.Tc(26,". By default, zoom is 15. Width an height in a CSS class will replace these values."),r.Xb(),r.Yb(27,"p",14),r.Tc(28,"Map types are defined in the "),r.Yb(29,"strong"),r.Tc(30,"mapType"),r.Xb(),r.Tc(31," property. Allowed values are: "),r.Yb(32,"strong"),r.Tc(33,"roadmap"),r.Xb(),r.Tc(34," (default), "),r.Yb(35,"strong"),r.Tc(36,"satellite"),r.Xb(),r.Tc(37,", "),r.Yb(38,"strong"),r.Tc(39,"hybrid"),r.Xb(),r.Tc(40," and "),r.Yb(41,"strong"),r.Tc(42,"terrain"),r.Xb(),r.Tc(43,"."),r.Xb(),r.Tb(44,"agm-map",15),r.Vb(),r.Xb(),r.Xb()}if(2&t){var i=r.lc();r.Eb(1),r.sc("options",i.options),r.Eb(43),r.sc("latitude",i.lat)("longitude",i.lng)("zoom",i.zoom)("zoomControl",!1)("scrollwheel",null)}}function p(t,o){if(1&t){var e=r.Zb();r.Yb(0,"div",8),r.Yb(1,"m-card",17),r.ic("reloadFunction",function(t){return r.Jc(e),r.lc().reloadMapEvents(t)}),r.Wb(2,18),r.Tc(3," Map Events "),r.Vb(),r.Wb(4,19),r.Yb(5,"p",14),r.Tc(6,"Click or drag this map to see attached events. You can check the list of map events "),r.Yb(7,"a",20),r.Tc(8,"here"),r.Xb(),r.Tc(9,". "),r.Xb(),r.Yb(10,"agm-map",21),r.ic("mapClick",function(t){return r.Jc(e),r.lc().mapClicked(t)}),r.Xb(),r.Vb(),r.Xb(),r.Xb()}if(2&t){var i=r.lc();r.Eb(1),r.sc("options",i.options),r.Eb(9),r.sc("latitude",i.lat)("longitude",i.lng)("zoom",i.zoom)("mapDraggable",!0)("zoomControl",!1)("scrollwheel",null)}}function u(t,o){if(1&t){var e=r.Zb();r.Yb(0,"agm-marker",22),r.ic("dragEnd",function(t){r.Jc(e);var i=o.$implicit;return r.lc().markerDragEnd(i,t)}),r.Xb()}if(2&t){var i=o.$implicit;r.sc("latitude",i.lat)("longitude",i.lng)("label",i.label)}}var g=function(){function t(){this.options={close:!0,expand:!0,minimize:!0,reload:!0},this.lat=-12.046374,this.lng=-77.042793,this.markers=[{lat:this.lat,lng:this.lng,label:"A"},{lat:this.lat+.004,lng:this.lng+.004,label:"B"},{lat:this.lat-.004,lng:this.lng-.004,label:"C"}]}return t.prototype.ngOnInit=function(){this.breadcrumb={mainlabel:"gmaps - Basic Maps",links:[{name:"Home",isLink:!0,link:"/dashboard/sales"},{name:"gmaps",isLink:!0,link:"#"},{name:"Basic Maps",isLink:!1}]},this.zoom=15},t.prototype.mapClicked=function(t){window.alert("click"),console.log("Clicked",t)},t.prototype.reloadBasicMap=function(){var t=this;this.blockUIBasicMap.start("Loading.."),setTimeout(function(){t.blockUIBasicMap.stop()},2500)},t.prototype.reloadMapEvents=function(){var t=this;this.blockUIMapEvents.start("Loading.."),setTimeout(function(){t.blockUIMapEvents.stop()},2500)},t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=r.Mb({type:t,selectors:[["app-maps"]],decls:33,vars:11,consts:[[1,"app-content","content"],[1,"content-wrapper"],[1,"content-header","row","mb-1"],[1,"col-12",3,"breadcrumb"],[1,"content-body"],["id","gmaps-basic-maps"],[1,"row"],["class","col-12",4,"blockUI","blockUIMessage"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-content","collapse","show"],[1,"card-body"],[1,"card-text"],[3,"latitude","longitude","zoom","zoomControl","scrollwheel"],[3,"latitude","longitude","label","dragEnd",4,"ngFor","ngForOf"],[3,"options","reloadFunction"],["mCardHeaderTitle",""],["mCardBody",""],["href","https://developers.google.com/maps/documentation/javascript/reference#Map"],[3,"latitude","longitude","zoom","mapDraggable","zoomControl","scrollwheel","mapClick"],[3,"latitude","longitude","label","dragEnd"]],template:function(t,o){1&t&&(r.Yb(0,"div",0),r.Yb(1,"div",1),r.Yb(2,"div",2),r.Tb(3,"app-breadcrumb",3),r.Xb(),r.Yb(4,"div",4),r.Yb(5,"section",5),r.Yb(6,"div",6),r.Rc(7,b,45,6,"div",7),r.Xb(),r.Yb(8,"div",6),r.Rc(9,p,11,7,"div",7),r.Xb(),r.Yb(10,"div",6),r.Yb(11,"div",8),r.Yb(12,"div",9),r.Yb(13,"div",10),r.Yb(14,"h4",11),r.Tc(15,"Markers"),r.Xb(),r.Xb(),r.Yb(16,"div",12),r.Yb(17,"div",13),r.Yb(18,"p",14),r.Yb(19,"strong"),r.Tc(20,"Latitude"),r.Xb(),r.Tc(21," and "),r.Yb(22,"strong"),r.Tc(23,"Longitude"),r.Xb(),r.Tc(24," are required. You can also attach additional information with "),r.Yb(25,"code"),r.Tc(26,"details"),r.Xb(),r.Tc(27,", which will be passed to Event object ("),r.Yb(28,"code"),r.Tc(29,"e"),r.Xb(),r.Tc(30,") in the events previously defined."),r.Xb(),r.Yb(31,"agm-map",15),r.Rc(32,u,1,3,"agm-marker",16),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb()),2&t&&(r.Eb(3),r.sc("breadcrumb",o.breadcrumb),r.Eb(4),r.sc("blockUI","basicMap")("blockUIMessage","Loading"),r.Eb(2),r.sc("blockUI","mapEvents")("blockUIMessage","Loading"),r.Eb(22),r.sc("latitude",o.lat)("longitude",o.lng)("zoom",o.zoom)("zoomControl",!1)("scrollwheel",null),r.Eb(1),r.sc("ngForOf",o.markers))},directives:[c.a,s.c,l.b,i.n,d.a,l.c],styles:["agm-map[_ngcontent-%COMP%]{height:300px}[_nghost-%COMP%]     .block-ui-wrapper{background:rgba(255,249,249,.5)!important}"]}),Object(a.b)([Object(s.a)("basicMap"),Object(a.c)("design:type",Object)],t.prototype,"blockUIBasicMap",void 0),Object(a.b)([Object(s.a)("mapEvents"),Object(a.c)("design:type",Object)],t.prototype,"blockUIMapEvents",void 0),t}(),h=e("s7LF"),m=e("Cfvw"),v=e("vkgz"),f=e("lJxs"),y=e("eIep"),k=e("LRne"),w=e("HDdC"),T=function(){function t(t){this.mapLoader=t}return t.prototype.initGeocoder=function(){console.log("Init geocoder!"),this.geocoder=new google.maps.Geocoder},t.prototype.waitForMapsToLoad=function(){var t=this;return this.geocoder?Object(k.a)(!0):Object(m.a)(this.mapLoader.load()).pipe(Object(v.a)(function(){return t.initGeocoder()}),Object(f.a)(function(){return!0}))},t.prototype.geocodeAddress=function(t){var o=this;return console.log("Start geocoding!"),this.waitForMapsToLoad().pipe(Object(y.a)(function(){return new w.a(function(e){o.geocoder.geocode({address:t},function(t,o){o===google.maps.GeocoderStatus.OK?(console.log("Geocoding complete!"),e.next({lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()})):(console.log("Error - ",t," & Status - ",o),e.next({lat:0,lng:0})),e.complete()})})}))},t.\u0275fac=function(o){return new(o||t)(r.fc(l.h))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Y=["search"];function X(t,o){if(1&t){var e=r.Zb();r.Yb(0,"div",8),r.Yb(1,"m-card",9),r.ic("reloadFunction",function(t){return r.Jc(e),r.lc().reloadGeolocation(t)}),r.Wb(2,10),r.Tc(3," Geolocation "),r.Vb(),r.Wb(4,11),r.Yb(5,"p",12),r.Yb(6,"code"),r.Tc(7,"GMaps.geolocate"),r.Xb(),r.Tc(8," supports 4 functions:"),r.Xb(),r.Yb(9,"ul"),r.Yb(10,"li"),r.Yb(11,"code"),r.Tc(12,"success"),r.Xb(),r.Tc(13," (required): fires when geolocation has been successful"),r.Xb(),r.Yb(14,"li"),r.Yb(15,"code"),r.Tc(16,"error"),r.Xb(),r.Tc(17," (required): fires when geolocation has not been done"),r.Xb(),r.Yb(18,"li"),r.Yb(19,"code"),r.Tc(20,"not_supported"),r.Xb(),r.Tc(21," (required): fires when geolocation is not supported by the browser "),r.Xb(),r.Yb(22,"li"),r.Yb(23,"code"),r.Tc(24,"always"),r.Xb(),r.Tc(25," (optional): fires always after every scenario described above."),r.Xb(),r.Xb(),r.Tb(26,"agm-map",13),r.Vb(),r.Xb(),r.Xb()}if(2&t){var i=r.lc();r.Eb(1),r.sc("options",i.options),r.Eb(25),r.sc("latitude",i.latitude)("longitude",i.longitude)("zoom",i.zoom)("scrollwheel",null)}}function M(t,o){if(1&t&&r.Tb(0,"agm-marker",19),2&t){var e=o.$implicit;r.sc("latitude",e.lat)("longitude",e.lng)("label",e.label)}}function O(t,o){if(1&t){var e=r.Zb();r.Yb(0,"div",8),r.Yb(1,"m-card",9),r.ic("reloadFunction",function(t){return r.Jc(e),r.lc().reloadGeocoding(t)}),r.Wb(2,10),r.Tc(3," Geocoding "),r.Vb(),r.Wb(4,11),r.Yb(5,"p",12),r.Tc(6,"You can define either "),r.Yb(7,"code"),r.Tc(8,"address"),r.Xb(),r.Tc(9," or "),r.Yb(10,"code"),r.Tc(11,"lat"),r.Xb(),r.Tc(12," and "),r.Yb(13,"code"),r.Tc(14,"lng"),r.Xb(),r.Tc(15,". Also, you must define "),r.Yb(16,"code"),r.Tc(17,"callback"),r.Xb(),r.Tc(18,", which will use "),r.Yb(19,"code"),r.Tc(20,"results"),r.Xb(),r.Tc(21," of geocoding and "),r.Yb(22,"code"),r.Tc(23,"status"),r.Xb(),r.Tc(24,"."),r.Xb(),r.Yb(25,"form"),r.Yb(26,"label",14),r.Tc(27,"Address:"),r.Xb(),r.Yb(28,"div",15),r.Tb(29,"input",16,17),r.Xb(),r.Xb(),r.Yb(31,"agm-map",13),r.Rc(32,M,1,3,"agm-marker",18),r.Xb(),r.Vb(),r.Xb(),r.Xb()}if(2&t){var i=r.lc();r.Eb(1),r.sc("options",i.options),r.Eb(28),r.sc("formControl",i.searchControl),r.Eb(2),r.sc("latitude",i.lat)("longitude",i.lng)("zoom",i.zoom)("scrollwheel",null),r.Eb(1),r.sc("ngForOf",i.markers)}}var I=function(){function t(t,o,e,i){this.geocodeService=t,this.ref=o,this.mapsAPILoader=e,this.ngZone=i,this.options={close:!0,expand:!0,minimize:!0,reload:!0},this.latitude=-12.046374,this.longitude=-77.042793,this.lat=-12.046374,this.lng=-77.042793,this.zoom=12,this.dragMarker="",this.markers=[]}return t.prototype.ngOnInit=function(){var t=this;this.breadcrumb={mainlabel:"gmaps - Services",links:[{name:"Home",isLink:!0,link:"/dashboard/sales"},{name:"gmaps",isLink:!0,link:""},{name:"Services",isLink:!1}]},this.searchControl=new h.f,this.mapsAPILoader.load().then(function(){var o=new google.maps.places.Autocomplete(t.searchElementRef.nativeElement,{types:["(regions)"]});o.addListener("place_changed",function(){t.ngZone.run(function(){var e=o.getPlace();t.geocodeService.geocodeAddress(e.name).subscribe(function(o){t.markers.push({lat:o.lat,lng:o.lng,label:t.dragMarker}),t.lat=o.lat,t.lng=o.lng,t.ref.detectChanges()})})})})},t.prototype.getLocation=function(){var t=this;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(o){o&&(t.lat=o.coords.latitude,t.lng=o.coords.longitude)},function(t){return console.log(t)}):window.alert("Geolocation is not supported by this browser.")},t.prototype.reloadGeolocation=function(){var t=this;this.blockUIGeolocation.start("Loading.."),setTimeout(function(){t.blockUIGeolocation.stop()},2500)},t.prototype.reloadGeocoding=function(){var t=this;this.blockUIGeocoding.start("Loading.."),setTimeout(function(){t.blockUIGeocoding.stop()},2500)},t.\u0275fac=function(o){return new(o||t)(r.Sb(T),r.Sb(r.h),r.Sb(l.h),r.Sb(r.B))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-services"]],viewQuery:function(t,o){var e;1&t&&r.Xc(Y,1),2&t&&r.Fc(e=r.jc())&&(o.searchElementRef=e.first)},decls:10,vars:5,consts:[[1,"app-content","content"],[1,"content-wrapper"],[1,"content-header","row","mb-1"],[1,"col-12",3,"breadcrumb"],[1,"content-body"],["id","gmaps-services"],[1,"row"],["class","col-12",4,"blockUI","blockUIMessage"],[1,"col-12"],[3,"options","reloadFunction"],["mCardHeaderTitle",""],["mCardBody",""],[1,"card-text"],[3,"latitude","longitude","zoom","scrollwheel"],["for","address"],[1,"input-group","mb-1"],["autocorrect","off","autocapitalize","off","spellcheck","off","type","text",3,"formControl"],["search",""],[3,"latitude","longitude","label",4,"ngFor","ngForOf"],[3,"latitude","longitude","label"]],template:function(t,o){1&t&&(r.Yb(0,"div",0),r.Yb(1,"div",1),r.Yb(2,"div",2),r.Tb(3,"app-breadcrumb",3),r.Xb(),r.Yb(4,"div",4),r.Yb(5,"section",5),r.Yb(6,"div",6),r.Rc(7,X,27,5,"div",7),r.Xb(),r.Yb(8,"div",6),r.Rc(9,O,33,7,"div",7),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb()),2&t&&(r.Eb(3),r.sc("breadcrumb",o.breadcrumb),r.Eb(4),r.sc("blockUI","geolocation")("blockUIMessage","Loading"),r.Eb(2),r.sc("blockUI","geocoding")("blockUIMessage","Loading"))},directives:[c.a,s.c,d.a,l.b,h.D,h.r,h.s,h.b,h.q,h.g,i.n,l.c],styles:["agm-map[_ngcontent-%COMP%]{height:300px}[_nghost-%COMP%]     .block-ui-wrapper{background:rgba(255,249,249,.5)!important}"]}),Object(a.b)([Object(s.a)("geolocation"),Object(a.c)("design:type",Object)],t.prototype,"blockUIGeolocation",void 0),Object(a.b)([Object(s.a)("geocoding"),Object(a.c)("design:type",Object)],t.prototype,"blockUIGeocoding",void 0),t}();function D(t,o){if(1&t&&r.Tb(0,"agm-polyline-point",24),2&t){var e=o.$implicit;r.sc("latitude",e.latitude)("longitude",e.longitude)}}function C(t,o){if(1&t&&(r.Yb(0,"agm-polyline",22),r.Rc(1,D,1,2,"agm-polyline-point",23),r.Xb()),2&t){var e=o.$implicit;r.sc("strokeColor",e.color),r.Eb(1),r.sc("ngForOf",e.path)}}function E(t,o){if(1&t){var e=r.Zb();r.Yb(0,"div",8),r.Yb(1,"m-card",18),r.ic("reloadFunction",function(t){return r.Jc(e),r.lc().reloadPolylines(t)}),r.Wb(2,19),r.Tc(3," Polylines "),r.Vb(),r.Wb(4,20),r.Yb(5,"p",14),r.Tc(6,"The path of the polyline is defined by an array of array of two (latitude and longitude)."),r.Xb(),r.Yb(7,"agm-map",16),r.Wb(8),r.Rc(9,C,2,2,"agm-polyline",21),r.Vb(),r.Xb(),r.Vb(),r.Xb(),r.Xb()}if(2&t){var i=r.lc();r.Eb(1),r.sc("options",i.options),r.Eb(6),r.sc("latitude",i.lat)("longitude",i.lng)("zoom",i.zoom)("scrollwheel",null),r.Eb(2),r.sc("ngForOf",i.polylines)}}function R(t,o){if(1&t){var e=r.Zb();r.Yb(0,"div",8),r.Yb(1,"m-card",18),r.ic("reloadFunction",function(t){return r.Jc(e),r.lc().reloadPolygons(t)}),r.Wb(2,19),r.Tc(3," Polygons "),r.Vb(),r.Wb(4,20),r.Yb(5,"p",14),r.Tc(6,"The path of a polygon can be defined as an array of:"),r.Xb(),r.Yb(7,"ul"),r.Yb(8,"li"),r.Yb(9,"code"),r.Tc(10,"google.maps.LatLng"),r.Xb(),r.Tc(11," objects, or "),r.Xb(),r.Yb(12,"li"),r.Tc(13,"arrays of coordinates, with index 0 and 1 as, respectively, "),r.Yb(14,"b"),r.Tc(15,"latitude"),r.Xb(),r.Tc(16," and "),r.Yb(17,"b"),r.Tc(18,"longitude"),r.Xb(),r.Tc(19," (as in the example) "),r.Xb(),r.Xb(),r.Yb(20,"p",14),r.Tc(21,"Also, you can add a GeoJSON Polygon or MultiPolygon path using "),r.Yb(22,"code"),r.Tc(23,"useGeoJSON: true"),r.Xb(),r.Tc(24,"."),r.Xb(),r.Yb(25,"agm-map",16),r.Tb(26,"agm-polygon",17),r.Xb(),r.Vb(),r.Xb(),r.Xb()}if(2&t){var i=r.lc();r.Eb(1),r.sc("options",i.options),r.Eb(24),r.sc("latitude",i.lat)("longitude",i.lng)("zoom",i.zoom)("scrollwheel",null),r.Eb(1),r.sc("paths",i.paths)("strokeWeight",3)}}var L=function(){function t(t){this.mapsAPILoader=t,this.options={close:!0,expand:!0,minimize:!0,reload:!0},this.lat=-12.046374,this.lng=-77.042793,this.paths=[{lat:-12.045374,lng:-77.041793},{lat:-12.045985,lng:-77.035},{lat:-12.048374,lng:-77.043793},{lat:-12.045374,lng:-77.046793},{lat:-12.045374,lng:-77.041793}],this.multiPaths=[[{lat:-12.045374,lng:-77.041793},{lat:-12.045985,lng:-77.035},{lat:-12.048374,lng:-77.043793},{lat:-12.045374,lng:-77.046793},{lat:-12.045374,lng:-77.041793}],[{lat:-12.045374,lng:-77.031793},{lat:-12.045985,lng:-77.025},{lat:-12.048374,lng:-77.033793},{lat:-12.045374,lng:-77.036793},{lat:-12.045374,lng:-77.031793}]]}return t.prototype.ngOnInit=function(){this.breadcrumb={mainlabel:"gmaps - Overlays",links:[{name:"Home",isLink:!0,link:"/dashboard/sales"},{name:"gmaps",isLink:!0,link:"#"},{name:"Overlays",isLink:!1}]},this.zoom=15,this.lat=-12.046374,this.lng=-77.042793,this.polyline=[{latitude:-12.045374,longitude:-77.041793},{latitude:-12.045985,longitude:-77.035},{latitude:-12.048374,longitude:-77.043793},{latitude:-12.045374,longitude:-77.046793}],this.polylines=this.rebuildPolylines(),this.mapsAPILoader.load().then(function(){})},t.prototype.rebuildPolylines=function(){var t;this.polylines=[];for(var o=0;o<this.polyline.length;o++){t={latitude:this.polyline[o].latitude,longitude:this.polyline[o].longitude,path:[],label:"",color:"blue"};var e=void 0;0!==o&&(e={latitude:this.polyline[o-1].latitude,longitude:this.polyline[o-1].longitude}),e&&this.polyline[o]&&(t.path.push(e),t.path.push({latitude:this.polyline[o].latitude,longitude:this.polyline[o].longitude})),this.polylines.push(t)}return console.log(this.polylines),this.polylines},t.prototype.reloadPolylines=function(){var t=this;this.blockUIPolylines.start("Loading.."),setTimeout(function(){t.blockUIPolylines.stop()},2500)},t.prototype.reloadPolygons=function(){var t=this;this.blockUIPolygons.start("Loading.."),setTimeout(function(){t.blockUIPolygons.stop()},2500)},t.\u0275fac=function(o){return new(o||t)(r.Sb(l.h))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-overlays"]],decls:25,vars:11,consts:[[1,"app-content","content"],[1,"content-wrapper"],[1,"content-header","row","mb-1"],[1,"col-12",3,"breadcrumb"],[1,"content-body"],["id","gmaps-overlays"],[1,"row"],["class","col-12",4,"blockUI","blockUIMessage"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-content","collapse","show"],[1,"card-body"],[1,"card-text"],["href","http://geojson.org/geojson-spec.html#id7"],[3,"latitude","longitude","zoom","scrollwheel"],["strokeColor","LightSkyBlue","fillColor","LightSkyBlue",3,"paths","strokeWeight"],[3,"options","reloadFunction"],["mCardHeaderTitle",""],["mCardBody",""],[3,"strokeColor",4,"ngFor","ngForOf"],[3,"strokeColor"],[3,"latitude","longitude",4,"ngFor","ngForOf"],[3,"latitude","longitude"]],template:function(t,o){1&t&&(r.Yb(0,"div",0),r.Yb(1,"div",1),r.Yb(2,"div",2),r.Tb(3,"app-breadcrumb",3),r.Xb(),r.Yb(4,"div",4),r.Yb(5,"section",5),r.Yb(6,"div",6),r.Rc(7,E,10,6,"div",7),r.Xb(),r.Yb(8,"div",6),r.Rc(9,R,27,7,"div",7),r.Xb(),r.Yb(10,"div",6),r.Yb(11,"div",8),r.Yb(12,"div",9),r.Yb(13,"div",10),r.Yb(14,"h4",11),r.Tc(15,"GeoJSON Polygons"),r.Xb(),r.Xb(),r.Yb(16,"div",12),r.Yb(17,"div",13),r.Yb(18,"p",14),r.Tc(19,"The GeoJSON Polygon should be surrounded by brackets, according the "),r.Yb(20,"a",15),r.Tc(21,"specification"),r.Xb(),r.Tc(22,"."),r.Xb(),r.Yb(23,"agm-map",16),r.Tb(24,"agm-polygon",17),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb()),2&t&&(r.Eb(3),r.sc("breadcrumb",o.breadcrumb),r.Eb(4),r.sc("blockUI","polylines")("blockUIMessage","Loading"),r.Eb(2),r.sc("blockUI","polygons")("blockUIMessage","Loading"),r.Eb(14),r.sc("latitude",o.lat)("longitude",o.lng)("zoom",o.zoom)("scrollwheel",null),r.Eb(1),r.sc("paths",o.multiPaths)("strokeWeight",3))},directives:[c.a,s.c,l.b,l.d,d.a,i.n,l.e,l.f],styles:["agm-map[_ngcontent-%COMP%]{height:300px}[_nghost-%COMP%]     .block-ui-wrapper{background:rgba(255,249,249,.5)!important}"]}),Object(a.b)([Object(s.a)("polylines"),Object(a.c)("design:type",Object)],t.prototype,"blockUIPolylines",void 0),Object(a.b)([Object(s.a)("polygons"),Object(a.c)("design:type",Object)],t.prototype,"blockUIPolygons",void 0),t}(),j=e("1OyB"),U=e("vuIU"),z=function(){var t=function(){function t(o){Object(j.a)(this,t),this.gmapsApi=o,this.travelMode="DRIVING",this.transitOptions=void 0,this.drivingOptions=void 0,this.waypoints=[],this.optimizeWaypoints=!0,this.provideRouteAlternatives=!1,this.avoidHighways=!1,this.avoidTolls=!1,this.visible=!0,this.onChange=new r.o,this.onResponse=new r.o,this.sendInfoWindow=new r.o,this.status=new r.o,this.originDrag=new r.o,this.destinationDrag=new r.o,this.directionsService=void 0,this.directionsDisplay=void 0,this.waypointsMarker=[],this.isFirstChange=!0}return Object(U.a)(t,[{key:"ngOnInit",value:function(){!0===this.visible&&this.directionDraw()}},{key:"ngOnChanges",value:function(t){if(this.visible){if(this.isFirstChange)return void 0===this.directionsDisplay&&this.directionDraw(),void(this.isFirstChange=!1);void 0!==t.renderOptions&&!1===t.renderOptions.firstChange&&(this.removeMarkers(),this.removeDirections()),this.directionDraw()}else try{this.removeMarkers(),this.removeDirections()}catch(o){}}},{key:"ngOnDestroy",value:function(){this.destroyMarkers(),this.removeDirections()}},{key:"directionDraw",value:function(){var t=this;this.gmapsApi.getNativeMap().then(function(o){void 0===t.directionsDisplay&&(t.directionsDisplay=new google.maps.DirectionsRenderer(t.renderOptions),t.directionsDisplay.setMap(o),t.directionsDisplay.addListener("directions_changed",function(){t.onChange.emit(t.directionsDisplay.getDirections())})),void 0===t.directionsService&&(t.directionsService=new google.maps.DirectionsService),t.directionsDisplay.setPanel(void 0===t.panel?null:t.panel),"object"==typeof t.renderRoute&&null!==t.renderRoute?(t.directionsDisplay.setDirections(t.renderRoute),t.renderRoute=null):t.directionsService.route({origin:t.origin,destination:t.destination,travelMode:t.travelMode,transitOptions:t.transitOptions,drivingOptions:t.drivingOptions,waypoints:t.waypoints,optimizeWaypoints:t.optimizeWaypoints,provideRouteAlternatives:t.provideRouteAlternatives,avoidHighways:t.avoidHighways,avoidTolls:t.avoidTolls},function(e,i){switch(t.onResponse.emit(e),t.status.emit(i),i){case"OK":if(t.directionsDisplay.setDirections(e),void 0!==t.markerOptions){t.destroyMarkers();var n=e.routes[0].legs[0];try{void 0!==t.markerOptions.origin&&(t.markerOptions.origin.map=o,t.markerOptions.origin.position=n.start_location,t.originMarker=t.setMarker(o,t.originMarker,t.markerOptions.origin,n.start_address),t.markerOptions.origin.draggable&&t.originMarker.addListener("dragend",function(){t.origin=t.originMarker.position,t.directionDraw(),t.originDrag.emit(t.origin)})),void 0!==t.markerOptions.destination&&(t.markerOptions.destination.map=o,t.markerOptions.destination.position=n.end_location,t.destinationMarker=t.setMarker(o,t.destinationMarker,t.markerOptions.destination,n.end_address),t.markerOptions.destination.draggable&&t.destinationMarker.addListener("dragend",function(){t.destination=t.destinationMarker.position,t.directionDraw(),t.destinationDrag.emit(t.destination)})),void 0!==t.markerOptions.waypoints&&t.waypoints.forEach(function(e,i){Array.isArray(t.markerOptions.waypoints)?(t.markerOptions.waypoints[i].map=o,t.markerOptions.waypoints[i].position=n.via_waypoints[i],t.waypointsMarker.push(t.setMarker(o,e,t.markerOptions.waypoints[i],n.via_waypoints[i]))):(t.markerOptions.waypoints.map=o,t.markerOptions.waypoints.position=n.via_waypoints[i],t.waypointsMarker.push(t.setMarker(o,e,t.markerOptions.waypoints,n.via_waypoints[i])))})}catch(a){console.error("MarkerOptions error.",a)}}}})})}},{key:"setMarker",value:function(t,o,e,i){var n=this;return void 0===this.infoWindow&&(this.infoWindow=new google.maps.InfoWindow({}),this.sendInfoWindow.emit(this.infoWindow)),(o=new google.maps.Marker(e)).clickable&&o.addListener("click",function(){n.infoWindow.setContent(void 0===e.infoWindow?i:e.infoWindow),n.infoWindow.open(t,o)}),o}},{key:"removeMarkers",value:function(){void 0!==this.originMarker&&this.originMarker.setMap(null),void 0!==this.destinationMarker&&this.destinationMarker.setMap(null),this.waypointsMarker.forEach(function(t){void 0!==t&&t.setMap(null)})}},{key:"removeDirections",value:function(){void 0!==this.directionsDisplay&&(this.directionsDisplay.setPanel(null),this.directionsDisplay.setMap(null),this.directionsDisplay=void 0)}},{key:"destroyMarkers",value:function(){try{void 0!==this.originMarker&&(google.maps.event.clearListeners(this.originMarker,"click"),this.markerOptions.origin.draggable&&google.maps.event.clearListeners(this.originMarker,"dragend")),void 0!==this.destinationMarker&&(google.maps.event.clearListeners(this.destinationMarker,"click"),this.markerOptions.origin.draggable&&google.maps.event.clearListeners(this.destinationMarker,"dragend")),this.waypointsMarker.forEach(function(t){void 0!==t&&google.maps.event.clearListeners(t,"click")}),this.removeMarkers()}catch(t){console.error("Can not reset custom marker.",t)}}}]),t}();return t.\u0275fac=function(o){return new(o||t)(r.Sb(l.g))},t.\u0275dir=r.Nb({type:t,selectors:[["agm-direction"]],inputs:{travelMode:"travelMode",transitOptions:"transitOptions",drivingOptions:"drivingOptions",waypoints:"waypoints",optimizeWaypoints:"optimizeWaypoints",provideRouteAlternatives:"provideRouteAlternatives",avoidHighways:"avoidHighways",avoidTolls:"avoidTolls",visible:"visible",renderRoute:"renderRoute",origin:"origin",destination:"destination",infoWindow:"infoWindow",renderOptions:"renderOptions",panel:"panel",markerOptions:"markerOptions"},outputs:{onChange:"onChange",onResponse:"onResponse",sendInfoWindow:"sendInfoWindow",status:"status",originDrag:"originDrag",destinationDrag:"destinationDrag"},features:[r.Cb]}),t}(),W=function(){var t=function(){function t(){Object(j.a)(this,t)}return Object(U.a)(t,null,[{key:"forRoot",value:function(){return{ngModule:t}}}]),t}();return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(o){return new(o||t)},imports:[[]]}),t}();function P(t,o){if(1&t){var e=r.Zb();r.Yb(0,"div",8),r.Yb(1,"m-card",9),r.ic("reloadFunction",function(t){return r.Jc(e),r.lc().reloadRoutes(t)}),r.Wb(2,10),r.Tc(3," Routes "),r.Vb(),r.Wb(4,11),r.Yb(5,"p",12),r.Tc(6,"You must define two points ("),r.Yb(7,"strong"),r.Tc(8,"origin"),r.Xb(),r.Tc(9," and "),r.Yb(10,"strong"),r.Tc(11,"destination"),r.Xb(),r.Tc(12,") and color, opacity and weight of the route in the map."),r.Xb(),r.Yb(13,"p",12),r.Tc(14,"Also, you can define a "),r.Yb(15,"code"),r.Tc(16,"travelMode"),r.Xb(),r.Tc(17,": "),r.Yb(18,"code"),r.Tc(19,"driving"),r.Xb(),r.Tc(20,", "),r.Yb(21,"code"),r.Tc(22,"bicycling"),r.Xb(),r.Tc(23," or "),r.Yb(24,"code"),r.Tc(25,"walking"),r.Xb(),r.Tc(26,". Default is "),r.Yb(27,"code"),r.Tc(28,"walking"),r.Xb(),r.Xb(),r.Yb(29,"agm-map",13),r.Tb(30,"agm-direction",14),r.Xb(),r.Vb(),r.Xb(),r.Xb()}if(2&t){var i=r.lc();r.Eb(1),r.sc("options",i.options),r.Eb(28),r.sc("latitude",i.lat)("longitude",i.lng)("zoom",i.zoom)("scrollwheel",null),r.Eb(1),r.sc("origin",i.origin)("destination",i.destination)}}function S(t,o){if(1&t&&(r.Yb(0,"li"),r.Tb(1,"div",21),r.Xb()),2&t){var e=o.$implicit;r.Eb(1),r.sc("innerHtml",e.instructions,r.Kc)}}function A(t,o){if(1&t&&(r.Yb(0,"div",19),r.Yb(1,"ul"),r.Rc(2,S,2,1,"li",20),r.Xb(),r.Xb()),2&t){var e=r.lc(2);r.Eb(2),r.sc("ngForOf",e.routeArray)}}function F(t,o){if(1&t){var e=r.Zb();r.Yb(0,"div",8),r.Yb(1,"m-card",9),r.ic("reloadFunction",function(t){return r.Jc(e),r.lc().reloadRoutesAdvance(t)}),r.Wb(2,10),r.Tc(3," Routes Advance "),r.Vb(),r.Wb(4,11),r.Yb(5,"p",12),r.Tc(6,"Same as "),r.Yb(7,"code"),r.Tc(8,"drawRoute"),r.Xb(),r.Tc(9,", you must define an "),r.Yb(10,"strong"),r.Tc(11,"origin"),r.Xb(),r.Tc(12,", "),r.Yb(13,"strong"),r.Tc(14,"destination"),r.Xb(),r.Tc(15," and "),r.Yb(16,"code"),r.Tc(17,"travelMode"),r.Xb(),r.Tc(18,". Also, you must define the function that GMaps will call every step in the route."),r.Xb(),r.Yb(19,"agm-map",13),r.Yb(20,"agm-direction",15),r.ic("onResponse",function(t){return r.Jc(e),r.lc().onResponse(t)}),r.Xb(),r.Xb(),r.Yb(21,"div",6),r.Yb(22,"div",16),r.Yb(23,"button",17),r.ic("click",function(){return r.Jc(e),r.lc().startInstructions()}),r.Tc(24,"Start Travel"),r.Xb(),r.Xb(),r.Rc(25,A,3,1,"div",18),r.Xb(),r.Vb(),r.Xb(),r.Xb()}if(2&t){var i=r.lc();r.Eb(1),r.sc("options",i.options),r.Eb(18),r.sc("latitude",i.lat)("longitude",i.lng)("zoom",i.zoom)("scrollwheel",null),r.Eb(1),r.sc("origin",i.origin)("destination",i.destination),r.Eb(5),r.sc("ngIf",i.clickOnStartTravel)}}var G=function(){function t(t){this.gmapsApi=t,this.options={close:!0,expand:!0,minimize:!0,reload:!0},this.lat=-12.045374,this.lng=-77.042793,this.origin={lat:-12.045374,lng:-77.042793},this.destination={lat:-12.045374,lng:-76.050793},this.status=new r.o,this.addressChanged=new r.o,this.waypoints=[],this.zoom=15,this.visible=!0,this.routeDetail=[],this.directionsService=void 0,this.directionsDisplay=void 0,this.clickOnStartTravel=!1,this.waypointsMarker=[],this.isFirstChange=!0}return t.prototype.ngOnInit=function(){this.breadcrumb={mainlabel:"gmaps - Routes",links:[{name:"Home",isLink:!0,link:"/dashboard/sales"},{name:"gmaps",isLink:!0,link:"#"},{name:"Routes",isLink:!1}]},!0===this.visible&&this.directionDraw()},t.prototype.ngOnChanges=function(t){if(this.visible){if(this.isFirstChange)return void 0===this.directionsDisplay&&this.directionDraw(),void(this.isFirstChange=!1);void 0!==t.renderOptions&&!1===t.renderOptions.firstChange&&(void 0!==this.originMarker&&(this.originMarker.setMap(null),this.destinationMarker.setMap(null),this.waypointsMarker.forEach(function(t){return t.setMap(null)})),this.directionsDisplay.setPanel(null),this.directionsDisplay.setMap(null),this.directionsDisplay=void 0),this.directionDraw()}else try{void 0!==this.originMarker&&(this.originMarker.setMap(null),this.destinationMarker.setMap(null),this.waypointsMarker.forEach(function(t){return t.setMap(null)})),this.directionsDisplay.setPanel(null),this.directionsDisplay.setMap(null),this.directionsDisplay=void 0}catch(o){}},t.prototype.directionDraw=function(){var t=this;this.gmapsApi.getNativeMap().then(function(o){void 0===t.directionsDisplay&&(t.directionsDisplay=new google.maps.DirectionsRenderer(t.renderOptions),t.directionsDisplay.setMap(o),t.directionsDisplay.addListener("directions_changed",function(){t.addressChanged.emit(t.directionsDisplay.getDirections())})),void 0===t.directionsService&&(t.directionsService=new google.maps.DirectionsService),t.directionsDisplay.setPanel(void 0===t.panel?null:t.panel),"object"==typeof t.renderRoute&&null!==t.renderRoute?(t.directionsDisplay.setDirections(t.renderRoute),t.renderRoute=null):t.directionsService.route({origin:t.origin,destination:t.destination,travelMode:"DRIVING",transitOptions:void 0,drivingOptions:void 0,waypoints:[],optimizeWaypoints:!0,provideRouteAlternatives:!1,avoidHighways:!1,avoidTolls:!1},function(o,e){t.onResponse(o)})})},t.prototype.onResponse=function(t){this.routeDetail.push(t),this.routeArray=this.routeDetail[0].routes[0].legs[0].steps},t.prototype.startInstructions=function(){this.clickOnStartTravel=!0},t.prototype.reloadRoutes=function(){var t=this;this.blockUIRoutes.start("Loading.."),setTimeout(function(){t.blockUIRoutes.stop()},2500)},t.prototype.reloadRoutesAdvance=function(){var t=this;this.blockUIRoutesAdvance.start("Loading.."),setTimeout(function(){t.blockUIRoutesAdvance.stop()},2500)},t.\u0275fac=function(o){return new(o||t)(r.Sb(l.g))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-routes"]],outputs:{status:"status",addressChanged:"addressChanged"},features:[r.Cb],decls:10,vars:5,consts:[[1,"app-content","content"],[1,"content-wrapper"],[1,"content-header","row","mb-1"],[1,"col-12",3,"breadcrumb"],[1,"content-body"],["id","gmaps-routes"],[1,"row"],["class","col-12",4,"blockUI","blockUIMessage"],[1,"col-12"],[3,"options","reloadFunction"],["mCardHeaderTitle",""],["mCardBody",""],[1,"card-text"],[3,"latitude","longitude","zoom","scrollwheel"],[3,"origin","destination"],[3,"origin","destination","onResponse"],[1,"col-2"],["type","submit",1,"btn","btn-primary","mt-1",3,"click"],["class","col-10",4,"ngIf"],[1,"col-10"],[4,"ngFor","ngForOf"],[3,"innerHtml"]],template:function(t,o){1&t&&(r.Yb(0,"div",0),r.Yb(1,"div",1),r.Yb(2,"div",2),r.Tb(3,"app-breadcrumb",3),r.Xb(),r.Yb(4,"div",4),r.Yb(5,"section",5),r.Yb(6,"div",6),r.Rc(7,P,31,7,"div",7),r.Xb(),r.Yb(8,"div",6),r.Rc(9,F,26,8,"div",7),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb()),2&t&&(r.Eb(3),r.sc("breadcrumb",o.breadcrumb),r.Eb(4),r.sc("blockUI","routes")("blockUIMessage","Loading"),r.Eb(2),r.sc("blockUI","routesAdvance")("blockUIMessage","Loading"))},directives:[c.a,s.c,d.a,l.b,z,i.o,i.n],styles:["agm-map[_ngcontent-%COMP%]{height:300px}[_nghost-%COMP%]     .block-ui-wrapper{background:rgba(255,249,249,.5)!important}"]}),Object(a.b)([Object(s.a)("routes"),Object(a.c)("design:type",Object)],t.prototype,"blockUIRoutes",void 0),Object(a.b)([Object(s.a)("routesAdvance"),Object(a.c)("design:type",Object)],t.prototype,"blockUIRoutesAdvance",void 0),t}(),J=e("ErSb"),V=e("vj4e"),_=e("kaWu"),x=e("AytR"),B=function(){function t(){}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(o){return new(o||t)},providers:[T,l.g],imports:[[i.c,h.l,J.a,V.a,h.y,s.b.forRoot({template:_.a}),l.a.forRoot({apiKey:x.a.googleApiKey,libraries:["places"]}),W,n.k.forChild([{path:"maps",component:g},{path:"services",component:I},{path:"overlays",component:L},{path:"routes",component:G}])]]}),t}()}}]);