{"ast":null,"code":"import _classCallCheck from \"E:/Manuel/Sistenet/Testing/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:/Manuel/Sistenet/Testing/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { __decorate, __metadata, __param } from 'tslib';\nimport { isPlatformServer, DOCUMENT, CommonModule } from '@angular/common';\nimport { InjectionToken, EventEmitter, SecurityContext, Input, Output, Component, ViewEncapsulation, forwardRef, Inject, PLATFORM_ID, ElementRef, Renderer2, NgZone, NgModule } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { NG_VALUE_ACCESSOR, NG_VALIDATORS } from '@angular/forms';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/platform-browser';\nimport * as ɵngcc2 from '@angular/common';\nvar _c0 = [[[\"\", \"quill-editor-toolbar\", \"\"]]];\nvar _c1 = [\"[quill-editor-toolbar]\"];\nvar defaultModules = {\n  toolbar: [['bold', 'italic', 'underline', 'strike'], ['blockquote', 'code-block'], [{\n    header: 1\n  }, {\n    header: 2\n  }], [{\n    list: 'ordered'\n  }, {\n    list: 'bullet'\n  }], [{\n    script: 'sub'\n  }, {\n    script: 'super'\n  }], [{\n    indent: '-1'\n  }, {\n    indent: '+1'\n  }], [{\n    direction: 'rtl'\n  }], [{\n    size: ['small', false, 'large', 'huge']\n  }], [{\n    header: [1, 2, 3, 4, 5, 6, false]\n  }], [{\n    color: []\n  }, {\n    background: []\n  }], [{\n    font: []\n  }], [{\n    align: []\n  }], ['clean'], ['link', 'image', 'video'] // link and image, video\n  ]\n};\nvar QUILL_CONFIG_TOKEN = new InjectionToken('config');\nvar QuillEditorComponent_1; // tslint:disable-next-line:variable-name\n\nvar Quill = null;\n\nvar getFormat = function getFormat(format, configFormat) {\n  var passedFormat = format || configFormat;\n  return passedFormat || 'html';\n};\n\nvar ɵ0 = getFormat;\n\nvar QuillEditorComponent = QuillEditorComponent_1 = /*#__PURE__*/function () {\n  function QuillEditorComponent(elementRef, domSanitizer, doc, // tslint:disable-next-line:ban-types\n  platformId, renderer, zone, config) {\n    var _this = this;\n\n    _classCallCheck(this, QuillEditorComponent);\n\n    this.elementRef = elementRef;\n    this.domSanitizer = domSanitizer;\n    this.doc = doc;\n    this.platformId = platformId;\n    this.renderer = renderer;\n    this.zone = zone;\n    this.config = config;\n    this.required = false;\n    this.customToolbarPosition = 'top';\n    this.sanitize = false;\n    this.styles = null;\n    this.strict = true;\n    this.customOptions = [];\n    this.preserveWhitespace = false;\n    this.onEditorCreated = new EventEmitter();\n    this.onContentChanged = new EventEmitter();\n    this.onSelectionChanged = new EventEmitter();\n    this.onFocus = new EventEmitter();\n    this.onBlur = new EventEmitter();\n    this.disabled = false; // used to store initial value before ViewInit\n\n    this.valueGetter = function (quillEditor, editorElement) {\n      var html = editorElement.querySelector('.ql-editor').innerHTML;\n\n      if (html === '<p><br></p>' || html === '<div><br><div>') {\n        html = null;\n      }\n\n      var modelValue = html;\n      var format = getFormat(_this.format, _this.config.format);\n\n      if (format === 'text') {\n        modelValue = quillEditor.getText();\n      } else if (format === 'object') {\n        modelValue = quillEditor.getContents();\n      } else if (format === 'json') {\n        try {\n          modelValue = JSON.stringify(quillEditor.getContents());\n        } catch (e) {\n          modelValue = quillEditor.getText();\n        }\n      }\n\n      return modelValue;\n    };\n\n    this.valueSetter = function (quillEditor, value) {\n      var format = getFormat(_this.format, _this.config.format);\n\n      if (format === 'html') {\n        if (_this.sanitize) {\n          value = _this.domSanitizer.sanitize(SecurityContext.HTML, value);\n        }\n\n        return quillEditor.clipboard.convert(value);\n      } else if (format === 'json') {\n        try {\n          return JSON.parse(value);\n        } catch (e) {\n          return [{\n            insert: value\n          }];\n        }\n      }\n\n      return value;\n    };\n\n    this.selectionChangeHandler = function (range, oldRange, source) {\n      _this.zone.run(function () {\n        if (range === null) {\n          _this.onBlur.emit({\n            editor: _this.quillEditor,\n            source: source\n          });\n        } else if (oldRange === null) {\n          _this.onFocus.emit({\n            editor: _this.quillEditor,\n            source: source\n          });\n        }\n\n        _this.onSelectionChanged.emit({\n          editor: _this.quillEditor,\n          oldRange: oldRange,\n          range: range,\n          source: source\n        });\n\n        if (!range && _this.onModelTouched) {\n          _this.onModelTouched();\n        }\n      });\n    };\n\n    this.textChangeHandler = function (delta, oldDelta, source) {\n      // only emit changes emitted by user interactions\n      var text = _this.quillEditor.getText();\n\n      var content = _this.quillEditor.getContents();\n\n      var html = _this.editorElem.querySelector('.ql-editor').innerHTML;\n\n      if (html === '<p><br></p>' || html === '<div><br><div>') {\n        html = null;\n      }\n\n      _this.zone.run(function () {\n        var trackChanges = _this.trackChanges || _this.config.trackChanges;\n\n        if ((source === Quill.sources.USER || trackChanges && trackChanges === 'all') && _this.onModelChange) {\n          _this.onModelChange(_this.valueGetter(_this.quillEditor, _this.editorElem));\n        }\n\n        _this.onContentChanged.emit({\n          content: content,\n          delta: delta,\n          editor: _this.quillEditor,\n          html: html,\n          oldDelta: oldDelta,\n          source: source,\n          text: text\n        });\n      });\n    };\n  } // tslint:disable-next-line:no-empty\n\n\n  _createClass(QuillEditorComponent, [{\n    key: \"onModelChange\",\n    value: function onModelChange(_modelValue) {} // tslint:disable-next-line:no-empty\n\n  }, {\n    key: \"onModelTouched\",\n    value: function onModelTouched() {}\n  }, {\n    key: \"ngAfterContentInit\",\n    value: function ngAfterContentInit() {\n      var _this2 = this;\n\n      if (isPlatformServer(this.platformId)) {\n        return;\n      }\n\n      if (!Quill) {\n        Quill = require('quill');\n      }\n\n      this.elementRef.nativeElement.insertAdjacentHTML(this.customToolbarPosition === 'top' ? 'beforeend' : 'afterbegin', this.preserveWhitespace ? '<pre quill-editor-element></pre>' : '<div quill-editor-element></div>');\n      this.editorElem = this.elementRef.nativeElement.querySelector('[quill-editor-element]');\n      var toolbarElem = this.elementRef.nativeElement.querySelector('[quill-editor-toolbar]');\n      var modules = this.modules || this.config.modules || defaultModules;\n\n      if (modules.toolbar === undefined) {\n        modules.toolbar = defaultModules.toolbar;\n      }\n\n      var placeholder = this.placeholder !== undefined ? this.placeholder : this.config.placeholder;\n\n      if (placeholder === undefined) {\n        placeholder = 'Insert text here ...';\n      }\n\n      if (toolbarElem) {\n        // tslint:disable-next-line:no-string-literal\n        modules['toolbar'] = toolbarElem;\n      }\n\n      if (this.styles) {\n        Object.keys(this.styles).forEach(function (key) {\n          _this2.renderer.setStyle(_this2.editorElem, key, _this2.styles[key]);\n        });\n      }\n\n      this.customOptions.forEach(function (customOption) {\n        var newCustomOption = Quill.import(customOption.import);\n        newCustomOption.whitelist = customOption.whitelist;\n        Quill.register(newCustomOption, true);\n      });\n      var bounds = this.bounds && this.bounds === 'self' ? this.editorElem : this.bounds;\n\n      if (!bounds) {\n        bounds = this.config.bounds ? this.config.bounds : this.doc.body;\n      }\n\n      var debug = this.debug;\n\n      if (!debug && debug !== false && this.config.debug) {\n        debug = this.config.debug;\n      }\n\n      var readOnly = this.readOnly;\n\n      if (!readOnly && this.readOnly !== false) {\n        readOnly = this.config.readOnly !== undefined ? this.config.readOnly : false;\n      }\n\n      var scrollingContainer = this.scrollingContainer;\n\n      if (!scrollingContainer && this.scrollingContainer !== null) {\n        scrollingContainer = this.config.scrollingContainer === null || this.config.scrollingContainer ? this.config.scrollingContainer : null;\n      }\n\n      var formats = this.formats;\n\n      if (!formats && formats === undefined) {\n        formats = this.config.formats || this.config.formats === null ? this.config.formats : undefined;\n      }\n\n      this.quillEditor = new Quill(this.editorElem, {\n        bounds: bounds,\n        debug: debug,\n        formats: formats,\n        modules: modules,\n        placeholder: placeholder,\n        readOnly: readOnly,\n        scrollingContainer: scrollingContainer,\n        strict: this.strict,\n        theme: this.theme || (this.config.theme ? this.config.theme : 'snow')\n      });\n\n      if (this.content) {\n        var format = getFormat(this.format, this.config.format);\n\n        if (format === 'object') {\n          this.quillEditor.setContents(this.content, 'silent');\n        } else if (format === 'text') {\n          this.quillEditor.setText(this.content, 'silent');\n        } else if (format === 'json') {\n          try {\n            this.quillEditor.setContents(JSON.parse(this.content), 'silent');\n          } catch (e) {\n            this.quillEditor.setText(this.content, 'silent');\n          }\n        } else {\n          if (this.sanitize) {\n            this.content = this.domSanitizer.sanitize(SecurityContext.HTML, this.content);\n          }\n\n          var contents = this.quillEditor.clipboard.convert(this.content);\n          this.quillEditor.setContents(contents, 'silent');\n        }\n\n        this.quillEditor.history.clear();\n      } // initialize disabled status based on this.disabled as default value\n\n\n      this.setDisabledState(); // mark model as touched if editor lost focus\n\n      this.quillEditor.on('selection-change', this.selectionChangeHandler); // update model if text changes\n\n      this.quillEditor.on('text-change', this.textChangeHandler); // trigger created in a timeout to avoid changed models after checked\n      // if you are using the editor api in created output to change the editor content\n\n      setTimeout(function () {\n        return _this2.onEditorCreated.emit(_this2.quillEditor);\n      });\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.quillEditor) {\n        this.quillEditor.off('selection-change', this.selectionChangeHandler);\n        this.quillEditor.off('text-change', this.textChangeHandler);\n      }\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      var _this3 = this;\n\n      if (!this.quillEditor) {\n        return;\n      } // tslint:disable:no-string-literal\n\n\n      if (changes['readOnly']) {\n        this.quillEditor.enable(!changes['readOnly'].currentValue);\n      }\n\n      if (changes['placeholder']) {\n        this.quillEditor.root.dataset.placeholder = changes['placeholder'].currentValue;\n      }\n\n      if (changes['styles']) {\n        var currentStyling = changes['styles'].currentValue;\n        var previousStyling = changes['styles'].previousValue;\n\n        if (previousStyling) {\n          Object.keys(previousStyling).forEach(function (key) {\n            _this3.renderer.removeStyle(_this3.editorElem, key);\n          });\n        }\n\n        if (currentStyling) {\n          Object.keys(currentStyling).forEach(function (key) {\n            _this3.renderer.setStyle(_this3.editorElem, key, _this3.styles[key]);\n          });\n        }\n      } // tslint:enable:no-string-literal\n\n    }\n  }, {\n    key: \"writeValue\",\n    value: function writeValue(currentValue) {\n      this.content = currentValue;\n      var format = getFormat(this.format, this.config.format);\n\n      if (this.quillEditor) {\n        if (currentValue) {\n          if (format === 'text') {\n            this.quillEditor.setText(currentValue);\n          } else {\n            this.quillEditor.setContents(this.valueSetter(this.quillEditor, this.content));\n          }\n\n          return;\n        }\n\n        this.quillEditor.setText('');\n      }\n    }\n  }, {\n    key: \"setDisabledState\",\n    value: function setDisabledState() {\n      var isDisabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.disabled;\n      // store initial value to set appropriate disabled status after ViewInit\n      this.disabled = isDisabled;\n\n      if (this.quillEditor) {\n        if (isDisabled) {\n          this.quillEditor.disable();\n          this.renderer.setAttribute(this.elementRef.nativeElement, 'disabled', 'disabled');\n        } else {\n          if (!this.readOnly) {\n            this.quillEditor.enable();\n          }\n\n          this.renderer.removeAttribute(this.elementRef.nativeElement, 'disabled');\n        }\n      }\n    }\n  }, {\n    key: \"registerOnChange\",\n    value: function registerOnChange(fn) {\n      this.onModelChange = fn;\n    }\n  }, {\n    key: \"registerOnTouched\",\n    value: function registerOnTouched(fn) {\n      this.onModelTouched = fn;\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      if (!this.quillEditor) {\n        return null;\n      }\n\n      var err = {};\n      var valid = true;\n      var textLength = this.quillEditor.getText().trim().length;\n\n      if (this.minLength && textLength && textLength < this.minLength) {\n        err.minLengthError = {\n          given: textLength,\n          minLength: this.minLength\n        };\n        valid = false;\n      }\n\n      if (this.maxLength && textLength > this.maxLength) {\n        err.maxLengthError = {\n          given: textLength,\n          maxLength: this.maxLength\n        };\n        valid = false;\n      }\n\n      if (this.required && !textLength) {\n        err.requiredError = {\n          empty: true\n        };\n        valid = false;\n      }\n\n      return valid ? null : err;\n    }\n  }]);\n\n  return QuillEditorComponent;\n}();\n\nQuillEditorComponent.ɵfac = function QuillEditorComponent_Factory(t) {\n  return new (t || QuillEditorComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DomSanitizer), ɵngcc0.ɵɵdirectiveInject(DOCUMENT), ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(QUILL_CONFIG_TOKEN));\n};\n\nQuillEditorComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: QuillEditorComponent,\n  selectors: [[\"quill-editor\"]],\n  inputs: {\n    required: \"required\",\n    customToolbarPosition: \"customToolbarPosition\",\n    sanitize: \"sanitize\",\n    styles: \"styles\",\n    strict: \"strict\",\n    customOptions: \"customOptions\",\n    preserveWhitespace: \"preserveWhitespace\",\n    valueGetter: \"valueGetter\",\n    valueSetter: \"valueSetter\",\n    format: \"format\",\n    theme: \"theme\",\n    modules: \"modules\",\n    debug: \"debug\",\n    readOnly: \"readOnly\",\n    placeholder: \"placeholder\",\n    maxLength: \"maxLength\",\n    minLength: \"minLength\",\n    formats: \"formats\",\n    scrollingContainer: \"scrollingContainer\",\n    bounds: \"bounds\",\n    trackChanges: \"trackChanges\"\n  },\n  outputs: {\n    onEditorCreated: \"onEditorCreated\",\n    onContentChanged: \"onContentChanged\",\n    onSelectionChanged: \"onSelectionChanged\",\n    onFocus: \"onFocus\",\n    onBlur: \"onBlur\"\n  },\n  features: [ɵngcc0.ɵɵProvidersFeature([{\n    multi: true,\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(function () {\n      return QuillEditorComponent_1;\n    })\n  }, {\n    multi: true,\n    provide: NG_VALIDATORS,\n    useExisting: forwardRef(function () {\n      return QuillEditorComponent_1;\n    })\n  }]), ɵngcc0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c1,\n  decls: 1,\n  vars: 0,\n  template: function QuillEditorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef(_c0);\n      ɵngcc0.ɵɵprojection(0);\n    }\n  },\n  encapsulation: 2\n});\n\n__decorate([Input(), __metadata(\"design:type\", String)], QuillEditorComponent.prototype, \"format\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", String)], QuillEditorComponent.prototype, \"theme\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Object)], QuillEditorComponent.prototype, \"modules\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Object)], QuillEditorComponent.prototype, \"debug\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Boolean)], QuillEditorComponent.prototype, \"readOnly\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", String)], QuillEditorComponent.prototype, \"placeholder\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Number)], QuillEditorComponent.prototype, \"maxLength\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Number)], QuillEditorComponent.prototype, \"minLength\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Boolean)], QuillEditorComponent.prototype, \"required\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Array)], QuillEditorComponent.prototype, \"formats\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", String)], QuillEditorComponent.prototype, \"customToolbarPosition\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Boolean)], QuillEditorComponent.prototype, \"sanitize\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Object)], QuillEditorComponent.prototype, \"styles\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Boolean)], QuillEditorComponent.prototype, \"strict\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Object)], QuillEditorComponent.prototype, \"scrollingContainer\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Object)], QuillEditorComponent.prototype, \"bounds\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Array)], QuillEditorComponent.prototype, \"customOptions\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", String)], QuillEditorComponent.prototype, \"trackChanges\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Boolean)], QuillEditorComponent.prototype, \"preserveWhitespace\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", EventEmitter)], QuillEditorComponent.prototype, \"onEditorCreated\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", EventEmitter)], QuillEditorComponent.prototype, \"onContentChanged\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", EventEmitter)], QuillEditorComponent.prototype, \"onSelectionChanged\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", EventEmitter)], QuillEditorComponent.prototype, \"onFocus\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", EventEmitter)], QuillEditorComponent.prototype, \"onBlur\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Object)], QuillEditorComponent.prototype, \"valueGetter\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Object)], QuillEditorComponent.prototype, \"valueSetter\", void 0);\n\nQuillEditorComponent = QuillEditorComponent_1 = __decorate([__param(2, Inject(DOCUMENT)), __param(3, Inject(PLATFORM_ID)), __param(6, Inject(QUILL_CONFIG_TOKEN)), __metadata(\"design:paramtypes\", [ElementRef, DomSanitizer, Object, Object, Renderer2, NgZone, Object])], QuillEditorComponent);\n\nvar QuillViewHTMLComponent = /*#__PURE__*/function () {\n  function QuillViewHTMLComponent(sanitizer, config) {\n    _classCallCheck(this, QuillViewHTMLComponent);\n\n    this.sanitizer = sanitizer;\n    this.config = config;\n    this.innerHTML = '';\n    this.themeClass = 'ql-snow';\n    this.content = '';\n  }\n\n  _createClass(QuillViewHTMLComponent, [{\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      if (changes.theme) {\n        var theme = changes.theme.currentValue || (this.config.theme ? this.config.theme : 'snow');\n        this.themeClass = \"ql-\".concat(theme, \" ngx-quill-view-html\");\n      } else if (!this.theme) {\n        var _theme = this.config.theme ? this.config.theme : 'snow';\n\n        this.themeClass = \"ql-\".concat(_theme, \" ngx-quill-view-html\");\n      }\n\n      if (changes.content) {\n        this.innerHTML = this.sanitizer.bypassSecurityTrustHtml(changes.content.currentValue);\n      }\n    }\n  }]);\n\n  return QuillViewHTMLComponent;\n}();\n\nQuillViewHTMLComponent.ɵfac = function QuillViewHTMLComponent_Factory(t) {\n  return new (t || QuillViewHTMLComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DomSanitizer), ɵngcc0.ɵɵdirectiveInject(QUILL_CONFIG_TOKEN));\n};\n\nQuillViewHTMLComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: QuillViewHTMLComponent,\n  selectors: [[\"quill-view-html\"]],\n  inputs: {\n    content: \"content\",\n    theme: \"theme\"\n  },\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  decls: 2,\n  vars: 2,\n  consts: [[1, \"ql-container\", 3, \"ngClass\"], [1, \"ql-editor\", 3, \"innerHTML\"]],\n  template: function QuillViewHTMLComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n      ɵngcc0.ɵɵelement(1, \"div\", 1);\n      ɵngcc0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"ngClass\", ctx.themeClass);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"innerHTML\", ctx.innerHTML, ɵngcc0.ɵɵsanitizeHtml);\n    }\n  },\n  directives: [ɵngcc2.NgClass],\n  styles: [\"\\n.ql-container.ngx-quill-view-html {\\n  border: 0;\\n}\\n\"],\n  encapsulation: 2\n});\n\n__decorate([Input(), __metadata(\"design:type\", String)], QuillViewHTMLComponent.prototype, \"content\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", String)], QuillViewHTMLComponent.prototype, \"theme\", void 0);\n\nQuillViewHTMLComponent = __decorate([__param(1, Inject(QUILL_CONFIG_TOKEN)), __metadata(\"design:paramtypes\", [DomSanitizer, Object])], QuillViewHTMLComponent); // tslint:disable-next-line:variable-name\n\nvar Quill$1 = null;\n\nvar getFormat$1 = function getFormat$1(format, configFormat) {\n  var passedFormat = format || configFormat;\n  return passedFormat || 'html';\n};\n\nvar QuillViewComponent = /*#__PURE__*/function () {\n  function QuillViewComponent( // tslint:disable-next-line:ban-types\n  platformId, config, renderer, elementRef) {\n    var _this4 = this;\n\n    _classCallCheck(this, QuillViewComponent);\n\n    this.platformId = platformId;\n    this.config = config;\n    this.renderer = renderer;\n    this.elementRef = elementRef;\n    this.strict = true;\n    this.customOptions = [];\n    this.preserveWhitespace = false;\n\n    this.valueSetter = function (quillEditor, value) {\n      var format = getFormat$1(_this4.format, _this4.config.format);\n      var content = value;\n\n      if (format === 'html' || format === 'text') {\n        content = quillEditor.clipboard.convert(value);\n      } else if (format === 'json') {\n        try {\n          content = JSON.parse(value);\n        } catch (e) {\n          content = [{\n            insert: value\n          }];\n        }\n      }\n\n      quillEditor.setContents(content);\n    };\n  }\n\n  _createClass(QuillViewComponent, [{\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      if (!this.quillEditor) {\n        return;\n      }\n\n      if (changes.content) {\n        this.valueSetter(this.quillEditor, changes.content.currentValue);\n      }\n    }\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      if (isPlatformServer(this.platformId)) {\n        return;\n      }\n\n      if (!Quill$1) {\n        Quill$1 = require('quill');\n      }\n\n      var modules = this.modules || this.config.modules || defaultModules;\n      modules.toolbar = false;\n      this.customOptions.forEach(function (customOption) {\n        var newCustomOption = Quill$1.import(customOption.import);\n        newCustomOption.whitelist = customOption.whitelist;\n        Quill$1.register(newCustomOption, true);\n      });\n      var debug = this.debug;\n\n      if (!debug && debug !== false && this.config.debug) {\n        debug = this.config.debug;\n      }\n\n      var formats = this.formats;\n\n      if (!formats && formats === undefined) {\n        formats = this.config.formats || this.config.formats === null ? this.config.formats : undefined;\n      }\n\n      var theme = this.theme || (this.config.theme ? this.config.theme : 'snow');\n      this.elementRef.nativeElement.insertAdjacentHTML('afterbegin', this.preserveWhitespace ? '<pre quill-view-element></pre>' : '<div quill-view-element></div>');\n      this.editorElem = this.elementRef.nativeElement.querySelector('[quill-view-element]');\n      this.quillEditor = new Quill$1(this.editorElem, {\n        debug: debug,\n        formats: formats,\n        modules: modules,\n        readOnly: true,\n        strict: this.strict,\n        theme: theme\n      });\n      this.renderer.addClass(this.editorElem, 'ngx-quill-view');\n\n      if (this.content) {\n        this.valueSetter(this.quillEditor, this.content);\n      }\n    }\n  }]);\n\n  return QuillViewComponent;\n}();\n\nQuillViewComponent.ɵfac = function QuillViewComponent_Factory(t) {\n  return new (t || QuillViewComponent)(ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID), ɵngcc0.ɵɵdirectiveInject(QUILL_CONFIG_TOKEN), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef));\n};\n\nQuillViewComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: QuillViewComponent,\n  selectors: [[\"quill-view\"]],\n  inputs: {\n    strict: \"strict\",\n    customOptions: \"customOptions\",\n    preserveWhitespace: \"preserveWhitespace\",\n    format: \"format\",\n    theme: \"theme\",\n    modules: \"modules\",\n    debug: \"debug\",\n    formats: \"formats\",\n    content: \"content\"\n  },\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  decls: 0,\n  vars: 0,\n  template: function QuillViewComponent_Template(rf, ctx) {},\n  styles: [\"\\n.ql-container.ngx-quill-view {\\n  border: 0;\\n}\\n\"],\n  encapsulation: 2\n});\n\n__decorate([Input(), __metadata(\"design:type\", String)], QuillViewComponent.prototype, \"format\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", String)], QuillViewComponent.prototype, \"theme\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Object)], QuillViewComponent.prototype, \"modules\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Object)], QuillViewComponent.prototype, \"debug\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Array)], QuillViewComponent.prototype, \"formats\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Boolean)], QuillViewComponent.prototype, \"strict\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Object)], QuillViewComponent.prototype, \"content\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Array)], QuillViewComponent.prototype, \"customOptions\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Boolean)], QuillViewComponent.prototype, \"preserveWhitespace\", void 0);\n\nQuillViewComponent = __decorate([__param(0, Inject(PLATFORM_ID)), __param(1, Inject(QUILL_CONFIG_TOKEN)), __metadata(\"design:paramtypes\", [Object, Object, Renderer2, ElementRef])], QuillViewComponent);\nvar QuillModule_1;\n\nvar QuillModule = QuillModule_1 = /*#__PURE__*/function () {\n  function QuillModule() {\n    _classCallCheck(this, QuillModule);\n  }\n\n  _createClass(QuillModule, null, [{\n    key: \"forRoot\",\n    value: function forRoot(config) {\n      return {\n        ngModule: QuillModule_1,\n        providers: [{\n          provide: QUILL_CONFIG_TOKEN,\n          // tslint:disable-next-line:only-arrow-functions\n          useValue: config || {\n            modules: defaultModules\n          }\n        }]\n      };\n    }\n  }]);\n\n  return QuillModule;\n}();\n\nQuillModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: QuillModule\n});\nQuillModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function QuillModule_Factory(t) {\n    return new (t || QuillModule)();\n  },\n  providers: [],\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillEditorComponent, [{\n    type: Component,\n    args: [{\n      encapsulation: ViewEncapsulation.None,\n      providers: [{\n        multi: true,\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(function () {\n          return QuillEditorComponent_1;\n        })\n      }, {\n        multi: true,\n        provide: NG_VALIDATORS,\n        useExisting: forwardRef(function () {\n          return QuillEditorComponent_1;\n        })\n      }],\n      selector: 'quill-editor',\n      template: \"\\n  <ng-content select=\\\"[quill-editor-toolbar]\\\"></ng-content>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc1.DomSanitizer\n    }, {\n      type: Object,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: Object,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }, {\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc0.NgZone\n    }, {\n      type: Object,\n      decorators: [{\n        type: Inject,\n        args: [QUILL_CONFIG_TOKEN]\n      }]\n    }];\n  }, {\n    required: [{\n      type: Input\n    }],\n    customToolbarPosition: [{\n      type: Input\n    }],\n    sanitize: [{\n      type: Input\n    }],\n    styles: [{\n      type: Input\n    }],\n    strict: [{\n      type: Input\n    }],\n    customOptions: [{\n      type: Input\n    }],\n    preserveWhitespace: [{\n      type: Input\n    }],\n    onEditorCreated: [{\n      type: Output\n    }],\n    onContentChanged: [{\n      type: Output\n    }],\n    onSelectionChanged: [{\n      type: Output\n    }],\n    onFocus: [{\n      type: Output\n    }],\n    onBlur: [{\n      type: Output\n    }],\n    valueGetter: [{\n      type: Input\n    }],\n    valueSetter: [{\n      type: Input\n    }],\n    format: [{\n      type: Input\n    }],\n    theme: [{\n      type: Input\n    }],\n    modules: [{\n      type: Input\n    }],\n    debug: [{\n      type: Input\n    }],\n    readOnly: [{\n      type: Input\n    }],\n    placeholder: [{\n      type: Input\n    }],\n    maxLength: [{\n      type: Input\n    }],\n    minLength: [{\n      type: Input\n    }],\n    formats: [{\n      type: Input\n    }],\n    scrollingContainer: [{\n      type: Input\n    }],\n    bounds: [{\n      type: Input\n    }],\n    trackChanges: [{\n      type: Input\n    }]\n  });\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillViewHTMLComponent, [{\n    type: Component,\n    args: [{\n      encapsulation: ViewEncapsulation.None,\n      selector: 'quill-view-html',\n      template: \"\\n  <div class=\\\"ql-container\\\" [ngClass]=\\\"themeClass\\\">\\n    <div class=\\\"ql-editor\\\" [innerHTML]=\\\"innerHTML\\\">\\n    </div>\\n  </div>\\n\",\n      styles: [\"\\n.ql-container.ngx-quill-view-html {\\n  border: 0;\\n}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc1.DomSanitizer\n    }, {\n      type: Object,\n      decorators: [{\n        type: Inject,\n        args: [QUILL_CONFIG_TOKEN]\n      }]\n    }];\n  }, {\n    content: [{\n      type: Input\n    }],\n    theme: [{\n      type: Input\n    }]\n  });\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillViewComponent, [{\n    type: Component,\n    args: [{\n      encapsulation: ViewEncapsulation.None,\n      selector: 'quill-view',\n      template: \"\\n\",\n      styles: [\"\\n.ql-container.ngx-quill-view {\\n  border: 0;\\n}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: Object,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }, {\n      type: Object,\n      decorators: [{\n        type: Inject,\n        args: [QUILL_CONFIG_TOKEN]\n      }]\n    }, {\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc0.ElementRef\n    }];\n  }, {\n    strict: [{\n      type: Input\n    }],\n    customOptions: [{\n      type: Input\n    }],\n    preserveWhitespace: [{\n      type: Input\n    }],\n    format: [{\n      type: Input\n    }],\n    theme: [{\n      type: Input\n    }],\n    modules: [{\n      type: Input\n    }],\n    debug: [{\n      type: Input\n    }],\n    formats: [{\n      type: Input\n    }],\n    content: [{\n      type: Input\n    }]\n  });\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(QuillModule, {\n    declarations: function declarations() {\n      return [QuillEditorComponent, QuillViewComponent, QuillViewHTMLComponent];\n    },\n    imports: function imports() {\n      return [CommonModule];\n    },\n    exports: function exports() {\n      return [QuillEditorComponent, QuillViewComponent, QuillViewHTMLComponent];\n    }\n  });\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [QuillEditorComponent, QuillViewComponent, QuillViewHTMLComponent],\n      exports: [QuillEditorComponent, QuillViewComponent, QuillViewHTMLComponent],\n      imports: [CommonModule],\n      providers: []\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { QUILL_CONFIG_TOKEN, QuillEditorComponent, QuillModule, defaultModules, ɵ0, QuillViewComponent as ɵa, QuillViewHTMLComponent as ɵb };","map":{"version":3,"sources":["ngx-quill/src/quill-defaults.ts","ngx-quill/src/quill-editor.interfaces.ts","ngx-quill/src/quill-editor.component.ts","ngx-quill/src/quill-view-html.component.ts","ngx-quill/src/quill-view.component.ts","ngx-quill/src/quill.module.ts","ngx-quill/ngx-quill.ts"],"names":["tslib_1.__decorate","tslib_1.__param","Quill","getFormat"],"mappings":"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","sourcesContent":["export const defaultModules = {\n  toolbar: [\n    ['bold', 'italic', 'underline', 'strike'], // toggled buttons\n    ['blockquote', 'code-block'],\n\n    [{ header: 1 }, { header: 2 }], // custom button values\n    [{ list: 'ordered' }, { list: 'bullet' }],\n    [{ script: 'sub' }, { script: 'super' }], // superscript/subscript\n    [{ indent: '-1' }, { indent: '+1' }], // outdent/indent\n    [{ direction: 'rtl' }], // text direction\n\n    [{ size: ['small', false, 'large', 'huge'] }], // custom dropdown\n    [{ header: [1, 2, 3, 4, 5, 6, false] }],\n\n    [\n      { color: [] },\n      { background: [] }\n    ], // dropdown with defaults from theme\n    [{ font: [] }],\n    [{ align: [] }],\n\n    ['clean'], // remove formatting button\n\n    ['link', 'image', 'video'] // link and image, video\n  ]\n}\n","import { InjectionToken } from '@angular/core'\n\nexport type QuillToolbarConfig = Array<Array<\n  string | {\n    indent?: string\n    list?: string\n    direction?: string\n    header?: number | Array<boolean | number>\n    color?: string[]\n    background?: string[]\n    align?: string[]\n    script?: string\n    font?: string[]\n    size?: Array<boolean | string>\n  }\n>>\n\nexport interface QuillModules {\n  [key: string]: any\n  clipboard?: {\n    matchers?: any[]\n    matchVisual?: boolean\n  } |Â boolean\n  history?: {\n    delay?: number\n    maxStack?: number\n    userOnly?: boolean\n  } |Â boolean\n  keyboard?: {\n    bindings?: any\n  } | boolean\n  syntax?: boolean\n  toolbar?: QuillToolbarConfig |Â string |Â {\n    container?: string | string[] | QuillToolbarConfig\n    handlers?: {\n      [key: string]: any\n    }\n  } |Â boolean\n}\n\nexport type QuillFormat = 'object' | 'json' | 'html' |Â 'text'\n\nexport interface QuillConfig {\n  bounds?: HTMLElement |Â string\n  debug?: 'error' | 'warn' | 'log' |Â false\n  format?: QuillFormat\n  formats?: any\n  modules?: QuillModules\n  placeholder?: string\n  readOnly?: boolean\n  scrollingContainer?: HTMLElement |Â string |Â null\n  theme?: string\n  // Custom Config to track all changes or only changes by 'user'\n  trackChanges?: 'user' | 'all'\n}\n\nexport const QUILL_CONFIG_TOKEN = new InjectionToken<QuillConfig>('config')\n","import { isPlatformServer } from '@angular/common'\nimport { DomSanitizer } from '@angular/platform-browser'\n\nimport { QUILL_CONFIG_TOKEN, QuillConfig, QuillFormat, QuillModules } from './quill-editor.interfaces'\n\nimport {\n  AfterContentInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  Output,\n  PLATFORM_ID,\n  Renderer2,\n  SecurityContext,\n  SimpleChanges,\n  ViewEncapsulation\n} from '@angular/core'\n\nimport {\n  ControlValueAccessor,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  Validator\n} from '@angular/forms'\n\nimport { DOCUMENT } from '@angular/common'\nimport { defaultModules } from './quill-defaults'\n\n// Because quill uses `document` directly, we cannot `import` during SSR\n// instead, we load dynamically via `require('quill')` in `ngAfterViewInit()`\ndeclare var require: any\n// tslint:disable-next-line:variable-name\nlet Quill: any = null\n\nexport interface CustomOption {\n  import: string\n  whitelist: any[]\n}\n\nexport interface Range {\n  index: number\n  length: number\n}\n\nconst getFormat = (format?: QuillFormat, configFormat?: QuillFormat): QuillFormat => {\n  const passedFormat = format || configFormat\n  return passedFormat || 'html'\n}\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      multi: true,\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => QuillEditorComponent)\n    },\n    {\n      multi: true,\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => QuillEditorComponent)\n    }\n  ],\n  selector: 'quill-editor',\n  template: `\n  <ng-content select=\"[quill-editor-toolbar]\"></ng-content>\n`\n})\nexport class QuillEditorComponent\n  implements AfterContentInit, ControlValueAccessor, OnChanges, OnDestroy, Validator {\n\n  quillEditor: any\n  editorElem: HTMLElement | undefined\n  content: any\n\n  @Input() format?: 'object' | 'html' | 'text' | 'json'\n  @Input() theme?: string\n  @Input() modules?: QuillModules\n  @Input() debug?: 'warn' |Â 'log' |Â 'error' |Â false\n  @Input() readOnly?: boolean\n  @Input() placeholder?: string\n  @Input() maxLength?: number\n  @Input() minLength?: number\n  @Input() required: boolean = false\n  @Input() formats?: string[] |Â null\n  @Input() customToolbarPosition: 'top' |Â 'bottom' = 'top'\n  @Input() sanitize: boolean = false\n  @Input() styles: any = null\n  @Input() strict: boolean = true\n  @Input() scrollingContainer?: HTMLElement | string | null\n  @Input() bounds?: HTMLElement | string\n  @Input() customOptions: CustomOption[] = []\n  @Input() trackChanges?: 'user' |Â 'all'\n  @Input() preserveWhitespace: boolean = false\n\n  @Output() onEditorCreated: EventEmitter<any> = new EventEmitter()\n  @Output() onContentChanged: EventEmitter<{\n    content: any\n    delta: any\n    editor: any\n    html: string | null\n    oldDelta: any\n    source: string\n    text: string\n  }> = new EventEmitter()\n  @Output() onSelectionChanged: EventEmitter<{\n    editor: any\n    oldRange: Range | null\n    range: Range |Â null\n    source: string\n  }> = new EventEmitter()\n  @Output() onFocus: EventEmitter<{\n    editor: any\n    source: string\n  }> = new EventEmitter()\n  @Output() onBlur: EventEmitter<{\n    editor: any\n    source: string\n  }> = new EventEmitter()\n\n  disabled = false // used to store initial value before ViewInit\n\n  constructor(\n    private elementRef: ElementRef,\n    private domSanitizer: DomSanitizer,\n    @Inject(DOCUMENT) private doc: any,\n    // tslint:disable-next-line:ban-types\n    @Inject(PLATFORM_ID) private platformId: Object,\n    private renderer: Renderer2,\n    private zone: NgZone,\n    @Inject(QUILL_CONFIG_TOKEN) private config: QuillConfig\n  ) {}\n\n  // tslint:disable-next-line:no-empty\n  onModelChange(_modelValue?: any) {}\n  // tslint:disable-next-line:no-empty\n  onModelTouched() {}\n\n  @Input()\n  valueGetter = (quillEditor: any, editorElement: HTMLElement): string | anyÂ  => {\n    let html: string | null = editorElement.querySelector('.ql-editor')!.innerHTML\n    if (html === '<p><br></p>' || html === '<div><br><div>') {\n      html = null\n    }\n    let modelValue = html\n    const format = getFormat(this.format, this.config.format)\n\n    if (format === 'text') {\n      modelValue = quillEditor.getText()\n    } else if (format === 'object') {\n      modelValue = quillEditor.getContents()\n    } else if (format === 'json') {\n      try {\n        modelValue = JSON.stringify(quillEditor.getContents())\n      } catch (e) {\n        modelValue = quillEditor.getText()\n      }\n    }\n\n    return modelValue\n  }\n\n  @Input()\n  valueSetter = (quillEditor: any, value: any): any => {\n    const format = getFormat(this.format, this.config.format)\n    if (format === 'html') {\n      if (this.sanitize) {\n        value = this.domSanitizer.sanitize(SecurityContext.HTML, value)\n      }\n      return quillEditor.clipboard.convert(value)\n    } else if (format === 'json') {\n      try {\n        return JSON.parse(value)\n      } catch (e) {\n        return [{ insert: value }]\n      }\n    }\n\n    return value\n  }\n\n  ngAfterContentInit() {\n    if (isPlatformServer(this.platformId)) {\n      return\n    }\n    if (!Quill) {\n      Quill = require('quill')\n    }\n\n    this.elementRef.nativeElement.insertAdjacentHTML(\n      this.customToolbarPosition === 'top' ? 'beforeend' : 'afterbegin',\n      this.preserveWhitespace ? '<pre quill-editor-element></pre>' : '<div quill-editor-element></div>'\n    )\n\n    this.editorElem = this.elementRef.nativeElement.querySelector(\n      '[quill-editor-element]'\n    )\n\n    const toolbarElem = this.elementRef.nativeElement.querySelector(\n      '[quill-editor-toolbar]'\n    )\n    const modules = this.modules || (this.config.modules ||Â defaultModules)\n    if (modules.toolbar === undefined) {\n      modules.toolbar = defaultModules.toolbar\n    }\n\n    let placeholder = this.placeholder !== undefined ? this.placeholder : this.config.placeholder\n    if (placeholder === undefined) {\n      placeholder = 'Insert text here ...'\n    }\n\n    if (toolbarElem) {\n      // tslint:disable-next-line:no-string-literal\n      modules['toolbar'] = toolbarElem\n    }\n\n    if (this.styles) {\n      Object.keys(this.styles).forEach((key: string) => {\n        this.renderer.setStyle(this.editorElem, key, this.styles[key])\n      })\n    }\n\n    this.customOptions.forEach((customOption) => {\n      const newCustomOption = Quill.import(customOption.import)\n      newCustomOption.whitelist = customOption.whitelist\n      Quill.register(newCustomOption, true)\n    })\n\n    let bounds = this.bounds && this.bounds === 'self' ? this.editorElem : this.bounds\n    if (!bounds) {\n      bounds = this.config.bounds ? this.config.bounds : this.doc.body\n    }\n\n    let debug = this.debug\n    if (!debug && debug !== false && this.config.debug) {\n      debug = this.config.debug\n    }\n\n    let readOnly = this.readOnly\n    if (!readOnly && this.readOnly !== false) {\n      readOnly = this.config.readOnly !== undefined ? this.config.readOnly : false\n    }\n\n    let scrollingContainer = this.scrollingContainer\n    if (!scrollingContainer && this.scrollingContainer !== null) {\n      scrollingContainer = this.config.scrollingContainer === null ||Â this.config.scrollingContainer ? this.config.scrollingContainer : null\n    }\n\n    let formats = this.formats\n    if (!formats && formats === undefined) {\n      formats = this.config.formats ||Â this.config.formats === null ? this.config.formats : undefined\n    }\n\n    this.quillEditor = new Quill(this.editorElem, {\n      bounds,\n      debug,\n      formats,\n      modules,\n      placeholder,\n      readOnly,\n      scrollingContainer,\n      strict: this.strict,\n      theme: this.theme || (this.config.theme ? this.config.theme : 'snow')\n    })\n\n    if (this.content) {\n      const format = getFormat(this.format, this.config.format)\n      if (format === 'object') {\n        this.quillEditor.setContents(this.content, 'silent')\n      } else if (format === 'text') {\n        this.quillEditor.setText(this.content, 'silent')\n      } else if (format === 'json') {\n        try {\n          this.quillEditor.setContents(JSON.parse(this.content), 'silent')\n        } catch (e) {\n          this.quillEditor.setText(this.content, 'silent')\n        }\n      } else {\n        if (this.sanitize) {\n          this.content = this.domSanitizer.sanitize(SecurityContext.HTML, this.content)\n        }\n        const contents = this.quillEditor.clipboard.convert(this.content)\n        this.quillEditor.setContents(contents, 'silent')\n      }\n\n      this.quillEditor.history.clear()\n    }\n\n    // initialize disabled status based on this.disabled as default value\n    this.setDisabledState()\n\n    // mark model as touched if editor lost focus\n    this.quillEditor.on(\n      'selection-change',\n      this.selectionChangeHandler\n    )\n\n    // update model if text changes\n    this.quillEditor.on(\n      'text-change',\n      this.textChangeHandler\n    )\n\n    // trigger created in a timeout to avoid changed models after checked\n    // if you are using the editor api in created output to change the editor content\n    setTimeout(() => this.onEditorCreated.emit(this.quillEditor))\n  }\n\n  selectionChangeHandler = (range: Range |Â null, oldRange: Range | null, source: string) => {\n    this.zone.run(() => {\n      if (range === null) {\n        this.onBlur.emit({\n          editor: this.quillEditor,\n          source\n        })\n      } else if (oldRange === null) {\n        this.onFocus.emit({\n          editor: this.quillEditor,\n          source\n        })\n      }\n\n      this.onSelectionChanged.emit({\n        editor: this.quillEditor,\n        oldRange,\n        range,\n        source\n      })\n\n      if (!range && this.onModelTouched) {\n        this.onModelTouched()\n      }\n    })\n  }\n\n  textChangeHandler = (delta: any, oldDelta: any, source: string): void => {\n    // only emit changes emitted by user interactions\n\n    const text = this.quillEditor.getText()\n    const content = this.quillEditor.getContents()\n\n    let html: string | null = this.editorElem!.querySelector('.ql-editor')!.innerHTML\n    if (html === '<p><br></p>' || html === '<div><br><div>') {\n      html = null\n    }\n\n    this.zone.run(() => {\n      const trackChanges = this.trackChanges ||Â this.config.trackChanges\n      if ((source === Quill.sources.USER || trackChanges && trackChanges === 'all') && this.onModelChange) {\n        this.onModelChange(\n          this.valueGetter(this.quillEditor, this.editorElem!)\n        )\n      }\n\n      this.onContentChanged.emit({\n        content,\n        delta,\n        editor: this.quillEditor,\n        html,\n        oldDelta,\n        source,\n        text\n      })\n    })\n  }\n\n  ngOnDestroy() {\n    if (this.quillEditor) {\n      this.quillEditor.off('selection-change', this.selectionChangeHandler)\n      this.quillEditor.off('text-change', this.textChangeHandler)\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (!this.quillEditor) {\n      return\n    }\n    // tslint:disable:no-string-literal\n    if (changes['readOnly']) {\n      this.quillEditor.enable(!changes['readOnly'].currentValue)\n    }\n    if (changes['placeholder']) {\n      this.quillEditor.root.dataset.placeholder =\n        changes['placeholder'].currentValue\n    }\n    if (changes['styles']) {\n      const currentStyling = changes['styles'].currentValue\n      const previousStyling = changes['styles'].previousValue\n\n      if (previousStyling) {\n        Object.keys(previousStyling).forEach((key: string) => {\n          this.renderer.removeStyle(this.editorElem, key)\n        })\n      }\n      if (currentStyling) {\n        Object.keys(currentStyling).forEach((key: string) => {\n          this.renderer.setStyle(this.editorElem, key, this.styles[key])\n        })\n      }\n    }\n    // tslint:enable:no-string-literal\n  }\n\n  writeValue(currentValue: any) {\n    this.content = currentValue\n    const format = getFormat(this.format, this.config.format)\n\n    if (this.quillEditor) {\n      if (currentValue) {\n        if (format === 'text') {\n          this.quillEditor.setText(currentValue)\n        } else {\n          this.quillEditor.setContents(\n            this.valueSetter(this.quillEditor, this.content)\n          )\n        }\n        return\n      }\n      this.quillEditor.setText('')\n    }\n  }\n\n  setDisabledState(isDisabled: boolean = this.disabled): void {\n    // store initial value to set appropriate disabled status after ViewInit\n    this.disabled = isDisabled\n    if (this.quillEditor) {\n      if (isDisabled) {\n        this.quillEditor.disable()\n        this.renderer.setAttribute(this.elementRef.nativeElement, 'disabled', 'disabled')\n      } else {\n        if (!this.readOnly) {\n          this.quillEditor.enable()\n        }\n        this.renderer.removeAttribute(this.elementRef.nativeElement, 'disabled')\n      }\n    }\n  }\n\n  registerOnChange(fn: (modelValue: any) => void): void {\n    this.onModelChange = fn\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onModelTouched = fn\n  }\n\n  validate() {\n    if (!this.quillEditor) {\n      return null\n    }\n\n    const err: {\n      minLengthError?: {\n        given: number\n        minLength: number\n      }\n      maxLengthError?: {\n        given: number\n        maxLength: number\n      }\n      requiredError?: { empty: boolean }\n    } = {}\n    let valid = true\n\n    const textLength = this.quillEditor.getText().trim().length\n\n    if (this.minLength && textLength && textLength < this.minLength) {\n      err.minLengthError = {\n        given: textLength,\n        minLength: this.minLength\n      }\n\n      valid = false\n    }\n\n    if (this.maxLength && textLength > this.maxLength) {\n      err.maxLengthError = {\n        given: textLength,\n        maxLength: this.maxLength\n      }\n\n      valid = false\n    }\n\n    if (this.required && !textLength) {\n      err.requiredError = {\n        empty: true\n      }\n\n      valid = false\n    }\n\n    return valid ? null : err\n  }\n}\n","import { DomSanitizer, SafeHtml } from '@angular/platform-browser'\n\nimport { QUILL_CONFIG_TOKEN, QuillConfig } from './quill-editor.interfaces'\n\nimport {\n  Component,\n  Inject,\n  Input,\n  OnChanges,\n  SimpleChanges,\n  ViewEncapsulation\n} from '@angular/core'\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  selector: 'quill-view-html',\n  styles: [`\n.ql-container.ngx-quill-view-html {\n  border: 0;\n}\n`],\n  template: `\n  <div class=\"ql-container\" [ngClass]=\"themeClass\">\n    <div class=\"ql-editor\" [innerHTML]=\"innerHTML\">\n    </div>\n  </div>\n`\n})\nexport class QuillViewHTMLComponent implements OnChanges {\n  innerHTML: SafeHtml = ''\n  themeClass: string = 'ql-snow'\n\n  @Input() content: string = ''\n  @Input() theme?: string\n\n  constructor(\n    private sanitizer: DomSanitizer,\n    @Inject(QUILL_CONFIG_TOKEN) private config: QuillConfig\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.theme) {\n      const theme = changes.theme.currentValue || (this.config.theme ? this.config.theme : 'snow')\n      this.themeClass = `ql-${theme} ngx-quill-view-html`\n    } else if (!this.theme) {\n      const theme = this.config.theme ? this.config.theme : 'snow'\n      this.themeClass = `ql-${theme} ngx-quill-view-html`\n    }\n    if (changes.content) {\n      this.innerHTML = this.sanitizer.bypassSecurityTrustHtml(changes.content.currentValue)\n    }\n  }\n}\n","import { isPlatformServer } from '@angular/common'\n\nimport { QUILL_CONFIG_TOKEN, QuillConfig, QuillFormat, QuillModules } from './quill-editor.interfaces'\n\nimport {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  Inject,\n  Input,\n  OnChanges,\n  PLATFORM_ID,\n  Renderer2,\n  SimpleChanges,\n  ViewEncapsulation\n} from '@angular/core'\n\nimport { defaultModules } from './quill-defaults'\nimport { CustomOption } from './quill-editor.component'\n\n// Because quill uses `document` directly, we cannot `import` during SSR\n// instead, we load dynamically via `require('quill')` in `ngAfterViewInit()`\ndeclare var require: any\n// tslint:disable-next-line:variable-name\nlet Quill: any = null\n\nconst getFormat = (format?: QuillFormat, configFormat?: QuillFormat): QuillFormat => {\n  const passedFormat = format || configFormat\n  return passedFormat || 'html'\n}\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  selector: 'quill-view',\n  styles: [`\n.ql-container.ngx-quill-view {\n  border: 0;\n}\n`],\n  template: `\n`\n})\nexport class QuillViewComponent implements AfterViewInit, OnChanges {\n  quillEditor: any\n  editorElem: HTMLElement | undefined\n\n  @Input() format?: 'object' | 'html' | 'text' | 'json'\n  @Input() theme?: string\n  @Input() modules?: QuillModules\n  @Input() debug?: 'warn' |Â 'log' |Â 'error' |Â false\n  @Input() formats?: string[] |Â null\n  @Input() strict: boolean = true\n  @Input() content: any\n  @Input() customOptions: CustomOption[] = []\n  @Input() preserveWhitespace: boolean = false\n\n  constructor(\n    // tslint:disable-next-line:ban-types\n    @Inject(PLATFORM_ID) private platformId: Object,\n    @Inject(QUILL_CONFIG_TOKEN) private config: QuillConfig,\n    private renderer: Renderer2,\n    private elementRef: ElementRef\n  ) {}\n\n  valueSetter = (quillEditor: any, value: any): any => {\n    const format = getFormat(this.format, this.config.format)\n    let content = value\n    if (format === 'html' ||Â format === 'text') {\n      content = quillEditor.clipboard.convert(value)\n    } else if (format === 'json') {\n      try {\n        content = JSON.parse(value)\n      } catch (e) {\n        content = [{ insert: value }]\n      }\n    }\n    quillEditor.setContents(content)\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.quillEditor) {\n      return\n    }\n    if (changes.content) {\n      this.valueSetter(this.quillEditor, changes.content.currentValue)\n    }\n  }\n\n  ngAfterViewInit() {\n    if (isPlatformServer(this.platformId)) {\n      return\n    }\n    if (!Quill) {\n      Quill = require('quill')\n    }\n\n    const modules = this.modules || (this.config.modules ||Â defaultModules)\n    modules.toolbar = false\n\n    this.customOptions.forEach((customOption) => {\n      const newCustomOption = Quill.import(customOption.import)\n      newCustomOption.whitelist = customOption.whitelist\n      Quill.register(newCustomOption, true)\n    })\n\n    let debug = this.debug\n    if (!debug && debug !== false && this.config.debug) {\n      debug = this.config.debug\n    }\n\n    let formats = this.formats\n    if (!formats && formats === undefined) {\n      formats = this.config.formats ||Â this.config.formats === null ? this.config.formats : undefined\n    }\n    const theme = this.theme || (this.config.theme ? this.config.theme : 'snow')\n\n    this.elementRef.nativeElement.insertAdjacentHTML(\n      'afterbegin',\n      this.preserveWhitespace ? '<pre quill-view-element></pre>' : '<div quill-view-element></div>'\n    )\n\n    this.editorElem = this.elementRef.nativeElement.querySelector(\n      '[quill-view-element]'\n    )\n\n    this.quillEditor = new Quill(this.editorElem, {\n      debug,\n      formats,\n      modules,\n      readOnly: true,\n      strict: this.strict,\n      theme\n    })\n\n    this.renderer.addClass(this.editorElem, 'ngx-quill-view')\n\n    if (this.content) {\n      this.valueSetter(this.quillEditor, this.content)\n    }\n  }\n}\n","import { CommonModule } from '@angular/common'\nimport { ModuleWithProviders, NgModule } from '@angular/core'\n\nimport { defaultModules } from './quill-defaults'\nimport { QuillEditorComponent } from './quill-editor.component'\nimport { QUILL_CONFIG_TOKEN, QuillConfig } from './quill-editor.interfaces'\nimport { QuillViewHTMLComponent } from './quill-view-html.component'\nimport { QuillViewComponent } from './quill-view.component'\n\n@NgModule({\n  declarations: [\n    QuillEditorComponent,\n    QuillViewComponent,\n    QuillViewHTMLComponent\n  ],\n  exports: [QuillEditorComponent, QuillViewComponent, QuillViewHTMLComponent],\n  imports: [CommonModule],\n  providers: []\n})\nexport class QuillModule {\n  static forRoot(config?: QuillConfig): ModuleWithProviders {\n    return {\n      ngModule: QuillModule,\n      providers: [\n        {\n          provide: QUILL_CONFIG_TOKEN,\n          // tslint:disable-next-line:only-arrow-functions\n          useValue: config ||Â {Â modules: defaultModules }\n        }\n      ]\n    }\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {QuillViewHTMLComponent as Éµb} from './src/quill-view-html.component';\nexport {QuillViewComponent as Éµa} from './src/quill-view.component';"]},"metadata":{},"sourceType":"module"}