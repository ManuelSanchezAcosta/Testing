{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{FP2o:function(t,e,n){var o,i;void 0===(i=\"function\"==typeof(o=function(){\"use strict\";return function(t,e){var n,o,i,r,a,s,l,c,p,u,d,m,f,g,h,w,_,b,v=this,x=!1,y=!0,C=!0,O={barsSize:{top:44,bottom:\"auto\"},closeElClasses:[\"item\",\"caption\",\"zoom-wrap\",\"ui\",\"top-bar\"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML=\"\",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:\"facebook\",label:\"Share on Facebook\",url:\"https://www.facebook.com/sharer/sharer.php?u={{url}}\"},{id:\"twitter\",label:\"Tweet\",url:\"https://twitter.com/intent/tweet?text={{text}}&url={{url}}\"},{id:\"pinterest\",label:\"Pin it\",url:\"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}\"},{id:\"download\",label:\"Download image\",url:\"{{raw_image_url}}\",download:!0}],getImageURLForShare:function(){return t.currItem.src||\"\"},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return t.currItem.title||\"\"},indexIndicatorSep:\" / \",fitControlsWidth:1200},M=function(t){if(w)return!0;t=t||window.event,h.timeToIdle&&h.mouseUsed&&!p&&z();for(var n,o,i=(t.target||t.srcElement).getAttribute(\"class\")||\"\",r=0;r<Z.length;r++)(n=Z[r]).onTap&&i.indexOf(\"pswp__\"+n.name)>-1&&(n.onTap(),o=!0);o&&(t.stopPropagation&&t.stopPropagation(),w=!0,setTimeout(function(){w=!1},e.features.isOldAndroid?600:30))},P=function(t,n,o){e[(o?\"add\":\"remove\")+\"Class\"](t,\"pswp__\"+n)},k=function(){var t=1===h.getNumItemsFn();t!==g&&(P(o,\"ui--one-slide\",t),g=t)},I=function(){P(l,\"share-modal--hidden\",C)},T=function(){return(C=!C)?(e.removeClass(l,\"pswp__share-modal--fade-in\"),setTimeout(function(){C&&I()},300)):(I(),setTimeout(function(){C||e.addClass(l,\"pswp__share-modal--fade-in\")},30)),C||D(),!1},E=function(e){var n=(e=e||window.event).target||e.srcElement;return t.shout(\"shareLinkClick\",e,n),!(!n.href||!n.hasAttribute(\"download\")&&(window.open(n.href,\"pswp_share\",\"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=\"+(window.screen?Math.round(screen.width/2-275):100)),C||T(),1))},D=function(){for(var t,e,n,o,i=\"\",r=0;r<h.shareButtons.length;r++)e=h.getImageURLForShare(t=h.shareButtons[r]),n=h.getPageURLForShare(t),o=h.getTextForShare(t),i+='<a href=\"'+t.url.replace(\"{{url}}\",encodeURIComponent(n)).replace(\"{{image_url}}\",encodeURIComponent(e)).replace(\"{{raw_image_url}}\",e).replace(\"{{text}}\",encodeURIComponent(o))+'\" target=\"_blank\" class=\"pswp__share--'+t.id+'\"'+(t.download?\"download\":\"\")+\">\"+t.label+\"</a>\",h.parseShareButtonOut&&(i=h.parseShareButtonOut(t,i));l.children[0].innerHTML=i,l.children[0].onclick=E},S=function(t){for(var n=0;n<h.closeElClasses.length;n++)if(e.hasClass(t,\"pswp__\"+h.closeElClasses[n]))return!0},F=0,z=function(){clearTimeout(b),F=0,p&&v.setIdle(!1)},A=function(t){var e=(t=t||window.event).relatedTarget||t.toElement;e&&\"HTML\"!==e.nodeName||(clearTimeout(b),b=setTimeout(function(){v.setIdle(!0)},h.timeToIdleOutside))},L=function(t){m!==t&&(P(d,\"preloader--active\",!t),m=t)},R=function(n){var a=n.vGap;if(!t.likelyTouchDevice||h.mouseUsed||screen.width>h.fitControlsWidth){var s=h.barsSize;h.captionEl&&\"auto\"===s.bottom?(r||((r=e.createEl(\"pswp__caption pswp__caption--fake\")).appendChild(e.createEl(\"pswp__caption__center\")),o.insertBefore(r,i),e.addClass(o,\"pswp__ui--fit\")),a.bottom=h.addCaptionHTMLFn(n,r,!0)?parseInt(r.clientHeight,10)||44:s.top):a.bottom=\"auto\"===s.bottom?0:s.bottom,a.top=s.top}else a.top=a.bottom=0},Z=[{name:\"caption\",option:\"captionEl\",onInit:function(t){i=t}},{name:\"share-modal\",option:\"shareEl\",onInit:function(t){l=t},onTap:function(){T()}},{name:\"button--share\",option:\"shareEl\",onInit:function(t){s=t},onTap:function(){T()}},{name:\"button--zoom\",option:\"zoomEl\",onTap:t.toggleDesktopZoom},{name:\"counter\",option:\"counterEl\",onInit:function(t){a=t}},{name:\"button--close\",option:\"closeEl\",onTap:t.close},{name:\"button--arrow--left\",option:\"arrowEl\",onTap:t.prev},{name:\"button--arrow--right\",option:\"arrowEl\",onTap:t.next},{name:\"button--fs\",option:\"fullscreenEl\",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:\"preloader\",option:\"preloaderEl\",onInit:function(t){d=t}}];v.init=function(){var a;e.extend(t.options,O,!0),h=t.options,o=e.getChildByClass(t.scrollWrap,\"pswp__ui\"),(u=t.listen)(\"onVerticalDrag\",function(t){y&&t<.95?v.hideControls():!y&&t>=.95&&v.showControls()}),u(\"onPinchClose\",function(t){y&&t<.9?(v.hideControls(),a=!0):a&&!y&&t>.9&&v.showControls()}),u(\"zoomGestureEnded\",function(){(a=!1)&&!y&&v.showControls()}),u(\"beforeChange\",v.update),u(\"doubleTap\",function(e){var n=t.currItem.initialZoomLevel;t.getZoomLevel()!==n?t.zoomTo(n,e,333):t.zoomTo(h.getDoubleTapZoom(!1,t.currItem),e,333)}),u(\"preventDragEvent\",function(t,e,n){var o=t.target||t.srcElement;o&&o.getAttribute(\"class\")&&t.type.indexOf(\"mouse\")>-1&&(o.getAttribute(\"class\").indexOf(\"__caption\")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),u(\"bindEvents\",function(){e.bind(o,\"pswpTap click\",M),e.bind(t.scrollWrap,\"pswpTap\",v.onGlobalTap),t.likelyTouchDevice||e.bind(t.scrollWrap,\"mouseover\",v.onMouseOver)}),u(\"unbindEvents\",function(){C||T(),_&&clearInterval(_),e.unbind(document,\"mouseout\",A),e.unbind(document,\"mousemove\",z),e.unbind(o,\"pswpTap click\",M),e.unbind(t.scrollWrap,\"pswpTap\",v.onGlobalTap),e.unbind(t.scrollWrap,\"mouseover\",v.onMouseOver),n&&(e.unbind(document,n.eventK,v.updateFullscreen),n.isFullscreen()&&(h.hideAnimationDuration=0,n.exit()),n=null)}),u(\"destroy\",function(){h.captionEl&&(r&&o.removeChild(r),e.removeClass(i,\"pswp__caption--empty\")),l&&(l.children[0].onclick=null),e.removeClass(o,\"pswp__ui--over-close\"),e.addClass(o,\"pswp__ui--hidden\"),v.setIdle(!1)}),h.showAnimationDuration||e.removeClass(o,\"pswp__ui--hidden\"),u(\"initialZoomIn\",function(){h.showAnimationDuration&&e.removeClass(o,\"pswp__ui--hidden\")}),u(\"initialZoomOut\",function(){e.addClass(o,\"pswp__ui--hidden\")}),u(\"parseVerticalMargin\",R),function(){var t,n,i,r=function(o){if(o)for(var r=o.length,a=0;a<r;a++){n=(t=o[a]).className;for(var s=0;s<Z.length;s++)n.indexOf(\"pswp__\"+(i=Z[s]).name)>-1&&(h[i.option]?(e.removeClass(t,\"pswp__element--disabled\"),i.onInit&&i.onInit(t)):e.addClass(t,\"pswp__element--disabled\"))}};r(o.children);var a=e.getChildByClass(o,\"pswp__top-bar\");a&&r(a.children)}(),h.shareEl&&s&&l&&(C=!0),k(),h.timeToIdle&&u(\"mouseUsed\",function(){e.bind(document,\"mousemove\",z),e.bind(document,\"mouseout\",A),_=setInterval(function(){2==++F&&v.setIdle(!0)},h.timeToIdle/2)}),h.fullscreenEl&&!e.features.isOldAndroid&&(n||(n=v.getFullscreenAPI()),n?(e.bind(document,n.eventK,v.updateFullscreen),v.updateFullscreen(),e.addClass(t.template,\"pswp--supports-fs\")):e.removeClass(t.template,\"pswp--supports-fs\")),h.preloaderEl&&(L(!0),u(\"beforeChange\",function(){clearTimeout(f),f=setTimeout(function(){t.currItem&&t.currItem.loading?(!t.allowProgressiveImg()||t.currItem.img&&!t.currItem.img.naturalWidth)&&L(!1):L(!0)},h.loadingIndicatorDelay)}),u(\"imageLoadComplete\",function(e,n){t.currItem===n&&L(!0)}))},v.setIdle=function(t){p=t,P(o,\"ui--idle\",t)},v.update=function(){y&&t.currItem?(v.updateIndexIndicator(),h.captionEl&&(h.addCaptionHTMLFn(t.currItem,i),P(i,\"caption--empty\",!t.currItem.title)),x=!0):x=!1,C||T(),k()},v.updateFullscreen=function(o){o&&setTimeout(function(){t.setScrollOffset(0,e.getScrollY())},50),e[(n.isFullscreen()?\"add\":\"remove\")+\"Class\"](t.template,\"pswp--fs\")},v.updateIndexIndicator=function(){h.counterEl&&(a.innerHTML=t.getCurrentIndex()+1+h.indexIndicatorSep+h.getNumItemsFn())},v.onGlobalTap=function(n){var o=(n=n||window.event).target||n.srcElement;if(!w)if(n.detail&&\"mouse\"===n.detail.pointerType){if(S(o))return void t.close();e.hasClass(o,\"pswp__img\")&&(1===t.getZoomLevel()&&t.getZoomLevel()<=t.currItem.fitRatio?h.clickToCloseNonZoomable&&t.close():t.toggleDesktopZoom(n.detail.releasePoint))}else if(h.tapToToggleControls&&(y?v.hideControls():v.showControls()),h.tapToClose&&(e.hasClass(o,\"pswp__img\")||S(o)))return void t.close()},v.onMouseOver=function(t){t=t||window.event,P(o,\"ui--over-close\",S(t.target||t.srcElement))},v.hideControls=function(){e.addClass(o,\"pswp__ui--hidden\"),y=!1},v.showControls=function(){y=!0,x||v.update(),e.removeClass(o,\"pswp__ui--hidden\")},v.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},v.getFullscreenAPI=function(){var e,n=document.documentElement,o=\"fullscreenchange\";return n.requestFullscreen?e={enterK:\"requestFullscreen\",exitK:\"exitFullscreen\",elementK:\"fullscreenElement\",eventK:o}:n.mozRequestFullScreen?e={enterK:\"mozRequestFullScreen\",exitK:\"mozCancelFullScreen\",elementK:\"mozFullScreenElement\",eventK:\"moz\"+o}:n.webkitRequestFullscreen?e={enterK:\"webkitRequestFullscreen\",exitK:\"webkitExitFullscreen\",elementK:\"webkitFullscreenElement\",eventK:\"webkit\"+o}:n.msRequestFullscreen&&(e={enterK:\"msRequestFullscreen\",exitK:\"msExitFullscreen\",elementK:\"msFullscreenElement\",eventK:\"MSFullscreenChange\"}),e&&(e.enter=function(){if(c=h.closeOnScroll,h.closeOnScroll=!1,\"webkitRequestFullscreen\"!==this.enterK)return t.template[this.enterK]();t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return h.closeOnScroll=c,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}})?o.call(e,n,e,t):o)||(t.exports=i)},f5Ne:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return P}),n.d(e,\"b\",function(){return b}),n.d(e,\"e\",function(){return O}),n.d(e,\"d\",function(){return M}),n.d(e,\"c\",function(){return _});var o=n(\"Ji7U\"),i=n(\"LK+K\"),r=n(\"vuIU\"),a=n(\"1OyB\"),s=n(\"SVse\"),l=n(\"sk+M\"),c=n(\"FP2o\"),p=n(\"8Y7J\"),u=[\"ngpLightbox\"],d=function(t){return{\"card-img-top\":t}},m=[\"ngpGallery\"],f=[[[\"ngp-gallery-item\"]]],g=function(t){return{\"card-columns\":t}},h=[\"ngp-gallery-item\"],w=function(){var t=function t(){Object(a.a)(this,t)};return t.\\u0275prov=p.Ob({token:t,factory:t.\\u0275fac=function(e){return new(e||t)},providedIn:\"root\"}),t.ngInjectableDef=Object(p.Ob)({factory:function(){return new t},token:t,providedIn:\"root\"}),t}(),_=function(){var t=function(){function t(e){Object(a.a)(this,t),this.ngp=e}return Object(r.a)(t,[{key:\"ngAfterContentInit\",value:function(){this.ngp.LightboxElement=this.el}}]),t}();return t.\\u0275fac=function(e){return new(e||t)(p.Sb(w))},t.\\u0275cmp=p.Mb({type:t,selectors:[[\"ngp-lightbox\"]],viewQuery:function(t,e){var n;1&t&&p.Xc(u,3),2&t&&p.Fc(n=p.jc())&&(e.el=n.first)},decls:25,vars:0,consts:[[\"tabindex\",\"-1\",\"role\",\"dialog\",\"aria-hidden\",\"true\",1,\"pswp\"],[\"ngpLightbox\",\"\"],[1,\"pswp__bg\"],[1,\"pswp__scroll-wrap\"],[1,\"pswp__container\"],[1,\"pswp__item\"],[1,\"pswp__ui\",\"pswp__ui--hidden\"],[1,\"pswp__top-bar\"],[1,\"pswp__counter\"],[\"title\",\"Close (Esc)\",1,\"pswp__button\",\"pswp__button--close\"],[\"title\",\"Share\",1,\"pswp__button\",\"pswp__button--share\"],[\"title\",\"Toggle fullscreen\",1,\"pswp__button\",\"pswp__button--fs\"],[\"title\",\"Zoom in/out\",1,\"pswp__button\",\"pswp__button--zoom\"],[1,\"pswp__preloader\"],[1,\"pswp__preloader__icn\"],[1,\"pswp__preloader__cut\"],[1,\"pswp__preloader__donut\"],[1,\"pswp__share-modal\",\"pswp__share-modal--hidden\",\"pswp__single-tap\"],[1,\"pswp__share-tooltip\"],[\"title\",\"Previous (arrow left)\",1,\"pswp__button\",\"pswp__button--arrow--left\"],[\"title\",\"Next (arrow right)\",1,\"pswp__button\",\"pswp__button--arrow--right\"],[1,\"pswp__caption\"],[1,\"pswp__caption__center\"]],template:function(t,e){1&t&&(p.Yb(0,\"div\",0,1),p.Tb(2,\"div\",2),p.Yb(3,\"div\",3),p.Yb(4,\"div\",4),p.Tb(5,\"div\",5),p.Tb(6,\"div\",5),p.Tb(7,\"div\",5),p.Xb(),p.Yb(8,\"div\",6),p.Yb(9,\"div\",7),p.Tb(10,\"div\",8),p.Tb(11,\"button\",9),p.Tb(12,\"button\",10),p.Tb(13,\"button\",11),p.Tb(14,\"button\",12),p.Yb(15,\"div\",13),p.Yb(16,\"div\",14),p.Yb(17,\"div\",15),p.Tb(18,\"div\",16),p.Xb(),p.Xb(),p.Xb(),p.Xb(),p.Yb(19,\"div\",17),p.Tb(20,\"div\",18),p.Xb(),p.Tb(21,\"button\",19),p.Tb(22,\"button\",20),p.Yb(23,\"div\",21),p.Tb(24,\"div\",22),p.Xb(),p.Xb(),p.Xb(),p.Xb())},styles:[\".pswp[_ngcontent-%COMP%]{display:none;position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;touch-action:none;z-index:1500;-webkit-text-size-adjust:100%;-webkit-backface-visibility:hidden;outline:0}.pswp[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.pswp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:none}.pswp--animate_opacity[_ngcontent-%COMP%]{opacity:.001;will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--open[_ngcontent-%COMP%]{display:block}.pswp--zoom-allowed[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in}.pswp--zoomed-in[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.pswp--dragging[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.pswp__bg[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;background:#000;opacity:0;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-backface-visibility:hidden;will-change:opacity}.pswp__scroll-wrap[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden}.pswp__container[_ngcontent-%COMP%], .pswp__zoom-wrap[_ngcontent-%COMP%]{touch-action:none;position:absolute;left:0;right:0;top:0;bottom:0;-webkit-backface-visibility:hidden}.pswp__container[_ngcontent-%COMP%], .pswp__img[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.pswp__zoom-wrap[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-transform-origin:left top;transform-origin:left top;transition:transform 333ms cubic-bezier(.4,0,.22,1),-webkit-transform 333ms cubic-bezier(.4,0,.22,1)}.pswp__bg[_ngcontent-%COMP%]{will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--animated-in[_ngcontent-%COMP%]   .pswp__bg[_ngcontent-%COMP%], .pswp--animated-in[_ngcontent-%COMP%]   .pswp__zoom-wrap[_ngcontent-%COMP%]{transition:none}.pswp__item[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;bottom:0;overflow:hidden}.pswp__img[_ngcontent-%COMP%]{position:absolute;width:auto;height:auto;top:0;left:0}.pswp__img--placeholder[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden}.pswp__img--placeholder--blank[_ngcontent-%COMP%]{background:#222}.pswp--ie[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{width:100%!important;height:auto!important;left:0;top:0}.pswp__error-msg[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;width:100%;text-align:center;font-size:14px;line-height:16px;margin-top:-8px;color:#ccc}.pswp__error-msg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ccc;text-decoration:underline}.pswp__button[_ngcontent-%COMP%]{position:relative;cursor:pointer;overflow:visible;-webkit-appearance:none;display:block;border:0;padding:0;margin:0;float:right;opacity:.75;transition:opacity .2s;box-shadow:none}.pswp__button[_ngcontent-%COMP%]:focus, .pswp__button[_ngcontent-%COMP%]:hover{opacity:1}.pswp__button[_ngcontent-%COMP%]:active{outline:0;opacity:.9}.pswp__button[_ngcontent-%COMP%]::-moz-focus-inner{padding:0;border:0}.pswp__ui--over-close[_ngcontent-%COMP%]   .pswp__button--close[_ngcontent-%COMP%]{opacity:1}.pswp__button[_ngcontent-%COMP%], .pswp__button--arrow--left[_ngcontent-%COMP%]:before, .pswp__button--arrow--right[_ngcontent-%COMP%]:before{background:url(/assets/media/default-skin.png) 0 0/264px 88px no-repeat;width:44px;height:44px}@media (-webkit-min-device-pixel-ratio:1.1),(-webkit-min-device-pixel-ratio:1.09375),(min-resolution:105dpi),(min-resolution:1.1dppx){.pswp--svg[_ngcontent-%COMP%]   .pswp__button[_ngcontent-%COMP%], .pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%]:before, .pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]:before{background-image:url(/assets/media/default-skin.svg)}.pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{background:0 0}}.pswp__button--close[_ngcontent-%COMP%]{background-position:0 -44px}.pswp__button--share[_ngcontent-%COMP%]{background-position:-44px -44px}.pswp__button--fs[_ngcontent-%COMP%]{display:none}.pswp--supports-fs[_ngcontent-%COMP%]   .pswp__button--fs[_ngcontent-%COMP%]{display:block}.pswp--fs[_ngcontent-%COMP%]   .pswp__button--fs[_ngcontent-%COMP%]{background-position:-44px 0}.pswp__button--zoom[_ngcontent-%COMP%]{display:none;background-position:-88px 0}.pswp--zoom-allowed[_ngcontent-%COMP%]   .pswp__button--zoom[_ngcontent-%COMP%]{display:block}.pswp--zoomed-in[_ngcontent-%COMP%]   .pswp__button--zoom[_ngcontent-%COMP%]{background-position:-132px 0}.pswp--touch[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--touch[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{visibility:hidden}.pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__button--arrow--right[_ngcontent-%COMP%]{background:0 0;top:50%;margin-top:-50px;width:70px;height:100px;position:absolute}.pswp__button--arrow--left[_ngcontent-%COMP%]{left:0}.pswp__button--arrow--right[_ngcontent-%COMP%]{right:0}.pswp__button--arrow--left[_ngcontent-%COMP%]:before, .pswp__button--arrow--right[_ngcontent-%COMP%]:before{content:'';top:35px;background-color:rgba(0,0,0,.3);height:30px;width:32px;position:absolute}.pswp__button--arrow--left[_ngcontent-%COMP%]:before{left:6px;background-position:-138px -44px}.pswp__button--arrow--right[_ngcontent-%COMP%]:before{right:6px;background-position:-94px -44px}.pswp__counter[_ngcontent-%COMP%], .pswp__share-modal[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pswp__share-modal[_ngcontent-%COMP%]{display:block;background:rgba(0,0,0,.5);width:100%;height:100%;top:0;left:0;padding:10px;position:absolute;z-index:1600;opacity:0;transition:opacity .25s ease-out;-webkit-backface-visibility:hidden;will-change:opacity}.pswp__share-modal--hidden[_ngcontent-%COMP%]{display:none}.pswp__share-tooltip[_ngcontent-%COMP%]{z-index:1620;position:absolute;background:#fff;top:56px;border-radius:2px;display:block;width:auto;right:44px;box-shadow:0 2px 5px rgba(0,0,0,.25);-webkit-transform:translateY(6px);transform:translateY(6px);transition:transform .25s;transition:transform .25s,-webkit-transform .25s;-webkit-backface-visibility:hidden;will-change:transform}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:8px 12px;color:#000;text-decoration:none;font-size:14px;line-height:18px}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#000}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-radius:2px 2px 0 0}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-radius:0 0 2px 2px}.pswp__share-modal--fade-in[_ngcontent-%COMP%]{opacity:1}.pswp__share-modal--fade-in[_ngcontent-%COMP%]   .pswp__share-tooltip[_ngcontent-%COMP%]{-webkit-transform:translateY(0);transform:translateY(0)}.pswp--touch[_ngcontent-%COMP%]   .pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:16px 12px}a.pswp__share--facebook[_ngcontent-%COMP%]:before{content:'';display:block;width:0;height:0;position:absolute;top:-12px;right:15px;border:6px solid transparent;border-bottom-color:#fff;-webkit-pointer-events:none;-moz-pointer-events:none;pointer-events:none}a.pswp__share--facebook[_ngcontent-%COMP%]:hover{background:#3e5c9a;color:#fff}a.pswp__share--facebook[_ngcontent-%COMP%]:hover:before{border-bottom-color:#3e5c9a}a.pswp__share--twitter[_ngcontent-%COMP%]:hover{background:#55acee;color:#fff}a.pswp__share--pinterest[_ngcontent-%COMP%]:hover{background:#ccc;color:#ce272d}a.pswp__share--download[_ngcontent-%COMP%]:hover{background:#ddd}.pswp__counter[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:44px;font-size:13px;line-height:44px;color:#fff;opacity:.75;padding:0 10px}.pswp__caption[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;min-height:44px}.pswp__caption[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:11px;color:#bbb}.pswp__caption__center[_ngcontent-%COMP%]{text-align:left;max-width:420px;margin:0 auto;font-size:13px;padding:10px;line-height:20px;color:#ccc}.pswp__caption--empty[_ngcontent-%COMP%]{display:none}.pswp__caption--fake[_ngcontent-%COMP%]{visibility:hidden}.pswp__preloader[_ngcontent-%COMP%]{width:44px;height:44px;position:absolute;top:0;left:50%;margin-left:-22px;opacity:0;transition:opacity .25s ease-out;will-change:opacity;direction:ltr}.pswp__preloader__icn[_ngcontent-%COMP%]{width:20px;height:20px;margin:12px}.pswp__preloader--active[_ngcontent-%COMP%]{opacity:1}.pswp__preloader--active[_ngcontent-%COMP%]   .pswp__preloader__icn[_ngcontent-%COMP%]{background:url(/assets/media/preloader.gif) no-repeat}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader--active[_ngcontent-%COMP%]{opacity:1}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader--active[_ngcontent-%COMP%]   .pswp__preloader__icn[_ngcontent-%COMP%]{-webkit-animation:.5s linear infinite clockwise;animation:.5s linear infinite clockwise}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader--active[_ngcontent-%COMP%]   .pswp__preloader__donut[_ngcontent-%COMP%]{-webkit-animation:1s cubic-bezier(.4,0,.22,1) infinite donut-rotate;animation:1s cubic-bezier(.4,0,.22,1) infinite donut-rotate}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader__icn[_ngcontent-%COMP%]{background:0 0;opacity:.75;width:14px;height:14px;position:absolute;left:15px;top:15px;margin:0}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader__cut[_ngcontent-%COMP%]{position:relative;width:7px;height:14px;overflow:hidden}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader__donut[_ngcontent-%COMP%]{box-sizing:border-box;width:14px;height:14px;border:2px solid #fff;border-radius:50%;border-left-color:transparent;border-bottom-color:transparent;position:absolute;top:0;left:0;background:0 0;margin:0}@media screen and (max-width:1024px){.pswp__preloader[_ngcontent-%COMP%]{position:relative;left:auto;top:auto;margin:0;float:right}}@-webkit-keyframes clockwise{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes clockwise{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes donut-rotate{0%,100%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}}@keyframes donut-rotate{0%,100%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}}.pswp__ui[_ngcontent-%COMP%]{-webkit-font-smoothing:auto;visibility:visible;opacity:1;z-index:1550}.pswp__top-bar[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:44px;width:100%}.pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%], .pswp__caption[_ngcontent-%COMP%], .pswp__top-bar[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{visibility:visible}.pswp__caption[_ngcontent-%COMP%], .pswp__top-bar[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5)}.pswp__ui--fit[_ngcontent-%COMP%]   .pswp__caption[_ngcontent-%COMP%], .pswp__ui--fit[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.3)}.pswp__ui--idle[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__ui--idle[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%], .pswp__ui--idle[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{opacity:0}.pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%], .pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__caption[_ngcontent-%COMP%], .pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{opacity:.001}.pswp__ui--one-slide[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__ui--one-slide[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%], .pswp__ui--one-slide[_ngcontent-%COMP%]   .pswp__counter[_ngcontent-%COMP%]{display:none}.pswp__element--disabled[_ngcontent-%COMP%]{display:none!important}.pswp--minimal--dark[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{background:0 0}\"]}),t}(),b=function t(){Object(a.a)(this,t)};function v(){return new y}var x=function(){var t=function t(){Object(a.a)(this,t)};return t.\\u0275fac=function(e){return new(e||t)},t.\\u0275prov=p.Ob({token:t,factory:function(){return v()},providedIn:\"root\"}),t.ngInjectableDef=Object(p.Ob)({factory:v,token:t,providedIn:\"root\"}),t}(),y=function(){var t=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(){var t;return Object(a.a)(this,n),(t=e.apply(this,arguments)).allowPanToNext=!0,t.spacing=.12,t.bgOpacity=1,t.mouseUsed=!1,t.loop=!0,t.pinchToClose=!0,t.closeOnScroll=!0,t.closeOnVerticalDrag=!0,t.hideAnimationDuration=333,t.showAnimationDuration=333,t.showHideOpacity=!1,t.escKey=!0,t.arrowKeys=!0,t}return n}(x);return t.\\u0275fac=function(e){return C(e||t)},t.\\u0275prov=p.Ob({token:t,factory:t.\\u0275fac}),t}(),C=p.ac(y),O=function(){var t=function(){function t(e){Object(a.a)(this,t),this.adapter=e,this.clicked=new p.o,this.isBootstrapEnabled=!1,this.isBootstrapEnabled=this.adapter.enableBootstrap4}return Object(r.a)(t,[{key:\"onClick\",value:function(){return this.clicked.emit(this.image),!1}}]),t}();return t.\\u0275fac=function(e){return new(e||t)(p.Sb(x))},t.\\u0275cmp=p.Mb({type:t,selectors:[[\"ngp-gallery-item\"]],hostVars:2,hostBindings:function(t,e){2&t&&p.Kb(\"card\",e.isBootstrapEnabled)},inputs:{image:\"image\"},outputs:{clicked:\"clicked\"},decls:2,vars:8,consts:[[\"itemprop\",\"contentUrl\",3,\"href\",\"click\"],[\"itemprop\",\"thumbnail\",3,\"src\",\"ngClass\",\"alt\"]],template:function(t,e){1&t&&(p.Yb(0,\"a\",0),p.ic(\"click\",function(){return e.onClick()}),p.Tb(1,\"img\",1),p.Xb()),2&t&&(p.tc(\"href\",e.image.largeUrl,p.Lc),p.Fb(\"data-size\",e.image.width+\"x\"+e.image.height)(\"data-author\",e.image.author),p.Eb(1),p.tc(\"src\",e.image.thumbUrl,p.Lc),p.tc(\"alt\",e.image.description),p.sc(\"ngClass\",p.xc(6,d,e.isBootstrapEnabled)))},directives:[s.m],styles:[\"\"]}),t}(),M=function(){var t=function(){function t(e,n){Object(a.a)(this,t),this.ngp=e,this.adapter=n,this.shareLinkClick=new p.o,this.subscriptions=[],this.images=[],this.isBootstrapEnabled=this.adapter.enableBootstrap4}return Object(r.a)(t,[{key:\"ngAfterContentInit\",value:function(){var t=this;this.images=this.galleryItems.toArray().map(function(e){return t.subscriptions.push(e.clicked.subscribe(function(e){return t.onClick(e)})),e.image})}},{key:\"ngOnDestroy\",value:function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})}},{key:\"onClick\",value:function(t){this.openPhotoSwipe(t,this.galleryElement)}},{key:\"openPhotoSwipe\",value:function(t,e){this.adapter.galleryUID=e.nativeElement.getAttribute(\"data-pswp-uid\"),this.adapter.index=t.id,this.pswp=new l(this.ngp.LightboxElement.nativeElement,c,this.getImagesAsPhotoswipe(),this.adapter);var n=this;return this.pswp.listen(\"shareLinkClick\",function(t,e){n.shareLinkClick.emit({e:t,target:e})}),this.pswp.init(),!1}},{key:\"getImagesAsPhotoswipe\",value:function(){return this.images.map(function(t){return{src:t.largeUrl,w:t.width,h:t.height,pid:t.id,title:t.description,author:t.author}})}}]),t}();return t.\\u0275fac=function(e){return new(e||t)(p.Sb(w),p.Sb(x))},t.\\u0275cmp=p.Mb({type:t,selectors:[[\"ngp-gallery\"]],contentQueries:function(t,e,n){var o;1&t&&p.Lb(n,O,0),2&t&&p.Fc(o=p.jc())&&(e.galleryItems=o)},viewQuery:function(t,e){var n;1&t&&p.Xc(m,3),2&t&&p.Fc(n=p.jc())&&(e.galleryElement=n.first)},inputs:{galleryId:\"galleryId\"},outputs:{shareLinkClick:\"shareLinkClick\"},ngContentSelectors:h,decls:3,vars:3,consts:[[\"id\",\"sampleId\",\"itemscope\",\"\",\"itemtype\",\"http://schema.org/ImageGallery\",1,\"angular2_photoswipe\",3,\"ngClass\"],[\"ngpGallery\",\"\"]],template:function(t,e){1&t&&(p.rc(f),p.Yb(0,\"div\",0,1),p.qc(2),p.Xb()),2&t&&p.sc(\"ngClass\",p.xc(1,g,e.isBootstrapEnabled))},directives:[s.m],styles:[\"\"]}),t}(),P=function(){var t=function t(){Object(a.a)(this,t)};return t.\\u0275mod=p.Qb({type:t}),t.\\u0275inj=p.Pb({factory:function(e){return new(e||t)},imports:[[s.c]]}),t}()},\"sk+M\":function(t,e,n){var o,i;void 0===(i=\"function\"==typeof(o=function(){\"use strict\";return function(t,e,n,o){var i={features:null,bind:function(t,e,n,o){var i=(o?\"remove\":\"add\")+\"EventListener\";e=e.split(\" \");for(var r=0;r<e.length;r++)e[r]&&t[i](e[r],n,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){var n=document.createElement(e||\"div\");return t&&(n.className=t),n},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,n){i.bind(t,e,n,!0)},removeClass:function(t,e){var n=new RegExp(\"(\\\\s|^)\"+e+\"(\\\\s|$)\");t.className=t.className.replace(n,\" \").replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")},addClass:function(t,e){i.hasClass(t,e)||(t.className+=(t.className?\" \":\"\")+e)},hasClass:function(t,e){return t.className&&new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\").test(t.className)},getChildByClass:function(t,e){for(var n=t.firstChild;n;){if(i.hasClass(n,e))return n;n=n.nextSibling}},arraySearch:function(t,e,n){for(var o=t.length;o--;)if(t[o][n]===e)return o;return-1},extend:function(t,e,n){for(var o in e)if(e.hasOwnProperty(o)){if(n&&t.hasOwnProperty(o))continue;t[o]=e[o]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(i.features)return i.features;var t=i.createEl().style,e=\"\",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch=\"ontouchstart\"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!n.pointerEvent){var o=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var r=navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);r&&r.length>0&&(r=parseInt(r[1],10))>=1&&r<8&&(n.isOldIOSPhone=!0)}var a=o.match(/Android\\s([0-9\\.]*)/),s=a?a[1]:0;(s=parseFloat(s))>=1&&(s<4.4&&(n.isOldAndroid=!0),n.androidVersion=s),n.isMobileOpera=/opera mini|opera mobi/i.test(o)}for(var l,c,p=[\"transform\",\"perspective\",\"animationName\"],u=[\"\",\"webkit\",\"Moz\",\"ms\",\"O\"],d=0;d<4;d++){e=u[d];for(var m=0;m<3;m++)l=p[m],c=e+(e?l.charAt(0).toUpperCase()+l.slice(1):l),!n[l]&&c in t&&(n[l]=c);e&&!n.raf&&(e=e.toLowerCase(),n.raf=window[e+\"RequestAnimationFrame\"],n.raf&&(n.caf=window[e+\"CancelAnimationFrame\"]||window[e+\"CancelRequestAnimationFrame\"]))}if(!n.raf){var f=0;n.raf=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-f)),o=window.setTimeout(function(){t(e+n)},n);return f=e+n,o},n.caf=function(t){clearTimeout(t)}}return n.svg=!!document.createElementNS&&!!document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect,i.features=n,n}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(t,e,n,o){e=e.split(\" \");for(var i,r=(o?\"detach\":\"attach\")+\"Event\",a=function(){n.handleEvent.call(n)},s=0;s<e.length;s++)if(i=e[s])if(\"object\"==typeof n&&n.handleEvent){if(o){if(!n[\"oldIE\"+i])return!1}else n[\"oldIE\"+i]=a;t[r](\"on\"+i,n[\"oldIE\"+i])}else t[r](\"on\"+i,n)});var r=this,a={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return\"A\"===t.tagName},getDoubleTapZoom:function(t,e){return t||e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:\"fit\"};i.extend(a,o);var s,l,c,p,u,d,m,f,g,h,w,_,b,v,x,y,C,O,M,P,k,I,T,E,D,S,F,z,A,L,R,Z,U,N,K,Y,B,H,W,X,j,G,q,V,J,Q,$,tt,et,nt,ot,it,rt,at,st,lt,ct={x:0,y:0},pt={x:0,y:0},ut={x:0,y:0},dt={},mt=0,ft={},gt={x:0,y:0},ht=0,wt=!0,_t=[],bt={},vt=!1,xt=function(t,e){i.extend(r,e.publicMethods),_t.push(t)},yt=function(t){var e=Ke();return t>e-1?t-e:t<0?e+t:t},Ct={},Ot=function(t,e){return Ct[t]||(Ct[t]=[]),Ct[t].push(e)},Mt=function(t){var e=Ct[t];if(e){var n=Array.prototype.slice.call(arguments);n.shift();for(var o=0;o<e.length;o++)e[o].apply(r,n)}},Pt=function(){return(new Date).getTime()},kt=function(t){at=t,r.bg.style.opacity=t*a.bgOpacity},It=function(t,e,n,o,i){(!vt||i&&i!==r.currItem)&&(o/=i?i.fitRatio:r.currItem.fitRatio),t[I]=_+e+\"px, \"+n+\"px\"+b+\" scale(\"+o+\")\"},Tt=function(t){et&&(t&&(h>r.currItem.fitRatio?vt||(Ve(r.currItem,!1,!0),vt=!0):vt&&(Ve(r.currItem),vt=!1)),It(et,ut.x,ut.y,h))},Et=function(t){t.container&&It(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},Dt=function(t,e){e[I]=_+t+\"px, 0px\"+b},St=function(t,e){if(!a.loop&&e){var n=p+(gt.x*mt-t)/gt.x,o=Math.round(t-pe.x);(n<0&&o>0||n>=Ke()-1&&o<0)&&(t=pe.x+o*a.mainScrollEndFriction)}pe.x=t,Dt(t,u)},Ft=function(t,e){var n=ue[t]-ft[t];return pt[t]+ct[t]+n-n*(e/w)},zt=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},At=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},Lt=null,Rt=function e(){Lt&&(i.unbind(document,\"mousemove\",e),i.addClass(t,\"pswp--has_mouse\"),a.mouseUsed=!0,Mt(\"mouseUsed\")),Lt=setTimeout(function(){Lt=null},100)},Zt=function(t,e){var n=Xe(r.currItem,dt,t);return e&&(tt=n),n},Ut=function(t){return t||(t=r.currItem),t.initialZoomLevel},Nt=function(t){return t||(t=r.currItem),t.w>0?a.maxSpreadZoom:1},Kt=function(t,e,n,o){return o===r.currItem.initialZoomLevel?(n[t]=r.currItem.initialPosition[t],!0):(n[t]=Ft(t,o),n[t]>e.min[t]?(n[t]=e.min[t],!0):n[t]<e.max[t]&&(n[t]=e.max[t],!0))},Yt=function(t){var e=\"\";a.escKey&&27===t.keyCode?e=\"close\":a.arrowKeys&&(37===t.keyCode?e=\"prev\":39===t.keyCode&&(e=\"next\")),e&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,r[e]()))},Bt=function(t){t&&(G||j||nt||B)&&(t.preventDefault(),t.stopPropagation())},Ht=function(){r.setScrollOffset(0,i.getScrollY())},Wt={},Xt=0,jt=function(t){Wt[t]&&(Wt[t].raf&&S(Wt[t].raf),Xt--,delete Wt[t])},Gt=function(t){Wt[t]&&jt(t),Wt[t]||(Xt++,Wt[t]={})},qt=function(){for(var t in Wt)Wt.hasOwnProperty(t)&&jt(t)},Vt=function(t,e,n,o,i,r,a){var s,l=Pt();Gt(t),function c(){if(Wt[t]){if((s=Pt()-l)>=o)return jt(t),r(n),void(a&&a());r((n-e)*i(s/o)+e),Wt[t].raf=D(c)}}()},Jt={shout:Mt,listen:Ot,viewportSize:dt,options:a,isMainScrollAnimating:function(){return nt},getZoomLevel:function(){return h},getCurrentIndex:function(){return p},isDragging:function(){return W},isZooming:function(){return Q},setScrollOffset:function(t,e){ft.x=t,L=ft.y=e,Mt(\"updateScrollOffset\",ft)},applyZoomPan:function(t,e,n,o){ut.x=e,ut.y=n,h=t,Tt(o)},init:function(){if(!s&&!l){var n;for(r.framework=i,r.template=t,r.bg=i.getChildByClass(t,\"pswp__bg\"),F=t.className,s=!0,R=i.detectFeatures(),D=R.raf,S=R.caf,I=R.transform,A=R.oldIE,r.scrollWrap=i.getChildByClass(t,\"pswp__scroll-wrap\"),r.container=i.getChildByClass(r.scrollWrap,\"pswp__container\"),u=r.container.style,r.itemHolders=y=[{el:r.container.children[0],wrap:0,index:-1},{el:r.container.children[1],wrap:0,index:-1},{el:r.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display=\"none\",function(){if(I)return _=\"translate\"+(R.perspective&&!E?\"3d(\":\"(\"),void(b=R.perspective?\", 0px)\":\")\");I=\"left\",i.addClass(t,\"pswp--ie\"),Dt=function(t,e){e.left=t+\"px\"},Et=function(t){var e=t.fitRatio>1?1:t.fitRatio,n=t.container.style,o=e*t.h;n.width=e*t.w+\"px\",n.height=o+\"px\",n.left=t.initialPosition.x+\"px\",n.top=t.initialPosition.y+\"px\"},Tt=function(){if(et){var t=et,e=r.currItem,n=e.fitRatio>1?1:e.fitRatio,o=n*e.h;t.width=n*e.w+\"px\",t.height=o+\"px\",t.left=ut.x+\"px\",t.top=ut.y+\"px\"}}}(),g={resize:r.updateSize,orientationchange:function(){clearTimeout(Z),Z=setTimeout(function(){dt.x!==r.scrollWrap.clientWidth&&r.updateSize()},500)},scroll:Ht,keydown:Yt,click:Bt},R.animationName&&R.transform&&!(R.isOldIOSPhone||R.isOldAndroid||R.isMobileOpera)||(a.showAnimationDuration=a.hideAnimationDuration=0),n=0;n<_t.length;n++)r[\"init\"+_t[n]]();e&&(r.ui=new e(r,i)).init(),Mt(\"firstUpdate\"),p=p||a.index||0,(isNaN(p)||p<0||p>=Ke())&&(p=0),r.currItem=Ne(p),(R.isOldIOSPhone||R.isOldAndroid)&&(wt=!1),t.setAttribute(\"aria-hidden\",\"false\"),a.modal&&(wt?t.style.position=\"fixed\":(t.style.position=\"absolute\",t.style.top=i.getScrollY()+\"px\")),void 0===L&&(Mt(\"initialLayout\"),L=z=i.getScrollY());var o=\"pswp--open \";for(a.mainClass&&(o+=a.mainClass+\" \"),a.showHideOpacity&&(o+=\"pswp--animate_opacity \"),o+=E?\"pswp--touch\":\"pswp--notouch\",o+=R.animationName?\" pswp--css_animation\":\"\",i.addClass(t,o+=R.svg?\" pswp--svg\":\"\"),r.updateSize(),d=-1,ht=null,n=0;n<3;n++)Dt((n+d)*gt.x,y[n].el.style);A||i.bind(r.scrollWrap,f,r),Ot(\"initialZoomInEnd\",function(){r.setContent(y[0],p-1),r.setContent(y[2],p+1),y[0].el.style.display=y[2].el.style.display=\"block\",a.focus&&t.focus(),i.bind(document,\"keydown\",r),R.transform&&i.bind(r.scrollWrap,\"click\",r),a.mouseUsed||i.bind(document,\"mousemove\",Rt),i.bind(window,\"resize scroll orientationchange\",r),Mt(\"bindEvents\")}),r.setContent(y[1],p),r.updateCurrItem(),Mt(\"afterInit\"),wt||(v=setInterval(function(){Xt||W||Q||h!==r.currItem.initialZoomLevel||r.updateSize()},1e3)),i.addClass(t,\"pswp--visible\")}},close:function(){s&&(s=!1,l=!0,Mt(\"close\"),i.unbind(window,\"resize scroll orientationchange\",r),i.unbind(window,\"scroll\",g.scroll),i.unbind(document,\"keydown\",r),i.unbind(document,\"mousemove\",Rt),R.transform&&i.unbind(r.scrollWrap,\"click\",r),W&&i.unbind(window,m,r),clearTimeout(Z),Mt(\"unbindEvents\"),Ye(r.currItem,null,!0,r.destroy))},destroy:function(){Mt(\"destroy\"),Le&&clearTimeout(Le),t.setAttribute(\"aria-hidden\",\"true\"),t.className=F,v&&clearInterval(v),i.unbind(r.scrollWrap,f,r),i.unbind(window,\"scroll\",r),fe(),qt(),Ct=null},panTo:function(t,e,n){n||(t>tt.min.x?t=tt.min.x:t<tt.max.x&&(t=tt.max.x),e>tt.min.y?e=tt.min.y:e<tt.max.y&&(e=tt.max.y)),ut.x=t,ut.y=e,Tt()},handleEvent:function(t){t=t||window.event,g[t.type]&&g[t.type](t)},goTo:function(t){var e=(t=yt(t))-p;ht=e,r.currItem=Ne(p=t),St(gt.x*(mt-=e)),qt(),nt=!1,r.updateCurrItem()},next:function(){r.goTo(p+1)},prev:function(){r.goTo(p-1)},updateCurrZoomItem:function(t){if(t&&Mt(\"beforeChange\",0),y[1].el.children.length){var e=y[1].el.children[0];et=i.hasClass(e,\"pswp__zoom-wrap\")?e.style:null}else et=null;w=h=r.currItem.initialZoomLevel,ut.x=(tt=r.currItem.bounds).center.x,ut.y=tt.center.y,t&&Mt(\"afterChange\")},invalidateCurrItems:function(){x=!0;for(var t=0;t<3;t++)y[t].item&&(y[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==ht){var e,n=Math.abs(ht);if(!(t&&n<2)){r.currItem=Ne(p),vt=!1,Mt(\"beforeChange\",ht),n>=3&&(d+=ht+(ht>0?-3:3),n=3);for(var o=0;o<n;o++)ht>0?(e=y.shift(),y[2]=e,d++,Dt((d+2)*gt.x,e.el.style),r.setContent(e,p-n+o+1+1)):(e=y.pop(),y.unshift(e),d--,Dt(d*gt.x,e.el.style),r.setContent(e,p+n-o-1-1));if(et&&1===Math.abs(ht)){var i=Ne(C);i.initialZoomLevel!==h&&(Xe(i,dt),Ve(i),Et(i))}ht=0,r.updateCurrZoomItem(),C=p,Mt(\"afterChange\")}}},updateSize:function(e){if(!wt&&a.modal){var n=i.getScrollY();if(L!==n&&(t.style.top=n+\"px\",L=n),!e&&bt.x===window.innerWidth&&bt.y===window.innerHeight)return;bt.x=window.innerWidth,bt.y=window.innerHeight,t.style.height=bt.y+\"px\"}if(dt.x=r.scrollWrap.clientWidth,dt.y=r.scrollWrap.clientHeight,Ht(),gt.x=dt.x+Math.round(dt.x*a.spacing),gt.y=dt.y,St(gt.x*mt),Mt(\"beforeResize\"),void 0!==d){for(var o,s,l,c=0;c<3;c++)Dt((c+d)*gt.x,(o=y[c]).el.style),l=p+c-1,a.loop&&Ke()>2&&(l=yt(l)),(s=Ne(l))&&(x||s.needsUpdate||!s.bounds)?(r.cleanSlide(s),r.setContent(o,l),1===c&&(r.currItem=s,r.updateCurrZoomItem(!0)),s.needsUpdate=!1):-1===o.index&&l>=0&&r.setContent(o,l),s&&s.container&&(Xe(s,dt),Ve(s),Et(s));x=!1}w=h=r.currItem.initialZoomLevel,(tt=r.currItem.bounds)&&(ut.x=tt.center.x,ut.y=tt.center.y,Tt(!0)),Mt(\"resize\")},zoomTo:function(t,e,n,o,r){e&&(w=h,ue.x=Math.abs(e.x)-ut.x,ue.y=Math.abs(e.y)-ut.y,zt(pt,ut));var a=Zt(t,!1),s={};Kt(\"x\",a,s,t),Kt(\"y\",a,s,t);var l=h,c=ut.x,p=ut.y;At(s);var u=function(e){1===e?(h=t,ut.x=s.x,ut.y=s.y):(h=(t-l)*e+l,ut.x=(s.x-c)*e+c,ut.y=(s.y-p)*e+p),r&&r(e),Tt(1===e)};n?Vt(\"customZoomTo\",0,1,n,o||i.easing.sine.inOut,u):u(1)}},Qt={},$t={},te={},ee={},ne={},oe=[],ie={},re=[],ae={},se=0,le={x:0,y:0},ce=0,pe={x:0,y:0},ue={x:0,y:0},de={x:0,y:0},me=function(t,e){return ae.x=Math.abs(t.x-e.x),ae.y=Math.abs(t.y-e.y),Math.sqrt(ae.x*ae.x+ae.y*ae.y)},fe=function(){q&&(S(q),q=null)},ge=function t(){W&&(q=D(t),Te())},he=function t(e,n){return!(!e||e===document)&&!(e.getAttribute(\"class\")&&e.getAttribute(\"class\").indexOf(\"pswp__scroll-wrap\")>-1)&&(n(e)?e:t(e.parentNode,n))},we={},_e=function(t,e){return we.prevent=!he(t.target,a.isClickableElement),Mt(\"preventDragEvent\",t,e,we),we.prevent},be=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},ve=function(t,e,n){n.x=.5*(t.x+e.x),n.y=.5*(t.y+e.y)},xe=function(){return 1-Math.abs((ut.y-r.currItem.initialPosition.y)/(dt.y/2))},ye={},Ce={},Oe=[],Me=function(t){for(;Oe.length>0;)Oe.pop();return T?(lt=0,oe.forEach(function(t){0===lt?Oe[0]=t:1===lt&&(Oe[1]=t),lt++})):t.type.indexOf(\"touch\")>-1?t.touches&&t.touches.length>0&&(Oe[0]=be(t.touches[0],ye),t.touches.length>1&&(Oe[1]=be(t.touches[1],Ce))):(ye.x=t.pageX,ye.y=t.pageY,ye.id=\"\",Oe[0]=ye),Oe},Pe=function(t,e){var n,o,i,s,l=ut[t]+e[t],c=pe.x+e.x,p=pe.x-ie.x;if(l=ut[t]+e[t]*(n=l>tt.min[t]||l<tt.max[t]?a.panEndFriction:1),(a.allowPanToNext||h===r.currItem.initialZoomLevel)&&(et?\"h\"!==ot||\"x\"!==t||j||(e[t]>0?(l>tt.min[t]&&(n=a.panEndFriction,o=tt.min[t]-pt[t]),(o<=0||p<0)&&Ke()>1?(s=c,p<0&&c>ie.x&&(s=ie.x)):tt.min.x!==tt.max.x&&(i=l)):(l<tt.max[t]&&(n=a.panEndFriction,o=pt[t]-tt.max[t]),(o<=0||p>0)&&Ke()>1?(s=c,p>0&&c<ie.x&&(s=ie.x)):tt.min.x!==tt.max.x&&(i=l))):s=c,\"x\"===t))return void 0!==s&&(St(s,!0),V=s!==ie.x),tt.min.x!==tt.max.x&&(void 0!==i?ut.x=i:V||(ut.x+=e.x*n)),void 0!==s;nt||V||h>r.currItem.fitRatio&&(ut[t]+=e[t]*n)},ke=function(t){if(!(\"mousedown\"===t.type&&t.button>0))if(Ue)t.preventDefault();else if(!H||\"mousedown\"!==t.type){if(_e(t,!0)&&t.preventDefault(),Mt(\"pointerDown\"),T){var e=i.arraySearch(oe,t.pointerId,\"id\");e<0&&(e=oe.length),oe[e]={x:t.pageX,y:t.pageY,id:t.pointerId}}var n=Me(t),o=n.length;J=null,qt(),W&&1!==o||(W=it=!0,i.bind(window,m,r),Y=st=rt=B=V=G=X=j=!1,ot=null,Mt(\"firstTouchStart\",n),zt(pt,ut),ct.x=ct.y=0,zt(ee,n[0]),zt(ne,ee),ie.x=gt.x*mt,re=[{x:ee.x,y:ee.y}],N=U=Pt(),Zt(h,!0),fe(),ge()),!Q&&o>1&&!nt&&!V&&(w=h,j=!1,Q=X=!0,ct.y=ct.x=0,zt(pt,ut),zt(Qt,n[0]),zt($t,n[1]),ve(Qt,$t,de),ue.x=Math.abs(de.x)-ut.x,ue.y=Math.abs(de.y)-ut.y,$=me(Qt,$t))}},Ie=function(t){if(t.preventDefault(),T){var e=i.arraySearch(oe,t.pointerId,\"id\");if(e>-1){var n=oe[e];n.x=t.pageX,n.y=t.pageY}}if(W){var o=Me(t);if(ot||G||Q)J=o;else if(pe.x!==gt.x*mt)ot=\"h\";else{var r=Math.abs(o[0].x-ee.x)-Math.abs(o[0].y-ee.y);Math.abs(r)>=10&&(ot=r>0?\"h\":\"v\",J=o)}}},Te=function(){if(J){var t=J.length;if(0!==t)if(zt(Qt,J[0]),te.x=Qt.x-ee.x,te.y=Qt.y-ee.y,Q&&t>1){if(ee.x=Qt.x,ee.y=Qt.y,!te.x&&!te.y&&function(t,e){return t.x===e.x&&t.y===e.y}(J[1],$t))return;zt($t,J[1]),j||(j=!0,Mt(\"zoomGestureStarted\"));var e=me(Qt,$t),n=ze(e);n>r.currItem.initialZoomLevel+r.currItem.initialZoomLevel/15&&(st=!0);var o=1,i=Ut(),s=Nt();if(n<i)if(a.pinchToClose&&!st&&w<=r.currItem.initialZoomLevel){var l=1-(i-n)/(i/1.2);kt(l),Mt(\"onPinchClose\",l),rt=!0}else(o=(i-n)/i)>1&&(o=1),n=i-o*(i/3);else n>s&&((o=(n-s)/(6*i))>1&&(o=1),n=s+o*i);o<0&&(o=0),ve(Qt,$t,le),ct.x+=le.x-de.x,ct.y+=le.y-de.y,zt(de,le),ut.x=Ft(\"x\",n),ut.y=Ft(\"y\",n),Y=n>h,h=n,Tt()}else{if(!ot)return;if(it&&(it=!1,Math.abs(te.x)>=10&&(te.x-=J[0].x-ne.x),Math.abs(te.y)>=10&&(te.y-=J[0].y-ne.y)),ee.x=Qt.x,ee.y=Qt.y,0===te.x&&0===te.y)return;if(\"v\"===ot&&a.closeOnVerticalDrag&&\"fit\"===a.scaleMode&&h===r.currItem.initialZoomLevel){ct.y+=te.y,ut.y+=te.y;var c=xe();return B=!0,Mt(\"onVerticalDrag\",c),kt(c),void Tt()}(function(t,e,n){if(t-N>50){var o=re.length>2?re.shift():{};o.x=e,o.y=n,re.push(o),N=t}})(Pt(),Qt.x,Qt.y),G=!0,tt=r.currItem.bounds,Pe(\"x\",te)||(Pe(\"y\",te),At(ut),Tt())}}},Ee=function(t){if(R.isOldAndroid){if(H&&\"mouseup\"===t.type)return;t.type.indexOf(\"touch\")>-1&&(clearTimeout(H),H=setTimeout(function(){H=0},600))}var e;if(Mt(\"pointerUp\"),_e(t,!1)&&t.preventDefault(),T){var n=i.arraySearch(oe,t.pointerId,\"id\");n>-1&&(e=oe.splice(n,1)[0],navigator.msPointerEnabled?(e.type={4:\"mouse\",2:\"touch\",3:\"pen\"}[t.pointerType],e.type||(e.type=t.pointerType||\"mouse\")):e.type=t.pointerType||\"mouse\")}var o,s=Me(t),l=s.length;if(\"mouseup\"===t.type&&(l=0),2===l)return J=null,!0;1===l&&zt(ne,s[0]),0!==l||ot||nt||(e||(\"mouseup\"===t.type?e={x:t.pageX,y:t.pageY,type:\"mouse\"}:t.changedTouches&&t.changedTouches[0]&&(e={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:\"touch\"})),Mt(\"touchRelease\",t,e));var c=-1;if(0===l&&(W=!1,i.unbind(window,m,r),fe(),Q?c=0:-1!==ce&&(c=Pt()-ce)),ce=1===l?Pt():-1,o=-1!==c&&c<150?\"zoom\":\"swipe\",Q&&l<2&&(Q=!1,1===l&&(o=\"zoomPointerUp\"),Mt(\"zoomGestureEnded\")),J=null,G||j||nt||B)if(qt(),K||(K=De()),K.calculateSwipeSpeed(\"x\"),B)if(xe()<a.verticalDragRange)r.close();else{var p=ut.y,u=at;Vt(\"verticalDrag\",0,1,300,i.easing.cubic.out,function(t){ut.y=(r.currItem.initialPosition.y-p)*t+p,kt((1-u)*t+u),Tt()}),Mt(\"onVerticalDrag\",1)}else{if((V||nt)&&0===l){if(Fe(o,K))return;o=\"zoomPointerUp\"}nt||(\"swipe\"===o?!V&&h>r.currItem.fitRatio&&Se(K):Ae())}},De=function(){var t,e,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(o){re.length>1?(t=Pt()-N+50,e=re[re.length-2][o]):(t=Pt()-U,e=ne[o]),n.lastFlickOffset[o]=ee[o]-e,n.lastFlickDist[o]=Math.abs(n.lastFlickOffset[o]),n.lastFlickSpeed[o]=n.lastFlickDist[o]>20?n.lastFlickOffset[o]/t:0,Math.abs(n.lastFlickSpeed[o])<.1&&(n.lastFlickSpeed[o]=0),n.slowDownRatio[o]=.95,n.slowDownRatioReverse[o]=1-n.slowDownRatio[o],n.speedDecelerationRatio[o]=1},calculateOverBoundsAnimOffset:function(t,e){n.backAnimStarted[t]||(ut[t]>tt.min[t]?n.backAnimDestination[t]=tt.min[t]:ut[t]<tt.max[t]&&(n.backAnimDestination[t]=tt.max[t]),void 0!==n.backAnimDestination[t]&&(n.slowDownRatio[t]=.7,n.slowDownRatioReverse[t]=1-n.slowDownRatio[t],n.speedDecelerationRatioAbs[t]<.05&&(n.lastFlickSpeed[t]=0,n.backAnimStarted[t]=!0,Vt(\"bounceZoomPan\"+t,ut[t],n.backAnimDestination[t],e||300,i.easing.sine.out,function(e){ut[t]=e,Tt()}))))},calculateAnimOffset:function(t){n.backAnimStarted[t]||(n.speedDecelerationRatio[t]=n.speedDecelerationRatio[t]*(n.slowDownRatio[t]+n.slowDownRatioReverse[t]-n.slowDownRatioReverse[t]*n.timeDiff/10),n.speedDecelerationRatioAbs[t]=Math.abs(n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]),n.distanceOffset[t]=n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]*n.timeDiff,ut[t]+=n.distanceOffset[t])},panAnimLoop:function(){if(Wt.zoomPan&&(Wt.zoomPan.raf=D(n.panAnimLoop),n.now=Pt(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset(\"x\"),n.calculateAnimOffset(\"y\"),Tt(),n.calculateOverBoundsAnimOffset(\"x\"),n.calculateOverBoundsAnimOffset(\"y\"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return ut.x=Math.round(ut.x),ut.y=Math.round(ut.y),Tt(),void jt(\"zoomPan\")}};return n},Se=function(t){if(t.calculateSwipeSpeed(\"y\"),tt=r.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05)return t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset(\"x\"),t.calculateOverBoundsAnimOffset(\"y\"),!0;Gt(\"zoomPan\"),t.lastNow=Pt(),t.panAnimLoop()},Fe=function(t,e){var n,o,s;if(nt||(se=p),\"swipe\"===t){var l=ee.x-ne.x,c=e.lastFlickDist.x<10;l>30&&(c||e.lastFlickOffset.x>20)?o=-1:l<-30&&(c||e.lastFlickOffset.x<-20)&&(o=1)}o&&((p+=o)<0?(p=a.loop?Ke()-1:0,s=!0):p>=Ke()&&(p=a.loop?0:Ke()-1,s=!0),s&&!a.loop||(ht+=o,mt-=o,n=!0));var u,d=gt.x*mt,m=Math.abs(d-pe.x);return n||d>pe.x==e.lastFlickSpeed.x>0?(u=Math.abs(e.lastFlickSpeed.x)>0?m/Math.abs(e.lastFlickSpeed.x):333,u=Math.min(u,400),u=Math.max(u,250)):u=333,se===p&&(n=!1),nt=!0,Mt(\"mainScrollAnimStart\"),Vt(\"mainScroll\",pe.x,d,u,i.easing.cubic.out,St,function(){qt(),nt=!1,se=-1,(n||se!==p)&&r.updateCurrItem(),Mt(\"mainScrollAnimComplete\")}),n&&r.updateCurrItem(!0),n},ze=function(t){return 1/$*t*w},Ae=function(){var t=h,e=Ut(),n=Nt();h<e?t=e:h>n&&(t=n);var o,a=at;return rt&&!Y&&!st&&h<e?(r.close(),!0):(rt&&(o=function(t){kt((1-a)*t+a)}),r.zoomTo(t,0,200,i.easing.cubic.out,o),!0)};xt(\"Gestures\",{publicMethods:{initGestures:function(){var t=function(t,e,n,o,i){O=t+e,M=t+n,P=t+o,k=i?t+i:\"\"};(T=R.pointerEvent)&&R.touch&&(R.touch=!1),T?navigator.msPointerEnabled?t(\"MSPointer\",\"Down\",\"Move\",\"Up\",\"Cancel\"):t(\"pointer\",\"down\",\"move\",\"up\",\"cancel\"):R.touch?(t(\"touch\",\"start\",\"move\",\"end\",\"cancel\"),E=!0):t(\"mouse\",\"down\",\"move\",\"up\"),m=M+\" \"+P+\" \"+k,f=O,T&&!E&&(E=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),r.likelyTouchDevice=E,g[O]=ke,g[M]=Ie,g[P]=Ee,k&&(g[k]=g[P]),R.touch&&(f+=\" mousedown\",m+=\" mousemove mouseup\",g.mousedown=g[O],g.mousemove=g[M],g.mouseup=g[P]),E||(a.allowPanToNext=!1)}}});var Le,Re,Ze,Ue,Ne,Ke,Ye=function(e,n,o,s){var l;Le&&clearTimeout(Le),Ue=!0,Ze=!0,e.initialLayout?(l=e.initialLayout,e.initialLayout=null):l=a.getThumbBoundsFn&&a.getThumbBoundsFn(p);var u,d,m=o?a.hideAnimationDuration:a.showAnimationDuration,f=function(){jt(\"initialZoom\"),o?(r.template.removeAttribute(\"style\"),r.bg.removeAttribute(\"style\")):(kt(1),n&&(n.style.display=\"block\"),i.addClass(t,\"pswp--animated-in\"),Mt(\"initialZoom\"+(o?\"OutEnd\":\"InEnd\"))),s&&s(),Ue=!1};if(!m||!l||void 0===l.x)return Mt(\"initialZoom\"+(o?\"Out\":\"In\")),h=e.initialZoomLevel,zt(ut,e.initialPosition),Tt(),t.style.opacity=o?0:1,kt(1),void(m?setTimeout(function(){f()},m):f());u=c,d=!r.currItem.src||r.currItem.loadError||a.showHideOpacity,e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility=\"hidden\"),o||(h=l.w/e.w,ut.x=l.x,ut.y=l.y-z,r[d?\"template\":\"bg\"].style.opacity=.001,Tt()),Gt(\"initialZoom\"),o&&!u&&i.removeClass(t,\"pswp--animated-in\"),d&&(o?i[(u?\"remove\":\"add\")+\"Class\"](t,\"pswp--animate_opacity\"):setTimeout(function(){i.addClass(t,\"pswp--animate_opacity\")},30)),Le=setTimeout(function(){if(Mt(\"initialZoom\"+(o?\"Out\":\"In\")),o){var n=l.w/e.w,r={x:ut.x,y:ut.y},a=h,s=at,c=function(e){1===e?(h=n,ut.x=l.x,ut.y=l.y-L):(h=(n-a)*e+a,ut.x=(l.x-r.x)*e+r.x,ut.y=(l.y-L-r.y)*e+r.y),Tt(),d?t.style.opacity=1-e:kt(s-e*s)};u?Vt(\"initialZoom\",0,1,m,i.easing.cubic.out,c,f):(c(1),Le=setTimeout(f,m+20))}else h=e.initialZoomLevel,zt(ut,e.initialPosition),Tt(),kt(1),d?t.style.opacity=1:kt(1),Le=setTimeout(f,m+20)},o?25:90)},Be={},He=[],We={index:0,errorMsg:'<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Re.length}},Xe=function(t,e,n){if(t.src&&!t.loadError){var o=!n;if(o&&(t.vGap||(t.vGap={top:0,bottom:0}),Mt(\"parseVerticalMargin\",t)),Be.x=e.x,Be.y=e.y-t.vGap.top-t.vGap.bottom,o){var i=Be.x/t.w,r=Be.y/t.h;t.fitRatio=i<r?i:r;var s=a.scaleMode;\"orig\"===s?n=1:\"fit\"===s&&(n=t.fitRatio),n>1&&(n=1),t.initialZoomLevel=n,t.bounds||(t.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!n)return;return function(t,e,n){var o=t.bounds;o.center.x=Math.round((Be.x-e)/2),o.center.y=Math.round((Be.y-n)/2)+t.vGap.top,o.max.x=e>Be.x?Math.round(Be.x-e):o.center.x,o.max.y=n>Be.y?Math.round(Be.y-n)+t.vGap.top:o.center.y,o.min.x=e>Be.x?0:o.center.x,o.min.y=n>Be.y?t.vGap.top:o.center.y}(t,t.w*n,t.h*n),o&&n===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds}return t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},t.initialPosition=t.bounds.center,t.bounds},je=function(t,e,n,o,i,a){e.loadError||o&&(e.imageAppended=!0,Ve(e,o,e===r.currItem&&vt),n.appendChild(o),a&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display=\"none\",e.placeholder=null)},500))},Ge=function(t){t.loading=!0,t.loaded=!1;var e=t.img=i.createEl(\"pswp__img\",\"img\"),n=function(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,e.onload=e.onerror=null,e=null};return e.onload=n,e.onerror=function(){t.loadError=!0,n()},e.src=t.src,e},qe=function(t,e){if(t.src&&t.loadError&&t.container)return e&&(t.container.innerHTML=\"\"),t.container.innerHTML=a.errorMsg.replace(\"%url%\",t.src),!0},Ve=function(t,e,n){if(t.src){e||(e=t.container.lastChild);var o=n?t.w:Math.round(t.w*t.fitRatio),i=n?t.h:Math.round(t.h*t.fitRatio);t.placeholder&&!t.loaded&&(t.placeholder.style.width=o+\"px\",t.placeholder.style.height=i+\"px\"),e.style.width=o+\"px\",e.style.height=i+\"px\"}},Je=function(){if(He.length){for(var t,e=0;e<He.length;e++)(t=He[e]).holder.index===t.index&&je(0,t.item,t.baseDiv,t.img,0,t.clearPlaceholder);He=[]}};xt(\"Controller\",{publicMethods:{lazyLoadItem:function(t){t=yt(t);var e=Ne(t);e&&(!e.loaded&&!e.loading||x)&&(Mt(\"gettingData\",t,e),e.src&&Ge(e))},initController:function(){i.extend(a,We,!0),r.items=Re=n,Ne=r.getItemAt,(Ke=a.getNumItemsFn)()<3&&(a.loop=!1),Ot(\"beforeChange\",function(t){var e,n=a.preload,o=null===t||t>=0,i=Math.min(n[0],Ke()),s=Math.min(n[1],Ke());for(e=1;e<=(o?s:i);e++)r.lazyLoadItem(p+e);for(e=1;e<=(o?i:s);e++)r.lazyLoadItem(p-e)}),Ot(\"initialLayout\",function(){r.currItem.initialLayout=a.getThumbBoundsFn&&a.getThumbBoundsFn(p)}),Ot(\"mainScrollAnimComplete\",Je),Ot(\"initialZoomInEnd\",Je),Ot(\"destroy\",function(){for(var t,e=0;e<Re.length;e++)(t=Re[e]).container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);He=null})},getItemAt:function(t){return t>=0&&void 0!==Re[t]&&Re[t]},allowProgressiveImg:function(){return a.forceProgressiveLoading||!E||a.mouseUsed||screen.width>1200},setContent:function(t,e){a.loop&&(e=yt(e));var n=r.getItemAt(t.index);n&&(n.container=null);var o,l=r.getItemAt(e);if(l){Mt(\"gettingData\",e,l),t.index=e,t.item=l;var c=l.container=i.createEl(\"pswp__zoom-wrap\");if(!l.src&&l.html&&(l.html.tagName?c.appendChild(l.html):c.innerHTML=l.html),qe(l),Xe(l,dt),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&((o=i.createEl(\"pswp__img\",\"img\")).style.opacity=1,o.src=l.src,Ve(l,o),je(0,l,c,o));else{if(l.loadComplete=function(n){if(s){if(t&&t.index===e){if(qe(n,!0))return n.loadComplete=n.img=null,Xe(n,dt),Et(n),void(t.index===p&&r.updateCurrZoomItem());n.imageAppended?!Ue&&n.placeholder&&(n.placeholder.style.display=\"none\",n.placeholder=null):R.transform&&(nt||Ue)?He.push({item:n,baseDiv:c,img:n.img,index:e,holder:t,clearPlaceholder:!0}):je(0,n,c,n.img,0,!0)}n.loadComplete=null,n.img=null,Mt(\"imageLoadComplete\",e,n)}},i.features.transform){var u=\"pswp__img pswp__img--placeholder\",d=i.createEl(u+=l.msrc?\"\":\" pswp__img--placeholder--blank\",l.msrc?\"img\":\"\");l.msrc&&(d.src=l.msrc),Ve(l,d),c.appendChild(d),l.placeholder=d}l.loading||Ge(l),r.allowProgressiveImg()&&(!Ze&&R.transform?He.push({item:l,baseDiv:c,img:l.img,index:e,holder:t}):je(0,l,c,l.img,0,!0))}Ze||e!==p?Et(l):(et=c.style,Ye(l,o||l.img)),t.el.innerHTML=\"\",t.el.appendChild(c)}else t.el.innerHTML=\"\"},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});var Qe,$e,tn={},en=function(t,e,n){var o=document.createEvent(\"CustomEvent\");o.initCustomEvent(\"pswpTap\",!0,!0,{origEvent:t,target:t.target,releasePoint:e,pointerType:n||\"touch\"}),t.target.dispatchEvent(o)};xt(\"Tap\",{publicMethods:{initTap:function(){Ot(\"firstTouchStart\",r.onTapStart),Ot(\"touchRelease\",r.onTapRelease),Ot(\"destroy\",function(){tn={},Qe=null})},onTapStart:function(t){t.length>1&&(clearTimeout(Qe),Qe=null)},onTapRelease:function(t,e){if(e&&!G&&!X&&!Xt){var n=e;if(Qe&&(clearTimeout(Qe),Qe=null,o=n,r=tn,Math.abs(o.x-r.x)<25&&Math.abs(o.y-r.y)<25))return void Mt(\"doubleTap\",n);if(\"mouse\"===e.type)return void en(t,e,\"mouse\");if(\"BUTTON\"===t.target.tagName.toUpperCase()||i.hasClass(t.target,\"pswp__single-tap\"))return void en(t,e);zt(tn,n),Qe=setTimeout(function(){en(t,e),Qe=null},300)}var o,r}}}),xt(\"DesktopZoom\",{publicMethods:{initDesktopZoom:function(){A||(E?Ot(\"mouseUsed\",function(){r.setupDesktopZoom()}):r.setupDesktopZoom(!0))},setupDesktopZoom:function(e){$e={};var n=\"wheel mousewheel DOMMouseScroll\";Ot(\"bindEvents\",function(){i.bind(t,n,r.handleMouseWheel)}),Ot(\"unbindEvents\",function(){$e&&i.unbind(t,n,r.handleMouseWheel)}),r.mouseZoomedIn=!1;var o,a=function(){r.mouseZoomedIn&&(i.removeClass(t,\"pswp--zoomed-in\"),r.mouseZoomedIn=!1),h<1?i.addClass(t,\"pswp--zoom-allowed\"):i.removeClass(t,\"pswp--zoom-allowed\"),s()},s=function(){o&&(i.removeClass(t,\"pswp--dragging\"),o=!1)};Ot(\"resize\",a),Ot(\"afterChange\",a),Ot(\"pointerDown\",function(){r.mouseZoomedIn&&(o=!0,i.addClass(t,\"pswp--dragging\"))}),Ot(\"pointerUp\",s),e||a()},handleMouseWheel:function(t){if(h<=r.currItem.fitRatio)return a.modal&&(!a.closeOnScroll||Xt||W?t.preventDefault():I&&Math.abs(t.deltaY)>2&&(c=!0,r.close())),!0;if(t.stopPropagation(),$e.x=0,\"deltaX\"in t)1===t.deltaMode?($e.x=18*t.deltaX,$e.y=18*t.deltaY):($e.x=t.deltaX,$e.y=t.deltaY);else if(\"wheelDelta\"in t)t.wheelDeltaX&&($e.x=-.16*t.wheelDeltaX),$e.y=t.wheelDeltaY?-.16*t.wheelDeltaY:-.16*t.wheelDelta;else{if(!(\"detail\"in t))return;$e.y=t.detail}Zt(h,!0);var e=ut.x-$e.x,n=ut.y-$e.y;(a.modal||e<=tt.min.x&&e>=tt.max.x&&n<=tt.min.y&&n>=tt.max.y)&&t.preventDefault(),r.panTo(e,n)},toggleDesktopZoom:function(e){e=e||{x:dt.x/2+ft.x,y:dt.y/2+ft.y};var n=a.getDoubleTapZoom(!0,r.currItem),o=h===n;r.mouseZoomedIn=!o,r.zoomTo(o?r.currItem.initialZoomLevel:n,e,333),i[(o?\"remove\":\"add\")+\"Class\"](t,\"pswp--zoomed-in\")}}});var nn,on,rn,an,sn,ln,cn,pn,un,dn,mn,fn,gn={history:!0,galleryUID:1},hn=function(){return mn.hash.substring(1)},wn=function(){nn&&clearTimeout(nn),rn&&clearTimeout(rn)},_n=function(){var t=hn(),e={};if(t.length<5)return e;var n,o=t.split(\"&\");for(n=0;n<o.length;n++)if(o[n]){var i=o[n].split(\"=\");i.length<2||(e[i[0]]=i[1])}if(a.galleryPIDs){var r=e.pid;for(e.pid=0,n=0;n<Re.length;n++)if(Re[n].pid===r){e.pid=n;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},bn=function t(){if(rn&&clearTimeout(rn),Xt||W)rn=setTimeout(t,500);else{an?clearTimeout(on):an=!0;var e=p+1,n=Ne(p);n.hasOwnProperty(\"pid\")&&(e=n.pid);var o=cn+\"&gid=\"+a.galleryUID+\"&pid=\"+e;pn||-1===mn.hash.indexOf(o)&&(dn=!0);var i=mn.href.split(\"#\")[0]+\"#\"+o;fn?\"#\"+o!==window.location.hash&&history[pn?\"replaceState\":\"pushState\"](\"\",document.title,i):pn?mn.replace(i):mn.hash=o,pn=!0,on=setTimeout(function(){an=!1},60)}};xt(\"History\",{publicMethods:{initHistory:function(){if(i.extend(a,gn,!0),a.history){mn=window.location,dn=!1,un=!1,pn=!1,cn=hn(),fn=\"pushState\"in history,cn.indexOf(\"gid=\")>-1&&(cn=(cn=cn.split(\"&gid=\")[0]).split(\"?gid=\")[0]),Ot(\"afterChange\",r.updateURL),Ot(\"unbindEvents\",function(){i.unbind(window,\"hashchange\",r.onHashChange)});var t=function(){ln=!0,un||(dn?history.back():cn?mn.hash=cn:fn?history.pushState(\"\",document.title,mn.pathname+mn.search):mn.hash=\"\"),wn()};Ot(\"unbindEvents\",function(){c&&t()}),Ot(\"destroy\",function(){ln||t()}),Ot(\"firstUpdate\",function(){p=_n().pid});var e=cn.indexOf(\"pid=\");e>-1&&\"&\"===(cn=cn.substring(0,e)).slice(-1)&&(cn=cn.slice(0,-1)),setTimeout(function(){s&&i.bind(window,\"hashchange\",r.onHashChange)},40)}},onHashChange:function(){if(hn()===cn)return un=!0,void r.close();an||(sn=!0,r.goTo(_n().pid),sn=!1)},updateURL:function(){wn(),sn||(pn?nn=setTimeout(bn,800):bn())}}}),i.extend(r,Jt)}})?o.call(e,n,e,t):o)||(t.exports=i)}}]);","name":"2.f804abd167c70bca6f74.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[2],{\n\n/***/ \"FP2o\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n\n/**\n*\n* UI on top of main sliding area (caption, arrows, close button, etc.).\n* Built just using public methods/properties of PhotoSwipe.\n* \n*/\n(function (root, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n})(this, function () {\n  'use strict';\n\n  var PhotoSwipeUI_Default = function PhotoSwipeUI_Default(pswp, framework) {\n    var ui = this;\n\n    var _overlayUIUpdated = false,\n        _controlsVisible = true,\n        _fullscrenAPI,\n        _controls,\n        _captionContainer,\n        _fakeCaptionContainer,\n        _indexIndicator,\n        _shareButton,\n        _shareModal,\n        _shareModalHidden = true,\n        _initalCloseOnScrollValue,\n        _isIdle,\n        _listen,\n        _loadingIndicator,\n        _loadingIndicatorHidden,\n        _loadingIndicatorTimeout,\n        _galleryHasOneSlide,\n        _options,\n        _defaultUIOptions = {\n      barsSize: {\n        top: 44,\n        bottom: 'auto'\n      },\n      closeElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'],\n      timeToIdle: 4000,\n      timeToIdleOutside: 1000,\n      loadingIndicatorDelay: 1000,\n      // 2s\n      addCaptionHTMLFn: function addCaptionHTMLFn(item, captionEl\n      /*, isFake */\n      ) {\n        if (!item.title) {\n          captionEl.children[0].innerHTML = '';\n          return false;\n        }\n\n        captionEl.children[0].innerHTML = item.title;\n        return true;\n      },\n      closeEl: true,\n      captionEl: true,\n      fullscreenEl: true,\n      zoomEl: true,\n      shareEl: true,\n      counterEl: true,\n      arrowEl: true,\n      preloaderEl: true,\n      tapToClose: false,\n      tapToToggleControls: true,\n      clickToCloseNonZoomable: true,\n      shareButtons: [{\n        id: 'facebook',\n        label: 'Share on Facebook',\n        url: 'https://www.facebook.com/sharer/sharer.php?u={{url}}'\n      }, {\n        id: 'twitter',\n        label: 'Tweet',\n        url: 'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'\n      }, {\n        id: 'pinterest',\n        label: 'Pin it',\n        url: 'http://www.pinterest.com/pin/create/button/' + '?url={{url}}&media={{image_url}}&description={{text}}'\n      }, {\n        id: 'download',\n        label: 'Download image',\n        url: '{{raw_image_url}}',\n        download: true\n      }],\n      getImageURLForShare: function getImageURLForShare()\n      /* shareButtonData */\n      {\n        return pswp.currItem.src || '';\n      },\n      getPageURLForShare: function getPageURLForShare()\n      /* shareButtonData */\n      {\n        return window.location.href;\n      },\n      getTextForShare: function getTextForShare()\n      /* shareButtonData */\n      {\n        return pswp.currItem.title || '';\n      },\n      indexIndicatorSep: ' / ',\n      fitControlsWidth: 1200\n    },\n        _blockControlsTap,\n        _blockControlsTapTimeout;\n\n    var _onControlsTap = function _onControlsTap(e) {\n      if (_blockControlsTap) {\n        return true;\n      }\n\n      e = e || window.event;\n\n      if (_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n        // reset idle timer\n        _onIdleMouseMove();\n      }\n\n      var target = e.target || e.srcElement,\n          uiElement,\n          clickedClass = target.getAttribute('class') || '',\n          found;\n\n      for (var i = 0; i < _uiElements.length; i++) {\n        uiElement = _uiElements[i];\n\n        if (uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name) > -1) {\n          uiElement.onTap();\n          found = true;\n        }\n      }\n\n      if (found) {\n        if (e.stopPropagation) {\n          e.stopPropagation();\n        }\n\n        _blockControlsTap = true; // Some versions of Android don't prevent ghost click event \n        // when preventDefault() was called on touchstart and/or touchend.\n        // \n        // This happens on v4.3, 4.2, 4.1, \n        // older versions strangely work correctly, \n        // but just in case we add delay on all of them)\t\n\n        var tapDelay = framework.features.isOldAndroid ? 600 : 30;\n        _blockControlsTapTimeout = setTimeout(function () {\n          _blockControlsTap = false;\n        }, tapDelay);\n      }\n    },\n        _fitControlsInViewport = function _fitControlsInViewport() {\n      return !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n    },\n        _togglePswpClass = function _togglePswpClass(el, cName, add) {\n      framework[(add ? 'add' : 'remove') + 'Class'](el, 'pswp__' + cName);\n    },\n        // add class when there is just one item in the gallery\n    // (by default it hides left/right arrows and 1ofX counter)\n    _countNumItems = function _countNumItems() {\n      var hasOneSlide = _options.getNumItemsFn() === 1;\n\n      if (hasOneSlide !== _galleryHasOneSlide) {\n        _togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n\n        _galleryHasOneSlide = hasOneSlide;\n      }\n    },\n        _toggleShareModalClass = function _toggleShareModalClass() {\n      _togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n    },\n        _toggleShareModal = function _toggleShareModal() {\n      _shareModalHidden = !_shareModalHidden;\n\n      if (!_shareModalHidden) {\n        _toggleShareModalClass();\n\n        setTimeout(function () {\n          if (!_shareModalHidden) {\n            framework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n          }\n        }, 30);\n      } else {\n        framework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n        setTimeout(function () {\n          if (_shareModalHidden) {\n            _toggleShareModalClass();\n          }\n        }, 300);\n      }\n\n      if (!_shareModalHidden) {\n        _updateShareURLs();\n      }\n\n      return false;\n    },\n        _openWindowPopup = function _openWindowPopup(e) {\n      e = e || window.event;\n      var target = e.target || e.srcElement;\n      pswp.shout('shareLinkClick', e, target);\n\n      if (!target.href) {\n        return false;\n      }\n\n      if (target.hasAttribute('download')) {\n        return true;\n      }\n\n      window.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,' + 'location=yes,width=550,height=420,top=100,left=' + (window.screen ? Math.round(screen.width / 2 - 275) : 100));\n\n      if (!_shareModalHidden) {\n        _toggleShareModal();\n      }\n\n      return false;\n    },\n        _updateShareURLs = function _updateShareURLs() {\n      var shareButtonOut = '',\n          shareButtonData,\n          shareURL,\n          image_url,\n          page_url,\n          share_text;\n\n      for (var i = 0; i < _options.shareButtons.length; i++) {\n        shareButtonData = _options.shareButtons[i];\n        image_url = _options.getImageURLForShare(shareButtonData);\n        page_url = _options.getPageURLForShare(shareButtonData);\n        share_text = _options.getTextForShare(shareButtonData);\n        shareURL = shareButtonData.url.replace('{{url}}', encodeURIComponent(page_url)).replace('{{image_url}}', encodeURIComponent(image_url)).replace('{{raw_image_url}}', image_url).replace('{{text}}', encodeURIComponent(share_text));\n        shareButtonOut += '<a href=\"' + shareURL + '\" target=\"_blank\" ' + 'class=\"pswp__share--' + shareButtonData.id + '\"' + (shareButtonData.download ? 'download' : '') + '>' + shareButtonData.label + '</a>';\n\n        if (_options.parseShareButtonOut) {\n          shareButtonOut = _options.parseShareButtonOut(shareButtonData, shareButtonOut);\n        }\n      }\n\n      _shareModal.children[0].innerHTML = shareButtonOut;\n      _shareModal.children[0].onclick = _openWindowPopup;\n    },\n        _hasCloseClass = function _hasCloseClass(target) {\n      for (var i = 0; i < _options.closeElClasses.length; i++) {\n        if (framework.hasClass(target, 'pswp__' + _options.closeElClasses[i])) {\n          return true;\n        }\n      }\n    },\n        _idleInterval,\n        _idleTimer,\n        _idleIncrement = 0,\n        _onIdleMouseMove = function _onIdleMouseMove() {\n      clearTimeout(_idleTimer);\n      _idleIncrement = 0;\n\n      if (_isIdle) {\n        ui.setIdle(false);\n      }\n    },\n        _onMouseLeaveWindow = function _onMouseLeaveWindow(e) {\n      e = e ? e : window.event;\n      var from = e.relatedTarget || e.toElement;\n\n      if (!from || from.nodeName === 'HTML') {\n        clearTimeout(_idleTimer);\n        _idleTimer = setTimeout(function () {\n          ui.setIdle(true);\n        }, _options.timeToIdleOutside);\n      }\n    },\n        _setupFullscreenAPI = function _setupFullscreenAPI() {\n      if (_options.fullscreenEl && !framework.features.isOldAndroid) {\n        if (!_fullscrenAPI) {\n          _fullscrenAPI = ui.getFullscreenAPI();\n        }\n\n        if (_fullscrenAPI) {\n          framework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n          ui.updateFullscreen();\n          framework.addClass(pswp.template, 'pswp--supports-fs');\n        } else {\n          framework.removeClass(pswp.template, 'pswp--supports-fs');\n        }\n      }\n    },\n        _setupLoadingIndicator = function _setupLoadingIndicator() {\n      // Setup loading indicator\n      if (_options.preloaderEl) {\n        _toggleLoadingIndicator(true);\n\n        _listen('beforeChange', function () {\n          clearTimeout(_loadingIndicatorTimeout); // display loading indicator with delay\n\n          _loadingIndicatorTimeout = setTimeout(function () {\n            if (pswp.currItem && pswp.currItem.loading) {\n              if (!pswp.allowProgressiveImg() || pswp.currItem.img && !pswp.currItem.img.naturalWidth) {\n                // show preloader if progressive loading is not enabled, \n                // or image width is not defined yet (because of slow connection)\n                _toggleLoadingIndicator(false); // items-controller.js function allowProgressiveImg\n\n              }\n            } else {\n              _toggleLoadingIndicator(true); // hide preloader\n\n            }\n          }, _options.loadingIndicatorDelay);\n        });\n\n        _listen('imageLoadComplete', function (index, item) {\n          if (pswp.currItem === item) {\n            _toggleLoadingIndicator(true);\n          }\n        });\n      }\n    },\n        _toggleLoadingIndicator = function _toggleLoadingIndicator(hide) {\n      if (_loadingIndicatorHidden !== hide) {\n        _togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n\n        _loadingIndicatorHidden = hide;\n      }\n    },\n        _applyNavBarGaps = function _applyNavBarGaps(item) {\n      var gap = item.vGap;\n\n      if (_fitControlsInViewport()) {\n        var bars = _options.barsSize;\n\n        if (_options.captionEl && bars.bottom === 'auto') {\n          if (!_fakeCaptionContainer) {\n            _fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n\n            _fakeCaptionContainer.appendChild(framework.createEl('pswp__caption__center'));\n\n            _controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\n            framework.addClass(_controls, 'pswp__ui--fit');\n          }\n\n          if (_options.addCaptionHTMLFn(item, _fakeCaptionContainer, true)) {\n            var captionSize = _fakeCaptionContainer.clientHeight;\n            gap.bottom = parseInt(captionSize, 10) || 44;\n          } else {\n            gap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n          }\n        } else {\n          gap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n        } // height of top bar is static, no need to calculate it\n\n\n        gap.top = bars.top;\n      } else {\n        gap.top = gap.bottom = 0;\n      }\n    },\n        _setupIdle = function _setupIdle() {\n      // Hide controls when mouse is used\n      if (_options.timeToIdle) {\n        _listen('mouseUsed', function () {\n          framework.bind(document, 'mousemove', _onIdleMouseMove);\n          framework.bind(document, 'mouseout', _onMouseLeaveWindow);\n          _idleInterval = setInterval(function () {\n            _idleIncrement++;\n\n            if (_idleIncrement === 2) {\n              ui.setIdle(true);\n            }\n          }, _options.timeToIdle / 2);\n        });\n      }\n    },\n        _setupHidingControlsDuringGestures = function _setupHidingControlsDuringGestures() {\n      // Hide controls on vertical drag\n      _listen('onVerticalDrag', function (now) {\n        if (_controlsVisible && now < 0.95) {\n          ui.hideControls();\n        } else if (!_controlsVisible && now >= 0.95) {\n          ui.showControls();\n        }\n      }); // Hide controls when pinching to close\n\n\n      var pinchControlsHidden;\n\n      _listen('onPinchClose', function (now) {\n        if (_controlsVisible && now < 0.9) {\n          ui.hideControls();\n          pinchControlsHidden = true;\n        } else if (pinchControlsHidden && !_controlsVisible && now > 0.9) {\n          ui.showControls();\n        }\n      });\n\n      _listen('zoomGestureEnded', function () {\n        pinchControlsHidden = false;\n\n        if (pinchControlsHidden && !_controlsVisible) {\n          ui.showControls();\n        }\n      });\n    };\n\n    var _uiElements = [{\n      name: 'caption',\n      option: 'captionEl',\n      onInit: function onInit(el) {\n        _captionContainer = el;\n      }\n    }, {\n      name: 'share-modal',\n      option: 'shareEl',\n      onInit: function onInit(el) {\n        _shareModal = el;\n      },\n      onTap: function onTap() {\n        _toggleShareModal();\n      }\n    }, {\n      name: 'button--share',\n      option: 'shareEl',\n      onInit: function onInit(el) {\n        _shareButton = el;\n      },\n      onTap: function onTap() {\n        _toggleShareModal();\n      }\n    }, {\n      name: 'button--zoom',\n      option: 'zoomEl',\n      onTap: pswp.toggleDesktopZoom\n    }, {\n      name: 'counter',\n      option: 'counterEl',\n      onInit: function onInit(el) {\n        _indexIndicator = el;\n      }\n    }, {\n      name: 'button--close',\n      option: 'closeEl',\n      onTap: pswp.close\n    }, {\n      name: 'button--arrow--left',\n      option: 'arrowEl',\n      onTap: pswp.prev\n    }, {\n      name: 'button--arrow--right',\n      option: 'arrowEl',\n      onTap: pswp.next\n    }, {\n      name: 'button--fs',\n      option: 'fullscreenEl',\n      onTap: function onTap() {\n        if (_fullscrenAPI.isFullscreen()) {\n          _fullscrenAPI.exit();\n        } else {\n          _fullscrenAPI.enter();\n        }\n      }\n    }, {\n      name: 'preloader',\n      option: 'preloaderEl',\n      onInit: function onInit(el) {\n        _loadingIndicator = el;\n      }\n    }];\n\n    var _setupUIElements = function _setupUIElements() {\n      var item, classAttr, uiElement;\n\n      var loopThroughChildElements = function loopThroughChildElements(sChildren) {\n        if (!sChildren) {\n          return;\n        }\n\n        var l = sChildren.length;\n\n        for (var i = 0; i < l; i++) {\n          item = sChildren[i];\n          classAttr = item.className;\n\n          for (var a = 0; a < _uiElements.length; a++) {\n            uiElement = _uiElements[a];\n\n            if (classAttr.indexOf('pswp__' + uiElement.name) > -1) {\n              if (_options[uiElement.option]) {\n                // if element is not disabled from options\n                framework.removeClass(item, 'pswp__element--disabled');\n\n                if (uiElement.onInit) {\n                  uiElement.onInit(item);\n                } //item.style.display = 'block';\n\n              } else {\n                framework.addClass(item, 'pswp__element--disabled'); //item.style.display = 'none';\n              }\n            }\n          }\n        }\n      };\n\n      loopThroughChildElements(_controls.children);\n      var topBar = framework.getChildByClass(_controls, 'pswp__top-bar');\n\n      if (topBar) {\n        loopThroughChildElements(topBar.children);\n      }\n    };\n\n    ui.init = function () {\n      // extend options\n      framework.extend(pswp.options, _defaultUIOptions, true); // create local link for fast access\n\n      _options = pswp.options; // find pswp__ui element\n\n      _controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui'); // create local link\n\n      _listen = pswp.listen;\n\n      _setupHidingControlsDuringGestures(); // update controls when slides change\n\n\n      _listen('beforeChange', ui.update); // toggle zoom on double-tap\n\n\n      _listen('doubleTap', function (point) {\n        var initialZoomLevel = pswp.currItem.initialZoomLevel;\n\n        if (pswp.getZoomLevel() !== initialZoomLevel) {\n          pswp.zoomTo(initialZoomLevel, point, 333);\n        } else {\n          pswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n        }\n      }); // Allow text selection in caption\n\n\n      _listen('preventDragEvent', function (e, isDown, preventObj) {\n        var t = e.target || e.srcElement;\n\n        if (t && t.getAttribute('class') && e.type.indexOf('mouse') > -1 && (t.getAttribute('class').indexOf('__caption') > 0 || /(SMALL|STRONG|EM)/i.test(t.tagName))) {\n          preventObj.prevent = false;\n        }\n      }); // bind events for UI\n\n\n      _listen('bindEvents', function () {\n        framework.bind(_controls, 'pswpTap click', _onControlsTap);\n        framework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n        if (!pswp.likelyTouchDevice) {\n          framework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n        }\n      }); // unbind events for UI\n\n\n      _listen('unbindEvents', function () {\n        if (!_shareModalHidden) {\n          _toggleShareModal();\n        }\n\n        if (_idleInterval) {\n          clearInterval(_idleInterval);\n        }\n\n        framework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n        framework.unbind(document, 'mousemove', _onIdleMouseMove);\n        framework.unbind(_controls, 'pswpTap click', _onControlsTap);\n        framework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n        framework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n        if (_fullscrenAPI) {\n          framework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\n          if (_fullscrenAPI.isFullscreen()) {\n            _options.hideAnimationDuration = 0;\n\n            _fullscrenAPI.exit();\n          }\n\n          _fullscrenAPI = null;\n        }\n      }); // clean up things when gallery is destroyed\n\n\n      _listen('destroy', function () {\n        if (_options.captionEl) {\n          if (_fakeCaptionContainer) {\n            _controls.removeChild(_fakeCaptionContainer);\n          }\n\n          framework.removeClass(_captionContainer, 'pswp__caption--empty');\n        }\n\n        if (_shareModal) {\n          _shareModal.children[0].onclick = null;\n        }\n\n        framework.removeClass(_controls, 'pswp__ui--over-close');\n        framework.addClass(_controls, 'pswp__ui--hidden');\n        ui.setIdle(false);\n      });\n\n      if (!_options.showAnimationDuration) {\n        framework.removeClass(_controls, 'pswp__ui--hidden');\n      }\n\n      _listen('initialZoomIn', function () {\n        if (_options.showAnimationDuration) {\n          framework.removeClass(_controls, 'pswp__ui--hidden');\n        }\n      });\n\n      _listen('initialZoomOut', function () {\n        framework.addClass(_controls, 'pswp__ui--hidden');\n      });\n\n      _listen('parseVerticalMargin', _applyNavBarGaps);\n\n      _setupUIElements();\n\n      if (_options.shareEl && _shareButton && _shareModal) {\n        _shareModalHidden = true;\n      }\n\n      _countNumItems();\n\n      _setupIdle();\n\n      _setupFullscreenAPI();\n\n      _setupLoadingIndicator();\n    };\n\n    ui.setIdle = function (isIdle) {\n      _isIdle = isIdle;\n\n      _togglePswpClass(_controls, 'ui--idle', isIdle);\n    };\n\n    ui.update = function () {\n      // Don't update UI if it's hidden\n      if (_controlsVisible && pswp.currItem) {\n        ui.updateIndexIndicator();\n\n        if (_options.captionEl) {\n          _options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n          _togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n        }\n\n        _overlayUIUpdated = true;\n      } else {\n        _overlayUIUpdated = false;\n      }\n\n      if (!_shareModalHidden) {\n        _toggleShareModal();\n      }\n\n      _countNumItems();\n    };\n\n    ui.updateFullscreen = function (e) {\n      if (e) {\n        // some browsers change window scroll position during the fullscreen\n        // so PhotoSwipe updates it just in case\n        setTimeout(function () {\n          pswp.setScrollOffset(0, framework.getScrollY());\n        }, 50);\n      } // toogle pswp--fs class on root element\n\n\n      framework[(_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class'](pswp.template, 'pswp--fs');\n    };\n\n    ui.updateIndexIndicator = function () {\n      if (_options.counterEl) {\n        _indexIndicator.innerHTML = pswp.getCurrentIndex() + 1 + _options.indexIndicatorSep + _options.getNumItemsFn();\n      }\n    };\n\n    ui.onGlobalTap = function (e) {\n      e = e || window.event;\n      var target = e.target || e.srcElement;\n\n      if (_blockControlsTap) {\n        return;\n      }\n\n      if (e.detail && e.detail.pointerType === 'mouse') {\n        // close gallery if clicked outside of the image\n        if (_hasCloseClass(target)) {\n          pswp.close();\n          return;\n        }\n\n        if (framework.hasClass(target, 'pswp__img')) {\n          if (pswp.getZoomLevel() === 1 && pswp.getZoomLevel() <= pswp.currItem.fitRatio) {\n            if (_options.clickToCloseNonZoomable) {\n              pswp.close();\n            }\n          } else {\n            pswp.toggleDesktopZoom(e.detail.releasePoint);\n          }\n        }\n      } else {\n        // tap anywhere (except buttons) to toggle visibility of controls\n        if (_options.tapToToggleControls) {\n          if (_controlsVisible) {\n            ui.hideControls();\n          } else {\n            ui.showControls();\n          }\n        } // tap to close gallery\n\n\n        if (_options.tapToClose && (framework.hasClass(target, 'pswp__img') || _hasCloseClass(target))) {\n          pswp.close();\n          return;\n        }\n      }\n    };\n\n    ui.onMouseOver = function (e) {\n      e = e || window.event;\n      var target = e.target || e.srcElement; // add class when mouse is over an element that should close the gallery\n\n      _togglePswpClass(_controls, 'ui--over-close', _hasCloseClass(target));\n    };\n\n    ui.hideControls = function () {\n      framework.addClass(_controls, 'pswp__ui--hidden');\n      _controlsVisible = false;\n    };\n\n    ui.showControls = function () {\n      _controlsVisible = true;\n\n      if (!_overlayUIUpdated) {\n        ui.update();\n      }\n\n      framework.removeClass(_controls, 'pswp__ui--hidden');\n    };\n\n    ui.supportsFullscreen = function () {\n      var d = document;\n      return !!(d.exitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen || d.msExitFullscreen);\n    };\n\n    ui.getFullscreenAPI = function () {\n      var dE = document.documentElement,\n          api,\n          tF = 'fullscreenchange';\n\n      if (dE.requestFullscreen) {\n        api = {\n          enterK: 'requestFullscreen',\n          exitK: 'exitFullscreen',\n          elementK: 'fullscreenElement',\n          eventK: tF\n        };\n      } else if (dE.mozRequestFullScreen) {\n        api = {\n          enterK: 'mozRequestFullScreen',\n          exitK: 'mozCancelFullScreen',\n          elementK: 'mozFullScreenElement',\n          eventK: 'moz' + tF\n        };\n      } else if (dE.webkitRequestFullscreen) {\n        api = {\n          enterK: 'webkitRequestFullscreen',\n          exitK: 'webkitExitFullscreen',\n          elementK: 'webkitFullscreenElement',\n          eventK: 'webkit' + tF\n        };\n      } else if (dE.msRequestFullscreen) {\n        api = {\n          enterK: 'msRequestFullscreen',\n          exitK: 'msExitFullscreen',\n          elementK: 'msFullscreenElement',\n          eventK: 'MSFullscreenChange'\n        };\n      }\n\n      if (api) {\n        api.enter = function () {\n          // disable close-on-scroll in fullscreen\n          _initalCloseOnScrollValue = _options.closeOnScroll;\n          _options.closeOnScroll = false;\n\n          if (this.enterK === 'webkitRequestFullscreen') {\n            pswp.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);\n          } else {\n            return pswp.template[this.enterK]();\n          }\n        };\n\n        api.exit = function () {\n          _options.closeOnScroll = _initalCloseOnScrollValue;\n          return document[this.exitK]();\n        };\n\n        api.isFullscreen = function () {\n          return document[this.elementK];\n        };\n      }\n\n      return api;\n    };\n  };\n\n  return PhotoSwipeUI_Default;\n});\n\n/***/ }),\n\n/***/ \"f5Ne\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export Angular2PhotoswipeService */\n/* unused harmony export Angular2PhotoswipeComponent */\n/* unused harmony export LightboxAdapter */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Angular2PhotoswipeModule; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return Image; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return GalleryItemComponent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return GalleryComponent; });\n/* unused harmony export ɵa */\n/* unused harmony export ɵb */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return LightboxComponent; });\n/* unused harmony export ɵd */\n/* harmony import */ var E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"Ji7U\");\n/* harmony import */ var E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"LK+K\");\n/* harmony import */ var E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"vuIU\");\n/* harmony import */ var E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"1OyB\");\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"SVse\");\n/* harmony import */ var photoswipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"sk+M\");\n/* harmony import */ var photoswipe__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(photoswipe__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var photoswipe_dist_photoswipe_ui_default__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"FP2o\");\n/* harmony import */ var photoswipe_dist_photoswipe_ui_default__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(photoswipe_dist_photoswipe_ui_default__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"8Y7J\");\n\n\n\n\n\n\n\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\n\nvar _c0 = [\"ngpLightbox\"];\n\nvar _c1 = function _c1(a0) {\n  return {\n    \"card-img-top\": a0\n  };\n};\n\nvar _c2 = [\"ngpGallery\"];\nvar _c3 = [[[\"ngp-gallery-item\"]]];\n\nvar _c4 = function _c4(a0) {\n  return {\n    \"card-columns\": a0\n  };\n};\n\nvar _c5 = [\"ngp-gallery-item\"];\n\nvar Angular2PhotoswipeService = /*@__PURE__*/function () {\n  var Angular2PhotoswipeService = function Angular2PhotoswipeService() {\n    Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, Angular2PhotoswipeService);\n  };\n\n  Angular2PhotoswipeService.ɵfac = function Angular2PhotoswipeService_Factory(t) {\n    return new (t || Angular2PhotoswipeService)();\n  };\n\n  Angular2PhotoswipeService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdefineInjectable */ \"Ob\"]({\n    token: Angular2PhotoswipeService,\n    factory: Angular2PhotoswipeService.ɵfac,\n    providedIn: 'root'\n  });\n  /** @nocollapse */\n\n  Angular2PhotoswipeService.ngInjectableDef = Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdefineInjectable */ \"Ob\"])({\n    factory: function Angular2PhotoswipeService_Factory() {\n      return new Angular2PhotoswipeService();\n    },\n    token: Angular2PhotoswipeService,\n    providedIn: \"root\"\n  });\n  return Angular2PhotoswipeService;\n}();\n\nvar Angular2PhotoswipeComponent = /*@__PURE__*/function () {\n  var Angular2PhotoswipeComponent = /*#__PURE__*/function () {\n    function Angular2PhotoswipeComponent() {\n      Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, Angular2PhotoswipeComponent);\n    }\n    /**\n     * @return {?}\n     */\n\n\n    Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Angular2PhotoswipeComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {}\n    }]);\n\n    return Angular2PhotoswipeComponent;\n  }();\n\n  Angular2PhotoswipeComponent.ɵfac = function Angular2PhotoswipeComponent_Factory(t) {\n    return new (t || Angular2PhotoswipeComponent)();\n  };\n\n  Angular2PhotoswipeComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdefineComponent */ \"Mb\"]({\n    type: Angular2PhotoswipeComponent,\n    selectors: [[\"ngp-angular2-photoswipe\"]],\n    decls: 2,\n    vars: 0,\n    template: function Angular2PhotoswipeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementStart */ \"Yb\"](0, \"p\");\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵtext */ \"Tc\"](1, \" angular2-photoswipe works! \");\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementEnd */ \"Xb\"]();\n      }\n    },\n    encapsulation: 2\n  });\n  return Angular2PhotoswipeComponent;\n}();\n\nvar NgpService = /*@__PURE__*/function () {\n  var NgpService = function NgpService() {\n    Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, NgpService);\n  };\n\n  NgpService.ɵfac = function NgpService_Factory(t) {\n    return new (t || NgpService)();\n  };\n\n  NgpService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdefineInjectable */ \"Ob\"]({\n    token: NgpService,\n    factory: NgpService.ɵfac,\n    providedIn: 'root'\n  });\n  /** @nocollapse */\n\n  NgpService.ngInjectableDef = Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdefineInjectable */ \"Ob\"])({\n    factory: function NgpService_Factory() {\n      return new NgpService();\n    },\n    token: NgpService,\n    providedIn: \"root\"\n  });\n  return NgpService;\n}();\n\nvar LightboxComponent = /*@__PURE__*/function () {\n  var LightboxComponent = /*#__PURE__*/function () {\n    /**\n     * @param {?} ngp\n     */\n    function LightboxComponent(ngp) {\n      Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, LightboxComponent);\n\n      this.ngp = ngp;\n    }\n    /**\n     * @return {?}\n     */\n\n\n    Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(LightboxComponent, [{\n      key: \"ngAfterContentInit\",\n      value: function ngAfterContentInit() {\n        this.ngp.LightboxElement = this.el;\n      }\n    }]);\n\n    return LightboxComponent;\n  }();\n\n  LightboxComponent.ɵfac = function LightboxComponent_Factory(t) {\n    return new (t || LightboxComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdirectiveInject */ \"Sb\"](NgpService));\n  };\n\n  LightboxComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdefineComponent */ \"Mb\"]({\n    type: LightboxComponent,\n    selectors: [[\"ngp-lightbox\"]],\n    viewQuery: function LightboxComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵviewQuery */ \"Xc\"](_c0, 3);\n      }\n\n      if (rf & 2) {\n        var _t;\n\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵqueryRefresh */ \"Fc\"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵloadQuery */ \"jc\"]()) && (ctx.el = _t.first);\n      }\n    },\n    decls: 25,\n    vars: 0,\n    consts: [[\"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-hidden\", \"true\", 1, \"pswp\"], [\"ngpLightbox\", \"\"], [1, \"pswp__bg\"], [1, \"pswp__scroll-wrap\"], [1, \"pswp__container\"], [1, \"pswp__item\"], [1, \"pswp__ui\", \"pswp__ui--hidden\"], [1, \"pswp__top-bar\"], [1, \"pswp__counter\"], [\"title\", \"Close (Esc)\", 1, \"pswp__button\", \"pswp__button--close\"], [\"title\", \"Share\", 1, \"pswp__button\", \"pswp__button--share\"], [\"title\", \"Toggle fullscreen\", 1, \"pswp__button\", \"pswp__button--fs\"], [\"title\", \"Zoom in/out\", 1, \"pswp__button\", \"pswp__button--zoom\"], [1, \"pswp__preloader\"], [1, \"pswp__preloader__icn\"], [1, \"pswp__preloader__cut\"], [1, \"pswp__preloader__donut\"], [1, \"pswp__share-modal\", \"pswp__share-modal--hidden\", \"pswp__single-tap\"], [1, \"pswp__share-tooltip\"], [\"title\", \"Previous (arrow left)\", 1, \"pswp__button\", \"pswp__button--arrow--left\"], [\"title\", \"Next (arrow right)\", 1, \"pswp__button\", \"pswp__button--arrow--right\"], [1, \"pswp__caption\"], [1, \"pswp__caption__center\"]],\n    template: function LightboxComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementStart */ \"Yb\"](0, \"div\", 0, 1);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](2, \"div\", 2);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementStart */ \"Yb\"](3, \"div\", 3);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementStart */ \"Yb\"](4, \"div\", 4);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](5, \"div\", 5);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](6, \"div\", 5);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](7, \"div\", 5);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementEnd */ \"Xb\"]();\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementStart */ \"Yb\"](8, \"div\", 6);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementStart */ \"Yb\"](9, \"div\", 7);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](10, \"div\", 8);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](11, \"button\", 9);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](12, \"button\", 10);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](13, \"button\", 11);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](14, \"button\", 12);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementStart */ \"Yb\"](15, \"div\", 13);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementStart */ \"Yb\"](16, \"div\", 14);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementStart */ \"Yb\"](17, \"div\", 15);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](18, \"div\", 16);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementEnd */ \"Xb\"]();\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementEnd */ \"Xb\"]();\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementEnd */ \"Xb\"]();\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementEnd */ \"Xb\"]();\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementStart */ \"Yb\"](19, \"div\", 17);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](20, \"div\", 18);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementEnd */ \"Xb\"]();\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](21, \"button\", 19);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](22, \"button\", 20);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementStart */ \"Yb\"](23, \"div\", 21);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](24, \"div\", 22);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementEnd */ \"Xb\"]();\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementEnd */ \"Xb\"]();\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementEnd */ \"Xb\"]();\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementEnd */ \"Xb\"]();\n      }\n    },\n    styles: [\".pswp[_ngcontent-%COMP%]{display:none;position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;touch-action:none;z-index:1500;-webkit-text-size-adjust:100%;-webkit-backface-visibility:hidden;outline:0}.pswp[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.pswp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:none}.pswp--animate_opacity[_ngcontent-%COMP%]{opacity:.001;will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--open[_ngcontent-%COMP%]{display:block}.pswp--zoom-allowed[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in}.pswp--zoomed-in[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.pswp--dragging[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.pswp__bg[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;background:#000;opacity:0;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-backface-visibility:hidden;will-change:opacity}.pswp__scroll-wrap[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden}.pswp__container[_ngcontent-%COMP%], .pswp__zoom-wrap[_ngcontent-%COMP%]{touch-action:none;position:absolute;left:0;right:0;top:0;bottom:0;-webkit-backface-visibility:hidden}.pswp__container[_ngcontent-%COMP%], .pswp__img[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.pswp__zoom-wrap[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-transform-origin:left top;transform-origin:left top;transition:transform 333ms cubic-bezier(.4,0,.22,1),-webkit-transform 333ms cubic-bezier(.4,0,.22,1)}.pswp__bg[_ngcontent-%COMP%]{will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--animated-in[_ngcontent-%COMP%]   .pswp__bg[_ngcontent-%COMP%], .pswp--animated-in[_ngcontent-%COMP%]   .pswp__zoom-wrap[_ngcontent-%COMP%]{transition:none}.pswp__item[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;bottom:0;overflow:hidden}.pswp__img[_ngcontent-%COMP%]{position:absolute;width:auto;height:auto;top:0;left:0}.pswp__img--placeholder[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden}.pswp__img--placeholder--blank[_ngcontent-%COMP%]{background:#222}.pswp--ie[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{width:100%!important;height:auto!important;left:0;top:0}.pswp__error-msg[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;width:100%;text-align:center;font-size:14px;line-height:16px;margin-top:-8px;color:#ccc}.pswp__error-msg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ccc;text-decoration:underline}.pswp__button[_ngcontent-%COMP%]{position:relative;cursor:pointer;overflow:visible;-webkit-appearance:none;display:block;border:0;padding:0;margin:0;float:right;opacity:.75;transition:opacity .2s;box-shadow:none}.pswp__button[_ngcontent-%COMP%]:focus, .pswp__button[_ngcontent-%COMP%]:hover{opacity:1}.pswp__button[_ngcontent-%COMP%]:active{outline:0;opacity:.9}.pswp__button[_ngcontent-%COMP%]::-moz-focus-inner{padding:0;border:0}.pswp__ui--over-close[_ngcontent-%COMP%]   .pswp__button--close[_ngcontent-%COMP%]{opacity:1}.pswp__button[_ngcontent-%COMP%], .pswp__button--arrow--left[_ngcontent-%COMP%]:before, .pswp__button--arrow--right[_ngcontent-%COMP%]:before{background:url(/assets/media/default-skin.png) 0 0/264px 88px no-repeat;width:44px;height:44px}@media (-webkit-min-device-pixel-ratio:1.1),(-webkit-min-device-pixel-ratio:1.09375),(min-resolution:105dpi),(min-resolution:1.1dppx){.pswp--svg[_ngcontent-%COMP%]   .pswp__button[_ngcontent-%COMP%], .pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%]:before, .pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]:before{background-image:url(/assets/media/default-skin.svg)}.pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{background:0 0}}.pswp__button--close[_ngcontent-%COMP%]{background-position:0 -44px}.pswp__button--share[_ngcontent-%COMP%]{background-position:-44px -44px}.pswp__button--fs[_ngcontent-%COMP%]{display:none}.pswp--supports-fs[_ngcontent-%COMP%]   .pswp__button--fs[_ngcontent-%COMP%]{display:block}.pswp--fs[_ngcontent-%COMP%]   .pswp__button--fs[_ngcontent-%COMP%]{background-position:-44px 0}.pswp__button--zoom[_ngcontent-%COMP%]{display:none;background-position:-88px 0}.pswp--zoom-allowed[_ngcontent-%COMP%]   .pswp__button--zoom[_ngcontent-%COMP%]{display:block}.pswp--zoomed-in[_ngcontent-%COMP%]   .pswp__button--zoom[_ngcontent-%COMP%]{background-position:-132px 0}.pswp--touch[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--touch[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{visibility:hidden}.pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__button--arrow--right[_ngcontent-%COMP%]{background:0 0;top:50%;margin-top:-50px;width:70px;height:100px;position:absolute}.pswp__button--arrow--left[_ngcontent-%COMP%]{left:0}.pswp__button--arrow--right[_ngcontent-%COMP%]{right:0}.pswp__button--arrow--left[_ngcontent-%COMP%]:before, .pswp__button--arrow--right[_ngcontent-%COMP%]:before{content:'';top:35px;background-color:rgba(0,0,0,.3);height:30px;width:32px;position:absolute}.pswp__button--arrow--left[_ngcontent-%COMP%]:before{left:6px;background-position:-138px -44px}.pswp__button--arrow--right[_ngcontent-%COMP%]:before{right:6px;background-position:-94px -44px}.pswp__counter[_ngcontent-%COMP%], .pswp__share-modal[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pswp__share-modal[_ngcontent-%COMP%]{display:block;background:rgba(0,0,0,.5);width:100%;height:100%;top:0;left:0;padding:10px;position:absolute;z-index:1600;opacity:0;transition:opacity .25s ease-out;-webkit-backface-visibility:hidden;will-change:opacity}.pswp__share-modal--hidden[_ngcontent-%COMP%]{display:none}.pswp__share-tooltip[_ngcontent-%COMP%]{z-index:1620;position:absolute;background:#fff;top:56px;border-radius:2px;display:block;width:auto;right:44px;box-shadow:0 2px 5px rgba(0,0,0,.25);-webkit-transform:translateY(6px);transform:translateY(6px);transition:transform .25s;transition:transform .25s,-webkit-transform .25s;-webkit-backface-visibility:hidden;will-change:transform}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:8px 12px;color:#000;text-decoration:none;font-size:14px;line-height:18px}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#000}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-radius:2px 2px 0 0}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-radius:0 0 2px 2px}.pswp__share-modal--fade-in[_ngcontent-%COMP%]{opacity:1}.pswp__share-modal--fade-in[_ngcontent-%COMP%]   .pswp__share-tooltip[_ngcontent-%COMP%]{-webkit-transform:translateY(0);transform:translateY(0)}.pswp--touch[_ngcontent-%COMP%]   .pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:16px 12px}a.pswp__share--facebook[_ngcontent-%COMP%]:before{content:'';display:block;width:0;height:0;position:absolute;top:-12px;right:15px;border:6px solid transparent;border-bottom-color:#fff;-webkit-pointer-events:none;-moz-pointer-events:none;pointer-events:none}a.pswp__share--facebook[_ngcontent-%COMP%]:hover{background:#3e5c9a;color:#fff}a.pswp__share--facebook[_ngcontent-%COMP%]:hover:before{border-bottom-color:#3e5c9a}a.pswp__share--twitter[_ngcontent-%COMP%]:hover{background:#55acee;color:#fff}a.pswp__share--pinterest[_ngcontent-%COMP%]:hover{background:#ccc;color:#ce272d}a.pswp__share--download[_ngcontent-%COMP%]:hover{background:#ddd}.pswp__counter[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:44px;font-size:13px;line-height:44px;color:#fff;opacity:.75;padding:0 10px}.pswp__caption[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;min-height:44px}.pswp__caption[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:11px;color:#bbb}.pswp__caption__center[_ngcontent-%COMP%]{text-align:left;max-width:420px;margin:0 auto;font-size:13px;padding:10px;line-height:20px;color:#ccc}.pswp__caption--empty[_ngcontent-%COMP%]{display:none}.pswp__caption--fake[_ngcontent-%COMP%]{visibility:hidden}.pswp__preloader[_ngcontent-%COMP%]{width:44px;height:44px;position:absolute;top:0;left:50%;margin-left:-22px;opacity:0;transition:opacity .25s ease-out;will-change:opacity;direction:ltr}.pswp__preloader__icn[_ngcontent-%COMP%]{width:20px;height:20px;margin:12px}.pswp__preloader--active[_ngcontent-%COMP%]{opacity:1}.pswp__preloader--active[_ngcontent-%COMP%]   .pswp__preloader__icn[_ngcontent-%COMP%]{background:url(/assets/media/preloader.gif) no-repeat}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader--active[_ngcontent-%COMP%]{opacity:1}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader--active[_ngcontent-%COMP%]   .pswp__preloader__icn[_ngcontent-%COMP%]{-webkit-animation:.5s linear infinite clockwise;animation:.5s linear infinite clockwise}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader--active[_ngcontent-%COMP%]   .pswp__preloader__donut[_ngcontent-%COMP%]{-webkit-animation:1s cubic-bezier(.4,0,.22,1) infinite donut-rotate;animation:1s cubic-bezier(.4,0,.22,1) infinite donut-rotate}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader__icn[_ngcontent-%COMP%]{background:0 0;opacity:.75;width:14px;height:14px;position:absolute;left:15px;top:15px;margin:0}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader__cut[_ngcontent-%COMP%]{position:relative;width:7px;height:14px;overflow:hidden}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader__donut[_ngcontent-%COMP%]{box-sizing:border-box;width:14px;height:14px;border:2px solid #fff;border-radius:50%;border-left-color:transparent;border-bottom-color:transparent;position:absolute;top:0;left:0;background:0 0;margin:0}@media screen and (max-width:1024px){.pswp__preloader[_ngcontent-%COMP%]{position:relative;left:auto;top:auto;margin:0;float:right}}@-webkit-keyframes clockwise{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes clockwise{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes donut-rotate{0%,100%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}}@keyframes donut-rotate{0%,100%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}}.pswp__ui[_ngcontent-%COMP%]{-webkit-font-smoothing:auto;visibility:visible;opacity:1;z-index:1550}.pswp__top-bar[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:44px;width:100%}.pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%], .pswp__caption[_ngcontent-%COMP%], .pswp__top-bar[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{visibility:visible}.pswp__caption[_ngcontent-%COMP%], .pswp__top-bar[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5)}.pswp__ui--fit[_ngcontent-%COMP%]   .pswp__caption[_ngcontent-%COMP%], .pswp__ui--fit[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.3)}.pswp__ui--idle[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__ui--idle[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%], .pswp__ui--idle[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{opacity:0}.pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%], .pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__caption[_ngcontent-%COMP%], .pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{opacity:.001}.pswp__ui--one-slide[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__ui--one-slide[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%], .pswp__ui--one-slide[_ngcontent-%COMP%]   .pswp__counter[_ngcontent-%COMP%]{display:none}.pswp__element--disabled[_ngcontent-%COMP%]{display:none!important}.pswp--minimal--dark[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{background:0 0}\"]\n  });\n  return LightboxComponent;\n}();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nvar Image = function Image() {\n  Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, Image);\n};\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @return {?}\n */\n\n\nfunction ANGULAR2_PHOTO_SWIPE_FACTORY() {\n  return new DefaultLightboxAdapter();\n}\n\nvar LightboxAdapter = /*@__PURE__*/function () {\n  var LightboxAdapter = function LightboxAdapter() {\n    Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, LightboxAdapter);\n  };\n\n  LightboxAdapter.ɵfac = function LightboxAdapter_Factory(t) {\n    return new (t || LightboxAdapter)();\n  };\n\n  LightboxAdapter.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdefineInjectable */ \"Ob\"]({\n    token: LightboxAdapter,\n    factory: function factory() {\n      return ANGULAR2_PHOTO_SWIPE_FACTORY();\n    },\n    providedIn: 'root'\n  });\n  /** @nocollapse */\n\n  LightboxAdapter.ngInjectableDef = Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdefineInjectable */ \"Ob\"])({\n    factory: ANGULAR2_PHOTO_SWIPE_FACTORY,\n    token: LightboxAdapter,\n    providedIn: \"root\"\n  });\n  return LightboxAdapter;\n}();\n\nvar DefaultLightboxAdapter = /*@__PURE__*/function () {\n  var DefaultLightboxAdapter = /*#__PURE__*/function (_LightboxAdapter) {\n    Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(DefaultLightboxAdapter, _LightboxAdapter);\n\n    var _super = Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(DefaultLightboxAdapter);\n\n    function DefaultLightboxAdapter() {\n      var _this2;\n\n      Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, DefaultLightboxAdapter);\n\n      _this2 = _super.apply(this, arguments);\n      _this2.allowPanToNext = true;\n      _this2.spacing = 0.12;\n      _this2.bgOpacity = 1.0;\n      _this2.mouseUsed = false;\n      _this2.loop = true;\n      _this2.pinchToClose = true;\n      _this2.closeOnScroll = true;\n      _this2.closeOnVerticalDrag = true;\n      _this2.hideAnimationDuration = 333;\n      _this2.showAnimationDuration = 333;\n      _this2.showHideOpacity = false;\n      _this2.escKey = true;\n      _this2.arrowKeys = true;\n      return _this2;\n    }\n\n    return DefaultLightboxAdapter;\n  }(LightboxAdapter);\n\n  DefaultLightboxAdapter.ɵfac = function DefaultLightboxAdapter_Factory(t) {\n    return ɵDefaultLightboxAdapter_BaseFactory(t || DefaultLightboxAdapter);\n  };\n\n  DefaultLightboxAdapter.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdefineInjectable */ \"Ob\"]({\n    token: DefaultLightboxAdapter,\n    factory: DefaultLightboxAdapter.ɵfac\n  });\n  return DefaultLightboxAdapter;\n}();\n\nvar ɵDefaultLightboxAdapter_BaseFactory = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵgetInheritedFactory */ \"ac\"](DefaultLightboxAdapter);\n\nvar GalleryItemComponent = /*@__PURE__*/function () {\n  var GalleryItemComponent = /*#__PURE__*/function () {\n    /**\n     * @param {?} adapter\n     */\n    function GalleryItemComponent(adapter) {\n      Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, GalleryItemComponent);\n\n      this.adapter = adapter;\n      this.clicked = new _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* EventEmitter */ \"o\"]();\n      this.isBootstrapEnabled = false;\n      this.isBootstrapEnabled = this.adapter.enableBootstrap4;\n    }\n    /**\n     * @return {?}\n     */\n\n\n    Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(GalleryItemComponent, [{\n      key: \"onClick\",\n      value: function onClick() {\n        this.clicked.emit(this.image);\n        return false;\n      }\n    }]);\n\n    return GalleryItemComponent;\n  }();\n\n  GalleryItemComponent.ɵfac = function GalleryItemComponent_Factory(t) {\n    return new (t || GalleryItemComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdirectiveInject */ \"Sb\"](LightboxAdapter));\n  };\n\n  GalleryItemComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdefineComponent */ \"Mb\"]({\n    type: GalleryItemComponent,\n    selectors: [[\"ngp-gallery-item\"]],\n    hostVars: 2,\n    hostBindings: function GalleryItemComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵclassProp */ \"Kb\"](\"card\", ctx.isBootstrapEnabled);\n      }\n    },\n    inputs: {\n      image: \"image\"\n    },\n    outputs: {\n      clicked: \"clicked\"\n    },\n    decls: 2,\n    vars: 8,\n    consts: [[\"itemprop\", \"contentUrl\", 3, \"href\", \"click\"], [\"itemprop\", \"thumbnail\", 3, \"src\", \"ngClass\", \"alt\"]],\n    template: function GalleryItemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementStart */ \"Yb\"](0, \"a\", 0);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵlistener */ \"ic\"](\"click\", function GalleryItemComponent_Template_a_click_0_listener() {\n          return ctx.onClick();\n        });\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelement */ \"Tb\"](1, \"img\", 1);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementEnd */ \"Xb\"]();\n      }\n\n      if (rf & 2) {\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵpropertyInterpolate */ \"tc\"](\"href\", ctx.image.largeUrl, _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵsanitizeUrl */ \"Lc\"]);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵattribute */ \"Fb\"](\"data-size\", ctx.image.width + \"x\" + ctx.image.height)(\"data-author\", ctx.image.author);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵadvance */ \"Eb\"](1);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵpropertyInterpolate */ \"tc\"](\"src\", ctx.image.thumbUrl, _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵsanitizeUrl */ \"Lc\"]);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵpropertyInterpolate */ \"tc\"](\"alt\", ctx.image.description);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵproperty */ \"sc\"](\"ngClass\", _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵpureFunction1 */ \"xc\"](6, _c1, ctx.isBootstrapEnabled));\n      }\n    },\n    directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__[/* NgClass */ \"m\"]],\n    styles: [\"\"]\n  });\n  return GalleryItemComponent;\n}();\n\nvar GalleryComponent = /*@__PURE__*/function () {\n  var GalleryComponent = /*#__PURE__*/function () {\n    /**\n     * @param {?} ngp\n     * @param {?} adapter\n     */\n    function GalleryComponent(ngp, adapter) {\n      Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, GalleryComponent);\n\n      this.ngp = ngp;\n      this.adapter = adapter;\n      this.shareLinkClick = new _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* EventEmitter */ \"o\"]();\n      this.subscriptions = [];\n      this.images = [];\n      this.isBootstrapEnabled = this.adapter.enableBootstrap4;\n    }\n    /**\n     * @return {?}\n     */\n\n\n    Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(GalleryComponent, [{\n      key: \"ngAfterContentInit\",\n      value: function ngAfterContentInit() {\n        var _this3 = this;\n\n        this.images =\n        /** @type {?} */\n        this.galleryItems.toArray().map(\n        /**\n        * @param {?} cp\n        * @return {?}\n        */\n\n        /**\n        * @param {?} cp\n        * @return {?}\n        */\n        function (cp) {\n          // listen for clicks;\n          _this3.subscriptions.push(cp.clicked.subscribe(\n          /**\n          * @param {?} data\n          * @return {?}\n          */\n          function (data) {\n            return _this3.onClick(data);\n          }));\n\n          return cp.image;\n        });\n      }\n      /**\n       * @return {?}\n       */\n\n    }, {\n      key: \"ngOnDestroy\",\n      value: function ngOnDestroy() {\n        this.subscriptions.forEach(\n        /**\n        * @param {?} sub\n        * @return {?}\n        */\n\n        /**\n        * @param {?} sub\n        * @return {?}\n        */\n        function (sub) {\n          return sub.unsubscribe();\n        });\n      }\n      /**\n       * @param {?} data\n       * @return {?}\n       */\n\n    }, {\n      key: \"onClick\",\n      value: function onClick(data) {\n        this.openPhotoSwipe(data, this.galleryElement);\n      }\n      /**\n       * @private\n       * @param {?} img\n       * @param {?} galleryDOM\n       * @return {?}\n       */\n\n    }, {\n      key: \"openPhotoSwipe\",\n      value: function openPhotoSwipe(img, galleryDOM) {\n        this.adapter.galleryUID = galleryDOM.nativeElement.getAttribute('data-pswp-uid');\n        this.adapter.index = img.id;\n        /** @type {?} */\n\n        var PSWP =\n        /** @type {?} */\n        this.ngp.LightboxElement.nativeElement;\n        this.pswp = new photoswipe__WEBPACK_IMPORTED_MODULE_5__(PSWP, photoswipe_dist_photoswipe_ui_default__WEBPACK_IMPORTED_MODULE_6__, this.getImagesAsPhotoswipe(), this.adapter);\n        /** @type {?} */\n\n        var _this = this;\n\n        this.pswp.listen('shareLinkClick',\n        /**\n        * @param {?} e\n        * @param {?} target\n        * @return {?}\n        */\n        function (e, target) {\n          _this.shareLinkClick.emit({\n            e: e,\n            target: target\n          });\n        });\n        this.pswp.init();\n        return false;\n      }\n      /**\n       * @private\n       * @return {?}\n       */\n\n    }, {\n      key: \"getImagesAsPhotoswipe\",\n      value: function getImagesAsPhotoswipe() {\n        return this.images.map(\n        /**\n        * @param {?} image\n        * @return {?}\n        */\n\n        /**\n        * @param {?} image\n        * @return {?}\n        */\n        function (image) {\n          return {\n            src: image.largeUrl,\n            w: image.width,\n            h: image.height,\n            pid: image.id,\n            title: image.description,\n            author: image.author\n          };\n        });\n      }\n    }]);\n\n    return GalleryComponent;\n  }();\n\n  GalleryComponent.ɵfac = function GalleryComponent_Factory(t) {\n    return new (t || GalleryComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdirectiveInject */ \"Sb\"](NgpService), _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdirectiveInject */ \"Sb\"](LightboxAdapter));\n  };\n\n  GalleryComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdefineComponent */ \"Mb\"]({\n    type: GalleryComponent,\n    selectors: [[\"ngp-gallery\"]],\n    contentQueries: function GalleryComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵcontentQuery */ \"Lb\"](dirIndex, GalleryItemComponent, 0);\n      }\n\n      if (rf & 2) {\n        var _t;\n\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵqueryRefresh */ \"Fc\"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵloadQuery */ \"jc\"]()) && (ctx.galleryItems = _t);\n      }\n    },\n    viewQuery: function GalleryComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵviewQuery */ \"Xc\"](_c2, 3);\n      }\n\n      if (rf & 2) {\n        var _t;\n\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵqueryRefresh */ \"Fc\"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵloadQuery */ \"jc\"]()) && (ctx.galleryElement = _t.first);\n      }\n    },\n    inputs: {\n      galleryId: \"galleryId\"\n    },\n    outputs: {\n      shareLinkClick: \"shareLinkClick\"\n    },\n    ngContentSelectors: _c5,\n    decls: 3,\n    vars: 3,\n    consts: [[\"id\", \"sampleId\", \"itemscope\", \"\", \"itemtype\", \"http://schema.org/ImageGallery\", 1, \"angular2_photoswipe\", 3, \"ngClass\"], [\"ngpGallery\", \"\"]],\n    template: function GalleryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵprojectionDef */ \"rc\"](_c3);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementStart */ \"Yb\"](0, \"div\", 0, 1);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵprojection */ \"qc\"](2);\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵelementEnd */ \"Xb\"]();\n      }\n\n      if (rf & 2) {\n        _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵproperty */ \"sc\"](\"ngClass\", _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵpureFunction1 */ \"xc\"](1, _c4, ctx.isBootstrapEnabled));\n      }\n    },\n    directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__[/* NgClass */ \"m\"]],\n    styles: [\"\"]\n  });\n  return GalleryComponent;\n}();\n\nvar Angular2PhotoswipeModule = /*@__PURE__*/function () {\n  var Angular2PhotoswipeModule = function Angular2PhotoswipeModule() {\n    Object(E_Source_Sistenet_Testing_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, Angular2PhotoswipeModule);\n  };\n\n  Angular2PhotoswipeModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdefineNgModule */ \"Qb\"]({\n    type: Angular2PhotoswipeModule\n  });\n  Angular2PhotoswipeModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵdefineInjector */ \"Pb\"]({\n    factory: function Angular2PhotoswipeModule_Factory(t) {\n      return new (t || Angular2PhotoswipeModule)();\n    },\n    imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_4__[/* CommonModule */ \"c\"]]]\n  });\n  return Angular2PhotoswipeModule;\n}();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__[/* ɵɵsetNgModuleScope */ \"Nc\"](Angular2PhotoswipeModule, {\n    declarations: function declarations() {\n      return [Angular2PhotoswipeComponent, LightboxComponent, GalleryComponent, GalleryItemComponent];\n    },\n    imports: function imports() {\n      return [_angular_common__WEBPACK_IMPORTED_MODULE_4__[/* CommonModule */ \"c\"]];\n    },\n    exports: function exports() {\n      return [LightboxComponent, GalleryComponent, GalleryItemComponent];\n    }\n  });\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\n\n\n/***/ }),\n\n/***/ \"sk+M\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! PhotoSwipe - v4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n(function (root, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n})(this, function () {\n  'use strict';\n\n  var PhotoSwipe = function PhotoSwipe(template, UiClass, items, options) {\n    /*>>framework-bridge*/\n\n    /**\n     *\n     * Set of generic functions used by gallery.\n     * \n     * You're free to modify anything here as long as functionality is kept.\n     * \n     */\n    var framework = {\n      features: null,\n      bind: function bind(target, type, listener, unbind) {\n        var methodName = (unbind ? 'remove' : 'add') + 'EventListener';\n        type = type.split(' ');\n\n        for (var i = 0; i < type.length; i++) {\n          if (type[i]) {\n            target[methodName](type[i], listener, false);\n          }\n        }\n      },\n      isArray: function isArray(obj) {\n        return obj instanceof Array;\n      },\n      createEl: function createEl(classes, tag) {\n        var el = document.createElement(tag || 'div');\n\n        if (classes) {\n          el.className = classes;\n        }\n\n        return el;\n      },\n      getScrollY: function getScrollY() {\n        var yOffset = window.pageYOffset;\n        return yOffset !== undefined ? yOffset : document.documentElement.scrollTop;\n      },\n      unbind: function unbind(target, type, listener) {\n        framework.bind(target, type, listener, true);\n      },\n      removeClass: function removeClass(el, className) {\n        var reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n        el.className = el.className.replace(reg, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n      },\n      addClass: function addClass(el, className) {\n        if (!framework.hasClass(el, className)) {\n          el.className += (el.className ? ' ' : '') + className;\n        }\n      },\n      hasClass: function hasClass(el, className) {\n        return el.className && new RegExp('(^|\\\\s)' + className + '(\\\\s|$)').test(el.className);\n      },\n      getChildByClass: function getChildByClass(parentEl, childClassName) {\n        var node = parentEl.firstChild;\n\n        while (node) {\n          if (framework.hasClass(node, childClassName)) {\n            return node;\n          }\n\n          node = node.nextSibling;\n        }\n      },\n      arraySearch: function arraySearch(array, value, key) {\n        var i = array.length;\n\n        while (i--) {\n          if (array[i][key] === value) {\n            return i;\n          }\n        }\n\n        return -1;\n      },\n      extend: function extend(o1, o2, preventOverwrite) {\n        for (var prop in o2) {\n          if (o2.hasOwnProperty(prop)) {\n            if (preventOverwrite && o1.hasOwnProperty(prop)) {\n              continue;\n            }\n\n            o1[prop] = o2[prop];\n          }\n        }\n      },\n      easing: {\n        sine: {\n          out: function out(k) {\n            return Math.sin(k * (Math.PI / 2));\n          },\n          inOut: function inOut(k) {\n            return -(Math.cos(Math.PI * k) - 1) / 2;\n          }\n        },\n        cubic: {\n          out: function out(k) {\n            return --k * k * k + 1;\n          }\n        }\n        /*\n        \telastic: {\n        \t\tout: function ( k ) {\n        \t\t\t\tvar s, a = 0.1, p = 0.4;\n        \t\t\tif ( k === 0 ) return 0;\n        \t\t\tif ( k === 1 ) return 1;\n        \t\t\tif ( !a || a < 1 ) { a = 1; s = p / 4; }\n        \t\t\telse s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n        \t\t\treturn ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n        \t\t\t},\n        \t},\n        \tback: {\n        \t\tout: function ( k ) {\n        \t\t\tvar s = 1.70158;\n        \t\t\treturn --k * k * ( ( s + 1 ) * k + s ) + 1;\n        \t\t}\n        \t}\n        */\n\n      },\n\n      /**\n       * \n       * @return {object}\n       * \n       * {\n       *  raf : request animation frame function\n       *  caf : cancel animation frame function\n       *  transfrom : transform property key (with vendor), or null if not supported\n       *  oldIE : IE8 or below\n       * }\n       * \n       */\n      detectFeatures: function detectFeatures() {\n        if (framework.features) {\n          return framework.features;\n        }\n\n        var helperEl = framework.createEl(),\n            helperStyle = helperEl.style,\n            vendor = '',\n            features = {}; // IE8 and below\n\n        features.oldIE = document.all && !document.addEventListener;\n        features.touch = 'ontouchstart' in window;\n\n        if (window.requestAnimationFrame) {\n          features.raf = window.requestAnimationFrame;\n          features.caf = window.cancelAnimationFrame;\n        }\n\n        features.pointerEvent = !!window.PointerEvent || navigator.msPointerEnabled; // fix false-positive detection of old Android in new IE\n        // (IE11 ua string contains \"Android 4.0\")\n\n        if (!features.pointerEvent) {\n          var ua = navigator.userAgent; // Detect if device is iPhone or iPod and if it's older than iOS 8\n          // http://stackoverflow.com/a/14223920\n          // \n          // This detection is made because of buggy top/bottom toolbars\n          // that don't trigger window.resize event.\n          // For more info refer to _isFixedPosition variable in core.js\n\n          if (/iP(hone|od)/.test(navigator.platform)) {\n            var v = navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n\n            if (v && v.length > 0) {\n              v = parseInt(v[1], 10);\n\n              if (v >= 1 && v < 8) {\n                features.isOldIOSPhone = true;\n              }\n            }\n          } // Detect old Android (before KitKat)\n          // due to bugs related to position:fixed\n          // http://stackoverflow.com/questions/7184573/pick-up-the-android-version-in-the-browser-by-javascript\n\n\n          var match = ua.match(/Android\\s([0-9\\.]*)/);\n          var androidversion = match ? match[1] : 0;\n          androidversion = parseFloat(androidversion);\n\n          if (androidversion >= 1) {\n            if (androidversion < 4.4) {\n              features.isOldAndroid = true; // for fixed position bug & performance\n            }\n\n            features.androidVersion = androidversion; // for touchend bug\n          }\n\n          features.isMobileOpera = /opera mini|opera mobi/i.test(ua); // p.s. yes, yes, UA sniffing is bad, propose your solution for above bugs.\n        }\n\n        var styleChecks = ['transform', 'perspective', 'animationName'],\n            vendors = ['', 'webkit', 'Moz', 'ms', 'O'],\n            styleCheckItem,\n            styleName;\n\n        for (var i = 0; i < 4; i++) {\n          vendor = vendors[i];\n\n          for (var a = 0; a < 3; a++) {\n            styleCheckItem = styleChecks[a]; // uppercase first letter of property name, if vendor is present\n\n            styleName = vendor + (vendor ? styleCheckItem.charAt(0).toUpperCase() + styleCheckItem.slice(1) : styleCheckItem);\n\n            if (!features[styleCheckItem] && styleName in helperStyle) {\n              features[styleCheckItem] = styleName;\n            }\n          }\n\n          if (vendor && !features.raf) {\n            vendor = vendor.toLowerCase();\n            features.raf = window[vendor + 'RequestAnimationFrame'];\n\n            if (features.raf) {\n              features.caf = window[vendor + 'CancelAnimationFrame'] || window[vendor + 'CancelRequestAnimationFrame'];\n            }\n          }\n        }\n\n        if (!features.raf) {\n          var lastTime = 0;\n\n          features.raf = function (fn) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function () {\n              fn(currTime + timeToCall);\n            }, timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n          };\n\n          features.caf = function (id) {\n            clearTimeout(id);\n          };\n        } // Detect SVG support\n\n\n        features.svg = !!document.createElementNS && !!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n        framework.features = features;\n        return features;\n      }\n    };\n    framework.detectFeatures(); // Override addEventListener for old versions of IE\n\n    if (framework.features.oldIE) {\n      framework.bind = function (target, type, listener, unbind) {\n        type = type.split(' ');\n\n        var methodName = (unbind ? 'detach' : 'attach') + 'Event',\n            evName,\n            _handleEv = function _handleEv() {\n          listener.handleEvent.call(listener);\n        };\n\n        for (var i = 0; i < type.length; i++) {\n          evName = type[i];\n\n          if (evName) {\n            if (typeof listener === 'object' && listener.handleEvent) {\n              if (!unbind) {\n                listener['oldIE' + evName] = _handleEv;\n              } else {\n                if (!listener['oldIE' + evName]) {\n                  return false;\n                }\n              }\n\n              target[methodName]('on' + evName, listener['oldIE' + evName]);\n            } else {\n              target[methodName]('on' + evName, listener);\n            }\n          }\n        }\n      };\n    }\n    /*>>framework-bridge*/\n\n    /*>>core*/\n    //function(template, UiClass, items, options)\n\n\n    var self = this;\n    /**\n     * Static vars, don't change unless you know what you're doing.\n     */\n\n    var DOUBLE_TAP_RADIUS = 25,\n        NUM_HOLDERS = 3;\n    /**\n     * Options\n     */\n\n    var _options = {\n      allowPanToNext: true,\n      spacing: 0.12,\n      bgOpacity: 1,\n      mouseUsed: false,\n      loop: true,\n      pinchToClose: true,\n      closeOnScroll: true,\n      closeOnVerticalDrag: true,\n      verticalDragRange: 0.75,\n      hideAnimationDuration: 333,\n      showAnimationDuration: 333,\n      showHideOpacity: false,\n      focus: true,\n      escKey: true,\n      arrowKeys: true,\n      mainScrollEndFriction: 0.35,\n      panEndFriction: 0.35,\n      isClickableElement: function isClickableElement(el) {\n        return el.tagName === 'A';\n      },\n      getDoubleTapZoom: function getDoubleTapZoom(isMouseClick, item) {\n        if (isMouseClick) {\n          return 1;\n        } else {\n          return item.initialZoomLevel < 0.7 ? 1 : 1.33;\n        }\n      },\n      maxSpreadZoom: 1.33,\n      modal: true,\n      // not fully implemented yet\n      scaleMode: 'fit' // TODO\n\n    };\n    framework.extend(_options, options);\n    /**\n     * Private helper variables & functions\n     */\n\n    var _getEmptyPoint = function _getEmptyPoint() {\n      return {\n        x: 0,\n        y: 0\n      };\n    };\n\n    var _isOpen,\n        _isDestroying,\n        _closedByScroll,\n        _currentItemIndex,\n        _containerStyle,\n        _containerShiftIndex,\n        _currPanDist = _getEmptyPoint(),\n        _startPanOffset = _getEmptyPoint(),\n        _panOffset = _getEmptyPoint(),\n        _upMoveEvents,\n        // drag move, drag end & drag cancel events array\n    _downEvents,\n        // drag start events array\n    _globalEventHandlers,\n        _viewportSize = {},\n        _currZoomLevel,\n        _startZoomLevel,\n        _translatePrefix,\n        _translateSufix,\n        _updateSizeInterval,\n        _itemsNeedUpdate,\n        _currPositionIndex = 0,\n        _offset = {},\n        _slideSize = _getEmptyPoint(),\n        // size of slide area, including spacing\n    _itemHolders,\n        _prevItemIndex,\n        _indexDiff = 0,\n        // difference of indexes since last content update\n    _dragStartEvent,\n        _dragMoveEvent,\n        _dragEndEvent,\n        _dragCancelEvent,\n        _transformKey,\n        _pointerEventEnabled,\n        _isFixedPosition = true,\n        _likelyTouchDevice,\n        _modules = [],\n        _requestAF,\n        _cancelAF,\n        _initalClassName,\n        _initalWindowScrollY,\n        _oldIE,\n        _currentWindowScrollY,\n        _features,\n        _windowVisibleSize = {},\n        _renderMaxResolution = false,\n        _orientationChangeTimeout,\n        // Registers PhotoSWipe module (History, Controller ...)\n    _registerModule = function _registerModule(name, module) {\n      framework.extend(self, module.publicMethods);\n\n      _modules.push(name);\n    },\n        _getLoopedId = function _getLoopedId(index) {\n      var numSlides = _getNumItems();\n\n      if (index > numSlides - 1) {\n        return index - numSlides;\n      } else if (index < 0) {\n        return numSlides + index;\n      }\n\n      return index;\n    },\n        // Micro bind/trigger\n    _listeners = {},\n        _listen = function _listen(name, fn) {\n      if (!_listeners[name]) {\n        _listeners[name] = [];\n      }\n\n      return _listeners[name].push(fn);\n    },\n        _shout = function _shout(name) {\n      var listeners = _listeners[name];\n\n      if (listeners) {\n        var args = Array.prototype.slice.call(arguments);\n        args.shift();\n\n        for (var i = 0; i < listeners.length; i++) {\n          listeners[i].apply(self, args);\n        }\n      }\n    },\n        _getCurrentTime = function _getCurrentTime() {\n      return new Date().getTime();\n    },\n        _applyBgOpacity = function _applyBgOpacity(opacity) {\n      _bgOpacity = opacity;\n      self.bg.style.opacity = opacity * _options.bgOpacity;\n    },\n        _applyZoomTransform = function _applyZoomTransform(styleObj, x, y, zoom, item) {\n      if (!_renderMaxResolution || item && item !== self.currItem) {\n        zoom = zoom / (item ? item.fitRatio : self.currItem.fitRatio);\n      }\n\n      styleObj[_transformKey] = _translatePrefix + x + 'px, ' + y + 'px' + _translateSufix + ' scale(' + zoom + ')';\n    },\n        _applyCurrentZoomPan = function _applyCurrentZoomPan(allowRenderResolution) {\n      if (_currZoomElementStyle) {\n        if (allowRenderResolution) {\n          if (_currZoomLevel > self.currItem.fitRatio) {\n            if (!_renderMaxResolution) {\n              _setImageSize(self.currItem, false, true);\n\n              _renderMaxResolution = true;\n            }\n          } else {\n            if (_renderMaxResolution) {\n              _setImageSize(self.currItem);\n\n              _renderMaxResolution = false;\n            }\n          }\n        }\n\n        _applyZoomTransform(_currZoomElementStyle, _panOffset.x, _panOffset.y, _currZoomLevel);\n      }\n    },\n        _applyZoomPanToItem = function _applyZoomPanToItem(item) {\n      if (item.container) {\n        _applyZoomTransform(item.container.style, item.initialPosition.x, item.initialPosition.y, item.initialZoomLevel, item);\n      }\n    },\n        _setTranslateX = function _setTranslateX(x, elStyle) {\n      elStyle[_transformKey] = _translatePrefix + x + 'px, 0px' + _translateSufix;\n    },\n        _moveMainScroll = function _moveMainScroll(x, dragging) {\n      if (!_options.loop && dragging) {\n        var newSlideIndexOffset = _currentItemIndex + (_slideSize.x * _currPositionIndex - x) / _slideSize.x,\n            delta = Math.round(x - _mainScrollPos.x);\n\n        if (newSlideIndexOffset < 0 && delta > 0 || newSlideIndexOffset >= _getNumItems() - 1 && delta < 0) {\n          x = _mainScrollPos.x + delta * _options.mainScrollEndFriction;\n        }\n      }\n\n      _mainScrollPos.x = x;\n\n      _setTranslateX(x, _containerStyle);\n    },\n        _calculatePanOffset = function _calculatePanOffset(axis, zoomLevel) {\n      var m = _midZoomPoint[axis] - _offset[axis];\n      return _startPanOffset[axis] + _currPanDist[axis] + m - m * (zoomLevel / _startZoomLevel);\n    },\n        _equalizePoints = function _equalizePoints(p1, p2) {\n      p1.x = p2.x;\n      p1.y = p2.y;\n\n      if (p2.id) {\n        p1.id = p2.id;\n      }\n    },\n        _roundPoint = function _roundPoint(p) {\n      p.x = Math.round(p.x);\n      p.y = Math.round(p.y);\n    },\n        _mouseMoveTimeout = null,\n        _onFirstMouseMove = function _onFirstMouseMove() {\n      // Wait until mouse move event is fired at least twice during 100ms\n      // We do this, because some mobile browsers trigger it on touchstart\n      if (_mouseMoveTimeout) {\n        framework.unbind(document, 'mousemove', _onFirstMouseMove);\n        framework.addClass(template, 'pswp--has_mouse');\n        _options.mouseUsed = true;\n\n        _shout('mouseUsed');\n      }\n\n      _mouseMoveTimeout = setTimeout(function () {\n        _mouseMoveTimeout = null;\n      }, 100);\n    },\n        _bindEvents = function _bindEvents() {\n      framework.bind(document, 'keydown', self);\n\n      if (_features.transform) {\n        // don't bind click event in browsers that don't support transform (mostly IE8)\n        framework.bind(self.scrollWrap, 'click', self);\n      }\n\n      if (!_options.mouseUsed) {\n        framework.bind(document, 'mousemove', _onFirstMouseMove);\n      }\n\n      framework.bind(window, 'resize scroll orientationchange', self);\n\n      _shout('bindEvents');\n    },\n        _unbindEvents = function _unbindEvents() {\n      framework.unbind(window, 'resize scroll orientationchange', self);\n      framework.unbind(window, 'scroll', _globalEventHandlers.scroll);\n      framework.unbind(document, 'keydown', self);\n      framework.unbind(document, 'mousemove', _onFirstMouseMove);\n\n      if (_features.transform) {\n        framework.unbind(self.scrollWrap, 'click', self);\n      }\n\n      if (_isDragging) {\n        framework.unbind(window, _upMoveEvents, self);\n      }\n\n      clearTimeout(_orientationChangeTimeout);\n\n      _shout('unbindEvents');\n    },\n        _calculatePanBounds = function _calculatePanBounds(zoomLevel, update) {\n      var bounds = _calculateItemSize(self.currItem, _viewportSize, zoomLevel);\n\n      if (update) {\n        _currPanBounds = bounds;\n      }\n\n      return bounds;\n    },\n        _getMinZoomLevel = function _getMinZoomLevel(item) {\n      if (!item) {\n        item = self.currItem;\n      }\n\n      return item.initialZoomLevel;\n    },\n        _getMaxZoomLevel = function _getMaxZoomLevel(item) {\n      if (!item) {\n        item = self.currItem;\n      }\n\n      return item.w > 0 ? _options.maxSpreadZoom : 1;\n    },\n        // Return true if offset is out of the bounds\n    _modifyDestPanOffset = function _modifyDestPanOffset(axis, destPanBounds, destPanOffset, destZoomLevel) {\n      if (destZoomLevel === self.currItem.initialZoomLevel) {\n        destPanOffset[axis] = self.currItem.initialPosition[axis];\n        return true;\n      } else {\n        destPanOffset[axis] = _calculatePanOffset(axis, destZoomLevel);\n\n        if (destPanOffset[axis] > destPanBounds.min[axis]) {\n          destPanOffset[axis] = destPanBounds.min[axis];\n          return true;\n        } else if (destPanOffset[axis] < destPanBounds.max[axis]) {\n          destPanOffset[axis] = destPanBounds.max[axis];\n          return true;\n        }\n      }\n\n      return false;\n    },\n        _setupTransforms = function _setupTransforms() {\n      if (_transformKey) {\n        // setup 3d transforms\n        var allow3dTransform = _features.perspective && !_likelyTouchDevice;\n        _translatePrefix = 'translate' + (allow3dTransform ? '3d(' : '(');\n        _translateSufix = _features.perspective ? ', 0px)' : ')';\n        return;\n      } // Override zoom/pan/move functions in case old browser is used (most likely IE)\n      // (so they use left/top/width/height, instead of CSS transform)\n\n\n      _transformKey = 'left';\n      framework.addClass(template, 'pswp--ie');\n\n      _setTranslateX = function _setTranslateX(x, elStyle) {\n        elStyle.left = x + 'px';\n      };\n\n      _applyZoomPanToItem = function _applyZoomPanToItem(item) {\n        var zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n            s = item.container.style,\n            w = zoomRatio * item.w,\n            h = zoomRatio * item.h;\n        s.width = w + 'px';\n        s.height = h + 'px';\n        s.left = item.initialPosition.x + 'px';\n        s.top = item.initialPosition.y + 'px';\n      };\n\n      _applyCurrentZoomPan = function _applyCurrentZoomPan() {\n        if (_currZoomElementStyle) {\n          var s = _currZoomElementStyle,\n              item = self.currItem,\n              zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n              w = zoomRatio * item.w,\n              h = zoomRatio * item.h;\n          s.width = w + 'px';\n          s.height = h + 'px';\n          s.left = _panOffset.x + 'px';\n          s.top = _panOffset.y + 'px';\n        }\n      };\n    },\n        _onKeyDown = function _onKeyDown(e) {\n      var keydownAction = '';\n\n      if (_options.escKey && e.keyCode === 27) {\n        keydownAction = 'close';\n      } else if (_options.arrowKeys) {\n        if (e.keyCode === 37) {\n          keydownAction = 'prev';\n        } else if (e.keyCode === 39) {\n          keydownAction = 'next';\n        }\n      }\n\n      if (keydownAction) {\n        // don't do anything if special key pressed to prevent from overriding default browser actions\n        // e.g. in Chrome on Mac cmd+arrow-left returns to previous page\n        if (!e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey) {\n          if (e.preventDefault) {\n            e.preventDefault();\n          } else {\n            e.returnValue = false;\n          }\n\n          self[keydownAction]();\n        }\n      }\n    },\n        _onGlobalClick = function _onGlobalClick(e) {\n      if (!e) {\n        return;\n      } // don't allow click event to pass through when triggering after drag or some other gesture\n\n\n      if (_moved || _zoomStarted || _mainScrollAnimating || _verticalDragInitiated) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    },\n        _updatePageScrollOffset = function _updatePageScrollOffset() {\n      self.setScrollOffset(0, framework.getScrollY());\n    }; // Micro animation engine\n\n\n    var _animations = {},\n        _numAnimations = 0,\n        _stopAnimation = function _stopAnimation(name) {\n      if (_animations[name]) {\n        if (_animations[name].raf) {\n          _cancelAF(_animations[name].raf);\n        }\n\n        _numAnimations--;\n        delete _animations[name];\n      }\n    },\n        _registerStartAnimation = function _registerStartAnimation(name) {\n      if (_animations[name]) {\n        _stopAnimation(name);\n      }\n\n      if (!_animations[name]) {\n        _numAnimations++;\n        _animations[name] = {};\n      }\n    },\n        _stopAllAnimations = function _stopAllAnimations() {\n      for (var prop in _animations) {\n        if (_animations.hasOwnProperty(prop)) {\n          _stopAnimation(prop);\n        }\n      }\n    },\n        _animateProp = function _animateProp(name, b, endProp, d, easingFn, onUpdate, onComplete) {\n      var startAnimTime = _getCurrentTime(),\n          t;\n\n      _registerStartAnimation(name);\n\n      var animloop = function animloop() {\n        if (_animations[name]) {\n          t = _getCurrentTime() - startAnimTime; // time diff\n          //b - beginning (start prop)\n          //d - anim duration\n\n          if (t >= d) {\n            _stopAnimation(name);\n\n            onUpdate(endProp);\n\n            if (onComplete) {\n              onComplete();\n            }\n\n            return;\n          }\n\n          onUpdate((endProp - b) * easingFn(t / d) + b);\n          _animations[name].raf = _requestAF(animloop);\n        }\n      };\n\n      animloop();\n    };\n\n    var publicMethods = {\n      // make a few local variables and functions public\n      shout: _shout,\n      listen: _listen,\n      viewportSize: _viewportSize,\n      options: _options,\n      isMainScrollAnimating: function isMainScrollAnimating() {\n        return _mainScrollAnimating;\n      },\n      getZoomLevel: function getZoomLevel() {\n        return _currZoomLevel;\n      },\n      getCurrentIndex: function getCurrentIndex() {\n        return _currentItemIndex;\n      },\n      isDragging: function isDragging() {\n        return _isDragging;\n      },\n      isZooming: function isZooming() {\n        return _isZooming;\n      },\n      setScrollOffset: function setScrollOffset(x, y) {\n        _offset.x = x;\n        _currentWindowScrollY = _offset.y = y;\n\n        _shout('updateScrollOffset', _offset);\n      },\n      applyZoomPan: function applyZoomPan(zoomLevel, panX, panY, allowRenderResolution) {\n        _panOffset.x = panX;\n        _panOffset.y = panY;\n        _currZoomLevel = zoomLevel;\n\n        _applyCurrentZoomPan(allowRenderResolution);\n      },\n      init: function init() {\n        if (_isOpen || _isDestroying) {\n          return;\n        }\n\n        var i;\n        self.framework = framework; // basic functionality\n\n        self.template = template; // root DOM element of PhotoSwipe\n\n        self.bg = framework.getChildByClass(template, 'pswp__bg');\n        _initalClassName = template.className;\n        _isOpen = true;\n        _features = framework.detectFeatures();\n        _requestAF = _features.raf;\n        _cancelAF = _features.caf;\n        _transformKey = _features.transform;\n        _oldIE = _features.oldIE;\n        self.scrollWrap = framework.getChildByClass(template, 'pswp__scroll-wrap');\n        self.container = framework.getChildByClass(self.scrollWrap, 'pswp__container');\n        _containerStyle = self.container.style; // for fast access\n        // Objects that hold slides (there are only 3 in DOM)\n\n        self.itemHolders = _itemHolders = [{\n          el: self.container.children[0],\n          wrap: 0,\n          index: -1\n        }, {\n          el: self.container.children[1],\n          wrap: 0,\n          index: -1\n        }, {\n          el: self.container.children[2],\n          wrap: 0,\n          index: -1\n        }]; // hide nearby item holders until initial zoom animation finishes (to avoid extra Paints)\n\n        _itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'none';\n\n        _setupTransforms(); // Setup global events\n\n\n        _globalEventHandlers = {\n          resize: self.updateSize,\n          // Fixes: iOS 10.3 resize event\n          // does not update scrollWrap.clientWidth instantly after resize\n          // https://github.com/dimsemenov/PhotoSwipe/issues/1315\n          orientationchange: function orientationchange() {\n            clearTimeout(_orientationChangeTimeout);\n            _orientationChangeTimeout = setTimeout(function () {\n              if (_viewportSize.x !== self.scrollWrap.clientWidth) {\n                self.updateSize();\n              }\n            }, 500);\n          },\n          scroll: _updatePageScrollOffset,\n          keydown: _onKeyDown,\n          click: _onGlobalClick\n        }; // disable show/hide effects on old browsers that don't support CSS animations or transforms, \n        // old IOS, Android and Opera mobile. Blackberry seems to work fine, even older models.\n\n        var oldPhone = _features.isOldIOSPhone || _features.isOldAndroid || _features.isMobileOpera;\n\n        if (!_features.animationName || !_features.transform || oldPhone) {\n          _options.showAnimationDuration = _options.hideAnimationDuration = 0;\n        } // init modules\n\n\n        for (i = 0; i < _modules.length; i++) {\n          self['init' + _modules[i]]();\n        } // init\n\n\n        if (UiClass) {\n          var ui = self.ui = new UiClass(self, framework);\n          ui.init();\n        }\n\n        _shout('firstUpdate');\n\n        _currentItemIndex = _currentItemIndex || _options.index || 0; // validate index\n\n        if (isNaN(_currentItemIndex) || _currentItemIndex < 0 || _currentItemIndex >= _getNumItems()) {\n          _currentItemIndex = 0;\n        }\n\n        self.currItem = _getItemAt(_currentItemIndex);\n\n        if (_features.isOldIOSPhone || _features.isOldAndroid) {\n          _isFixedPosition = false;\n        }\n\n        template.setAttribute('aria-hidden', 'false');\n\n        if (_options.modal) {\n          if (!_isFixedPosition) {\n            template.style.position = 'absolute';\n            template.style.top = framework.getScrollY() + 'px';\n          } else {\n            template.style.position = 'fixed';\n          }\n        }\n\n        if (_currentWindowScrollY === undefined) {\n          _shout('initialLayout');\n\n          _currentWindowScrollY = _initalWindowScrollY = framework.getScrollY();\n        } // add classes to root element of PhotoSwipe\n\n\n        var rootClasses = 'pswp--open ';\n\n        if (_options.mainClass) {\n          rootClasses += _options.mainClass + ' ';\n        }\n\n        if (_options.showHideOpacity) {\n          rootClasses += 'pswp--animate_opacity ';\n        }\n\n        rootClasses += _likelyTouchDevice ? 'pswp--touch' : 'pswp--notouch';\n        rootClasses += _features.animationName ? ' pswp--css_animation' : '';\n        rootClasses += _features.svg ? ' pswp--svg' : '';\n        framework.addClass(template, rootClasses);\n        self.updateSize(); // initial update\n\n        _containerShiftIndex = -1;\n        _indexDiff = null;\n\n        for (i = 0; i < NUM_HOLDERS; i++) {\n          _setTranslateX((i + _containerShiftIndex) * _slideSize.x, _itemHolders[i].el.style);\n        }\n\n        if (!_oldIE) {\n          framework.bind(self.scrollWrap, _downEvents, self); // no dragging for old IE\n        }\n\n        _listen('initialZoomInEnd', function () {\n          self.setContent(_itemHolders[0], _currentItemIndex - 1);\n          self.setContent(_itemHolders[2], _currentItemIndex + 1);\n          _itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'block';\n\n          if (_options.focus) {\n            // focus causes layout, \n            // which causes lag during the animation, \n            // that's why we delay it untill the initial zoom transition ends\n            template.focus();\n          }\n\n          _bindEvents();\n        }); // set content for center slide (first time)\n\n\n        self.setContent(_itemHolders[1], _currentItemIndex);\n        self.updateCurrItem();\n\n        _shout('afterInit');\n\n        if (!_isFixedPosition) {\n          // On all versions of iOS lower than 8.0, we check size of viewport every second.\n          // \n          // This is done to detect when Safari top & bottom bars appear, \n          // as this action doesn't trigger any events (like resize). \n          // \n          // On iOS8 they fixed this.\n          // \n          // 10 Nov 2014: iOS 7 usage ~40%. iOS 8 usage 56%.\n          _updateSizeInterval = setInterval(function () {\n            if (!_numAnimations && !_isDragging && !_isZooming && _currZoomLevel === self.currItem.initialZoomLevel) {\n              self.updateSize();\n            }\n          }, 1000);\n        }\n\n        framework.addClass(template, 'pswp--visible');\n      },\n      // Close the gallery, then destroy it\n      close: function close() {\n        if (!_isOpen) {\n          return;\n        }\n\n        _isOpen = false;\n        _isDestroying = true;\n\n        _shout('close');\n\n        _unbindEvents();\n\n        _showOrHide(self.currItem, null, true, self.destroy);\n      },\n      // destroys the gallery (unbinds events, cleans up intervals and timeouts to avoid memory leaks)\n      destroy: function destroy() {\n        _shout('destroy');\n\n        if (_showOrHideTimeout) {\n          clearTimeout(_showOrHideTimeout);\n        }\n\n        template.setAttribute('aria-hidden', 'true');\n        template.className = _initalClassName;\n\n        if (_updateSizeInterval) {\n          clearInterval(_updateSizeInterval);\n        }\n\n        framework.unbind(self.scrollWrap, _downEvents, self); // we unbind scroll event at the end, as closing animation may depend on it\n\n        framework.unbind(window, 'scroll', self);\n\n        _stopDragUpdateLoop();\n\n        _stopAllAnimations();\n\n        _listeners = null;\n      },\n\n      /**\n       * Pan image to position\n       * @param {Number} x     \n       * @param {Number} y     \n       * @param {Boolean} force Will ignore bounds if set to true.\n       */\n      panTo: function panTo(x, y, force) {\n        if (!force) {\n          if (x > _currPanBounds.min.x) {\n            x = _currPanBounds.min.x;\n          } else if (x < _currPanBounds.max.x) {\n            x = _currPanBounds.max.x;\n          }\n\n          if (y > _currPanBounds.min.y) {\n            y = _currPanBounds.min.y;\n          } else if (y < _currPanBounds.max.y) {\n            y = _currPanBounds.max.y;\n          }\n        }\n\n        _panOffset.x = x;\n        _panOffset.y = y;\n\n        _applyCurrentZoomPan();\n      },\n      handleEvent: function handleEvent(e) {\n        e = e || window.event;\n\n        if (_globalEventHandlers[e.type]) {\n          _globalEventHandlers[e.type](e);\n        }\n      },\n      goTo: function goTo(index) {\n        index = _getLoopedId(index);\n        var diff = index - _currentItemIndex;\n        _indexDiff = diff;\n        _currentItemIndex = index;\n        self.currItem = _getItemAt(_currentItemIndex);\n        _currPositionIndex -= diff;\n\n        _moveMainScroll(_slideSize.x * _currPositionIndex);\n\n        _stopAllAnimations();\n\n        _mainScrollAnimating = false;\n        self.updateCurrItem();\n      },\n      next: function next() {\n        self.goTo(_currentItemIndex + 1);\n      },\n      prev: function prev() {\n        self.goTo(_currentItemIndex - 1);\n      },\n      // update current zoom/pan objects\n      updateCurrZoomItem: function updateCurrZoomItem(emulateSetContent) {\n        if (emulateSetContent) {\n          _shout('beforeChange', 0);\n        } // itemHolder[1] is middle (current) item\n\n\n        if (_itemHolders[1].el.children.length) {\n          var zoomElement = _itemHolders[1].el.children[0];\n\n          if (framework.hasClass(zoomElement, 'pswp__zoom-wrap')) {\n            _currZoomElementStyle = zoomElement.style;\n          } else {\n            _currZoomElementStyle = null;\n          }\n        } else {\n          _currZoomElementStyle = null;\n        }\n\n        _currPanBounds = self.currItem.bounds;\n        _startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n        _panOffset.x = _currPanBounds.center.x;\n        _panOffset.y = _currPanBounds.center.y;\n\n        if (emulateSetContent) {\n          _shout('afterChange');\n        }\n      },\n      invalidateCurrItems: function invalidateCurrItems() {\n        _itemsNeedUpdate = true;\n\n        for (var i = 0; i < NUM_HOLDERS; i++) {\n          if (_itemHolders[i].item) {\n            _itemHolders[i].item.needsUpdate = true;\n          }\n        }\n      },\n      updateCurrItem: function updateCurrItem(beforeAnimation) {\n        if (_indexDiff === 0) {\n          return;\n        }\n\n        var diffAbs = Math.abs(_indexDiff),\n            tempHolder;\n\n        if (beforeAnimation && diffAbs < 2) {\n          return;\n        }\n\n        self.currItem = _getItemAt(_currentItemIndex);\n        _renderMaxResolution = false;\n\n        _shout('beforeChange', _indexDiff);\n\n        if (diffAbs >= NUM_HOLDERS) {\n          _containerShiftIndex += _indexDiff + (_indexDiff > 0 ? -NUM_HOLDERS : NUM_HOLDERS);\n          diffAbs = NUM_HOLDERS;\n        }\n\n        for (var i = 0; i < diffAbs; i++) {\n          if (_indexDiff > 0) {\n            tempHolder = _itemHolders.shift();\n            _itemHolders[NUM_HOLDERS - 1] = tempHolder; // move first to last\n\n            _containerShiftIndex++;\n\n            _setTranslateX((_containerShiftIndex + 2) * _slideSize.x, tempHolder.el.style);\n\n            self.setContent(tempHolder, _currentItemIndex - diffAbs + i + 1 + 1);\n          } else {\n            tempHolder = _itemHolders.pop();\n\n            _itemHolders.unshift(tempHolder); // move last to first\n\n\n            _containerShiftIndex--;\n\n            _setTranslateX(_containerShiftIndex * _slideSize.x, tempHolder.el.style);\n\n            self.setContent(tempHolder, _currentItemIndex + diffAbs - i - 1 - 1);\n          }\n        } // reset zoom/pan on previous item\n\n\n        if (_currZoomElementStyle && Math.abs(_indexDiff) === 1) {\n          var prevItem = _getItemAt(_prevItemIndex);\n\n          if (prevItem.initialZoomLevel !== _currZoomLevel) {\n            _calculateItemSize(prevItem, _viewportSize);\n\n            _setImageSize(prevItem);\n\n            _applyZoomPanToItem(prevItem);\n          }\n        } // reset diff after update\n\n\n        _indexDiff = 0;\n        self.updateCurrZoomItem();\n        _prevItemIndex = _currentItemIndex;\n\n        _shout('afterChange');\n      },\n      updateSize: function updateSize(force) {\n        if (!_isFixedPosition && _options.modal) {\n          var windowScrollY = framework.getScrollY();\n\n          if (_currentWindowScrollY !== windowScrollY) {\n            template.style.top = windowScrollY + 'px';\n            _currentWindowScrollY = windowScrollY;\n          }\n\n          if (!force && _windowVisibleSize.x === window.innerWidth && _windowVisibleSize.y === window.innerHeight) {\n            return;\n          }\n\n          _windowVisibleSize.x = window.innerWidth;\n          _windowVisibleSize.y = window.innerHeight; //template.style.width = _windowVisibleSize.x + 'px';\n\n          template.style.height = _windowVisibleSize.y + 'px';\n        }\n\n        _viewportSize.x = self.scrollWrap.clientWidth;\n        _viewportSize.y = self.scrollWrap.clientHeight;\n\n        _updatePageScrollOffset();\n\n        _slideSize.x = _viewportSize.x + Math.round(_viewportSize.x * _options.spacing);\n        _slideSize.y = _viewportSize.y;\n\n        _moveMainScroll(_slideSize.x * _currPositionIndex);\n\n        _shout('beforeResize'); // even may be used for example to switch image sources\n        // don't re-calculate size on inital size update\n\n\n        if (_containerShiftIndex !== undefined) {\n          var holder, item, hIndex;\n\n          for (var i = 0; i < NUM_HOLDERS; i++) {\n            holder = _itemHolders[i];\n\n            _setTranslateX((i + _containerShiftIndex) * _slideSize.x, holder.el.style);\n\n            hIndex = _currentItemIndex + i - 1;\n\n            if (_options.loop && _getNumItems() > 2) {\n              hIndex = _getLoopedId(hIndex);\n            } // update zoom level on items and refresh source (if needsUpdate)\n\n\n            item = _getItemAt(hIndex); // re-render gallery item if `needsUpdate`,\n            // or doesn't have `bounds` (entirely new slide object)\n\n            if (item && (_itemsNeedUpdate || item.needsUpdate || !item.bounds)) {\n              self.cleanSlide(item);\n              self.setContent(holder, hIndex); // if \"center\" slide\n\n              if (i === 1) {\n                self.currItem = item;\n                self.updateCurrZoomItem(true);\n              }\n\n              item.needsUpdate = false;\n            } else if (holder.index === -1 && hIndex >= 0) {\n              // add content first time\n              self.setContent(holder, hIndex);\n            }\n\n            if (item && item.container) {\n              _calculateItemSize(item, _viewportSize);\n\n              _setImageSize(item);\n\n              _applyZoomPanToItem(item);\n            }\n          }\n\n          _itemsNeedUpdate = false;\n        }\n\n        _startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n        _currPanBounds = self.currItem.bounds;\n\n        if (_currPanBounds) {\n          _panOffset.x = _currPanBounds.center.x;\n          _panOffset.y = _currPanBounds.center.y;\n\n          _applyCurrentZoomPan(true);\n        }\n\n        _shout('resize');\n      },\n      // Zoom current item to\n      zoomTo: function zoomTo(destZoomLevel, centerPoint, speed, easingFn, updateFn) {\n        /*\n        \tif(destZoomLevel === 'fit') {\n        \t\tdestZoomLevel = self.currItem.fitRatio;\n        \t} else if(destZoomLevel === 'fill') {\n        \t\tdestZoomLevel = self.currItem.fillRatio;\n        \t}\n        */\n        if (centerPoint) {\n          _startZoomLevel = _currZoomLevel;\n          _midZoomPoint.x = Math.abs(centerPoint.x) - _panOffset.x;\n          _midZoomPoint.y = Math.abs(centerPoint.y) - _panOffset.y;\n\n          _equalizePoints(_startPanOffset, _panOffset);\n        }\n\n        var destPanBounds = _calculatePanBounds(destZoomLevel, false),\n            destPanOffset = {};\n\n        _modifyDestPanOffset('x', destPanBounds, destPanOffset, destZoomLevel);\n\n        _modifyDestPanOffset('y', destPanBounds, destPanOffset, destZoomLevel);\n\n        var initialZoomLevel = _currZoomLevel;\n        var initialPanOffset = {\n          x: _panOffset.x,\n          y: _panOffset.y\n        };\n\n        _roundPoint(destPanOffset);\n\n        var onUpdate = function onUpdate(now) {\n          if (now === 1) {\n            _currZoomLevel = destZoomLevel;\n            _panOffset.x = destPanOffset.x;\n            _panOffset.y = destPanOffset.y;\n          } else {\n            _currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n            _panOffset.x = (destPanOffset.x - initialPanOffset.x) * now + initialPanOffset.x;\n            _panOffset.y = (destPanOffset.y - initialPanOffset.y) * now + initialPanOffset.y;\n          }\n\n          if (updateFn) {\n            updateFn(now);\n          }\n\n          _applyCurrentZoomPan(now === 1);\n        };\n\n        if (speed) {\n          _animateProp('customZoomTo', 0, 1, speed, easingFn || framework.easing.sine.inOut, onUpdate);\n        } else {\n          onUpdate(1);\n        }\n      }\n    };\n    /*>>core*/\n\n    /*>>gestures*/\n\n    /**\n     * Mouse/touch/pointer event handlers.\n     * \n     * separated from @core.js for readability\n     */\n\n    var MIN_SWIPE_DISTANCE = 30,\n        DIRECTION_CHECK_OFFSET = 10; // amount of pixels to drag to determine direction of swipe\n\n    var _gestureStartTime,\n        _gestureCheckSpeedTime,\n        // pool of objects that are used during dragging of zooming\n    p = {},\n        // first point\n    p2 = {},\n        // second point (for zoom gesture)\n    delta = {},\n        _currPoint = {},\n        _startPoint = {},\n        _currPointers = [],\n        _startMainScrollPos = {},\n        _releaseAnimData,\n        _posPoints = [],\n        // array of points during dragging, used to determine type of gesture\n    _tempPoint = {},\n        _isZoomingIn,\n        _verticalDragInitiated,\n        _oldAndroidTouchEndTimeout,\n        _currZoomedItemIndex = 0,\n        _centerPoint = _getEmptyPoint(),\n        _lastReleaseTime = 0,\n        _isDragging,\n        // at least one pointer is down\n    _isMultitouch,\n        // at least two _pointers are down\n    _zoomStarted,\n        // zoom level changed during zoom gesture\n    _moved,\n        _dragAnimFrame,\n        _mainScrollShifted,\n        _currentPoints,\n        // array of current touch points\n    _isZooming,\n        _currPointsDistance,\n        _startPointsDistance,\n        _currPanBounds,\n        _mainScrollPos = _getEmptyPoint(),\n        _currZoomElementStyle,\n        _mainScrollAnimating,\n        // true, if animation after swipe gesture is running\n    _midZoomPoint = _getEmptyPoint(),\n        _currCenterPoint = _getEmptyPoint(),\n        _direction,\n        _isFirstMove,\n        _opacityChanged,\n        _bgOpacity,\n        _wasOverInitialZoom,\n        _isEqualPoints = function _isEqualPoints(p1, p2) {\n      return p1.x === p2.x && p1.y === p2.y;\n    },\n        _isNearbyPoints = function _isNearbyPoints(touch0, touch1) {\n      return Math.abs(touch0.x - touch1.x) < DOUBLE_TAP_RADIUS && Math.abs(touch0.y - touch1.y) < DOUBLE_TAP_RADIUS;\n    },\n        _calculatePointsDistance = function _calculatePointsDistance(p1, p2) {\n      _tempPoint.x = Math.abs(p1.x - p2.x);\n      _tempPoint.y = Math.abs(p1.y - p2.y);\n      return Math.sqrt(_tempPoint.x * _tempPoint.x + _tempPoint.y * _tempPoint.y);\n    },\n        _stopDragUpdateLoop = function _stopDragUpdateLoop() {\n      if (_dragAnimFrame) {\n        _cancelAF(_dragAnimFrame);\n\n        _dragAnimFrame = null;\n      }\n    },\n        _dragUpdateLoop = function _dragUpdateLoop() {\n      if (_isDragging) {\n        _dragAnimFrame = _requestAF(_dragUpdateLoop);\n\n        _renderMovement();\n      }\n    },\n        _canPan = function _canPan() {\n      return !(_options.scaleMode === 'fit' && _currZoomLevel === self.currItem.initialZoomLevel);\n    },\n        // find the closest parent DOM element\n    _closestElement = function _closestElement(el, fn) {\n      if (!el || el === document) {\n        return false;\n      } // don't search elements above pswp__scroll-wrap\n\n\n      if (el.getAttribute('class') && el.getAttribute('class').indexOf('pswp__scroll-wrap') > -1) {\n        return false;\n      }\n\n      if (fn(el)) {\n        return el;\n      }\n\n      return _closestElement(el.parentNode, fn);\n    },\n        _preventObj = {},\n        _preventDefaultEventBehaviour = function _preventDefaultEventBehaviour(e, isDown) {\n      _preventObj.prevent = !_closestElement(e.target, _options.isClickableElement);\n\n      _shout('preventDragEvent', e, isDown, _preventObj);\n\n      return _preventObj.prevent;\n    },\n        _convertTouchToPoint = function _convertTouchToPoint(touch, p) {\n      p.x = touch.pageX;\n      p.y = touch.pageY;\n      p.id = touch.identifier;\n      return p;\n    },\n        _findCenterOfPoints = function _findCenterOfPoints(p1, p2, pCenter) {\n      pCenter.x = (p1.x + p2.x) * 0.5;\n      pCenter.y = (p1.y + p2.y) * 0.5;\n    },\n        _pushPosPoint = function _pushPosPoint(time, x, y) {\n      if (time - _gestureCheckSpeedTime > 50) {\n        var o = _posPoints.length > 2 ? _posPoints.shift() : {};\n        o.x = x;\n        o.y = y;\n\n        _posPoints.push(o);\n\n        _gestureCheckSpeedTime = time;\n      }\n    },\n        _calculateVerticalDragOpacityRatio = function _calculateVerticalDragOpacityRatio() {\n      var yOffset = _panOffset.y - self.currItem.initialPosition.y; // difference between initial and current position\n\n      return 1 - Math.abs(yOffset / (_viewportSize.y / 2));\n    },\n        // points pool, reused during touch events\n    _ePoint1 = {},\n        _ePoint2 = {},\n        _tempPointsArr = [],\n        _tempCounter,\n        _getTouchPoints = function _getTouchPoints(e) {\n      // clean up previous points, without recreating array\n      while (_tempPointsArr.length > 0) {\n        _tempPointsArr.pop();\n      }\n\n      if (!_pointerEventEnabled) {\n        if (e.type.indexOf('touch') > -1) {\n          if (e.touches && e.touches.length > 0) {\n            _tempPointsArr[0] = _convertTouchToPoint(e.touches[0], _ePoint1);\n\n            if (e.touches.length > 1) {\n              _tempPointsArr[1] = _convertTouchToPoint(e.touches[1], _ePoint2);\n            }\n          }\n        } else {\n          _ePoint1.x = e.pageX;\n          _ePoint1.y = e.pageY;\n          _ePoint1.id = '';\n          _tempPointsArr[0] = _ePoint1; //_ePoint1;\n        }\n      } else {\n        _tempCounter = 0; // we can use forEach, as pointer events are supported only in modern browsers\n\n        _currPointers.forEach(function (p) {\n          if (_tempCounter === 0) {\n            _tempPointsArr[0] = p;\n          } else if (_tempCounter === 1) {\n            _tempPointsArr[1] = p;\n          }\n\n          _tempCounter++;\n        });\n      }\n\n      return _tempPointsArr;\n    },\n        _panOrMoveMainScroll = function _panOrMoveMainScroll(axis, delta) {\n      var panFriction,\n          overDiff = 0,\n          newOffset = _panOffset[axis] + delta[axis],\n          startOverDiff,\n          dir = delta[axis] > 0,\n          newMainScrollPosition = _mainScrollPos.x + delta.x,\n          mainScrollDiff = _mainScrollPos.x - _startMainScrollPos.x,\n          newPanPos,\n          newMainScrollPos; // calculate fdistance over the bounds and friction\n\n      if (newOffset > _currPanBounds.min[axis] || newOffset < _currPanBounds.max[axis]) {\n        panFriction = _options.panEndFriction; // Linear increasing of friction, so at 1/4 of viewport it's at max value. \n        // Looks not as nice as was expected. Left for history.\n        // panFriction = (1 - (_panOffset[axis] + delta[axis] + panBounds.min[axis]) / (_viewportSize[axis] / 4) );\n      } else {\n        panFriction = 1;\n      }\n\n      newOffset = _panOffset[axis] + delta[axis] * panFriction; // move main scroll or start panning\n\n      if (_options.allowPanToNext || _currZoomLevel === self.currItem.initialZoomLevel) {\n        if (!_currZoomElementStyle) {\n          newMainScrollPos = newMainScrollPosition;\n        } else if (_direction === 'h' && axis === 'x' && !_zoomStarted) {\n          if (dir) {\n            if (newOffset > _currPanBounds.min[axis]) {\n              panFriction = _options.panEndFriction;\n              overDiff = _currPanBounds.min[axis] - newOffset;\n              startOverDiff = _currPanBounds.min[axis] - _startPanOffset[axis];\n            } // drag right\n\n\n            if ((startOverDiff <= 0 || mainScrollDiff < 0) && _getNumItems() > 1) {\n              newMainScrollPos = newMainScrollPosition;\n\n              if (mainScrollDiff < 0 && newMainScrollPosition > _startMainScrollPos.x) {\n                newMainScrollPos = _startMainScrollPos.x;\n              }\n            } else {\n              if (_currPanBounds.min.x !== _currPanBounds.max.x) {\n                newPanPos = newOffset;\n              }\n            }\n          } else {\n            if (newOffset < _currPanBounds.max[axis]) {\n              panFriction = _options.panEndFriction;\n              overDiff = newOffset - _currPanBounds.max[axis];\n              startOverDiff = _startPanOffset[axis] - _currPanBounds.max[axis];\n            }\n\n            if ((startOverDiff <= 0 || mainScrollDiff > 0) && _getNumItems() > 1) {\n              newMainScrollPos = newMainScrollPosition;\n\n              if (mainScrollDiff > 0 && newMainScrollPosition < _startMainScrollPos.x) {\n                newMainScrollPos = _startMainScrollPos.x;\n              }\n            } else {\n              if (_currPanBounds.min.x !== _currPanBounds.max.x) {\n                newPanPos = newOffset;\n              }\n            }\n          } //\n\n        }\n\n        if (axis === 'x') {\n          if (newMainScrollPos !== undefined) {\n            _moveMainScroll(newMainScrollPos, true);\n\n            if (newMainScrollPos === _startMainScrollPos.x) {\n              _mainScrollShifted = false;\n            } else {\n              _mainScrollShifted = true;\n            }\n          }\n\n          if (_currPanBounds.min.x !== _currPanBounds.max.x) {\n            if (newPanPos !== undefined) {\n              _panOffset.x = newPanPos;\n            } else if (!_mainScrollShifted) {\n              _panOffset.x += delta.x * panFriction;\n            }\n          }\n\n          return newMainScrollPos !== undefined;\n        }\n      }\n\n      if (!_mainScrollAnimating) {\n        if (!_mainScrollShifted) {\n          if (_currZoomLevel > self.currItem.fitRatio) {\n            _panOffset[axis] += delta[axis] * panFriction;\n          }\n        }\n      }\n    },\n        // Pointerdown/touchstart/mousedown handler\n    _onDragStart = function _onDragStart(e) {\n      // Allow dragging only via left mouse button.\n      // As this handler is not added in IE8 - we ignore e.which\n      // \n      // http://www.quirksmode.org/js/events_properties.html\n      // https://developer.mozilla.org/en-US/docs/Web/API/event.button\n      if (e.type === 'mousedown' && e.button > 0) {\n        return;\n      }\n\n      if (_initialZoomRunning) {\n        e.preventDefault();\n        return;\n      }\n\n      if (_oldAndroidTouchEndTimeout && e.type === 'mousedown') {\n        return;\n      }\n\n      if (_preventDefaultEventBehaviour(e, true)) {\n        e.preventDefault();\n      }\n\n      _shout('pointerDown');\n\n      if (_pointerEventEnabled) {\n        var pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\n        if (pointerIndex < 0) {\n          pointerIndex = _currPointers.length;\n        }\n\n        _currPointers[pointerIndex] = {\n          x: e.pageX,\n          y: e.pageY,\n          id: e.pointerId\n        };\n      }\n\n      var startPointsList = _getTouchPoints(e),\n          numPoints = startPointsList.length;\n\n      _currentPoints = null;\n\n      _stopAllAnimations(); // init drag\n\n\n      if (!_isDragging || numPoints === 1) {\n        _isDragging = _isFirstMove = true;\n        framework.bind(window, _upMoveEvents, self);\n        _isZoomingIn = _wasOverInitialZoom = _opacityChanged = _verticalDragInitiated = _mainScrollShifted = _moved = _isMultitouch = _zoomStarted = false;\n        _direction = null;\n\n        _shout('firstTouchStart', startPointsList);\n\n        _equalizePoints(_startPanOffset, _panOffset);\n\n        _currPanDist.x = _currPanDist.y = 0;\n\n        _equalizePoints(_currPoint, startPointsList[0]);\n\n        _equalizePoints(_startPoint, _currPoint); //_equalizePoints(_startMainScrollPos, _mainScrollPos);\n\n\n        _startMainScrollPos.x = _slideSize.x * _currPositionIndex;\n        _posPoints = [{\n          x: _currPoint.x,\n          y: _currPoint.y\n        }];\n        _gestureCheckSpeedTime = _gestureStartTime = _getCurrentTime(); //_mainScrollAnimationEnd(true);\n\n        _calculatePanBounds(_currZoomLevel, true); // Start rendering\n\n\n        _stopDragUpdateLoop();\n\n        _dragUpdateLoop();\n      } // init zoom\n\n\n      if (!_isZooming && numPoints > 1 && !_mainScrollAnimating && !_mainScrollShifted) {\n        _startZoomLevel = _currZoomLevel;\n        _zoomStarted = false; // true if zoom changed at least once\n\n        _isZooming = _isMultitouch = true;\n        _currPanDist.y = _currPanDist.x = 0;\n\n        _equalizePoints(_startPanOffset, _panOffset);\n\n        _equalizePoints(p, startPointsList[0]);\n\n        _equalizePoints(p2, startPointsList[1]);\n\n        _findCenterOfPoints(p, p2, _currCenterPoint);\n\n        _midZoomPoint.x = Math.abs(_currCenterPoint.x) - _panOffset.x;\n        _midZoomPoint.y = Math.abs(_currCenterPoint.y) - _panOffset.y;\n        _currPointsDistance = _startPointsDistance = _calculatePointsDistance(p, p2);\n      }\n    },\n        // Pointermove/touchmove/mousemove handler\n    _onDragMove = function _onDragMove(e) {\n      e.preventDefault();\n\n      if (_pointerEventEnabled) {\n        var pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\n        if (pointerIndex > -1) {\n          var p = _currPointers[pointerIndex];\n          p.x = e.pageX;\n          p.y = e.pageY;\n        }\n      }\n\n      if (_isDragging) {\n        var touchesList = _getTouchPoints(e);\n\n        if (!_direction && !_moved && !_isZooming) {\n          if (_mainScrollPos.x !== _slideSize.x * _currPositionIndex) {\n            // if main scroll position is shifted – direction is always horizontal\n            _direction = 'h';\n          } else {\n            var diff = Math.abs(touchesList[0].x - _currPoint.x) - Math.abs(touchesList[0].y - _currPoint.y); // check the direction of movement\n\n            if (Math.abs(diff) >= DIRECTION_CHECK_OFFSET) {\n              _direction = diff > 0 ? 'h' : 'v';\n              _currentPoints = touchesList;\n            }\n          }\n        } else {\n          _currentPoints = touchesList;\n        }\n      }\n    },\n        // \n    _renderMovement = function _renderMovement() {\n      if (!_currentPoints) {\n        return;\n      }\n\n      var numPoints = _currentPoints.length;\n\n      if (numPoints === 0) {\n        return;\n      }\n\n      _equalizePoints(p, _currentPoints[0]);\n\n      delta.x = p.x - _currPoint.x;\n      delta.y = p.y - _currPoint.y;\n\n      if (_isZooming && numPoints > 1) {\n        // Handle behaviour for more than 1 point\n        _currPoint.x = p.x;\n        _currPoint.y = p.y; // check if one of two points changed\n\n        if (!delta.x && !delta.y && _isEqualPoints(_currentPoints[1], p2)) {\n          return;\n        }\n\n        _equalizePoints(p2, _currentPoints[1]);\n\n        if (!_zoomStarted) {\n          _zoomStarted = true;\n\n          _shout('zoomGestureStarted');\n        } // Distance between two points\n\n\n        var pointsDistance = _calculatePointsDistance(p, p2);\n\n        var zoomLevel = _calculateZoomLevel(pointsDistance); // slightly over the of initial zoom level\n\n\n        if (zoomLevel > self.currItem.initialZoomLevel + self.currItem.initialZoomLevel / 15) {\n          _wasOverInitialZoom = true;\n        } // Apply the friction if zoom level is out of the bounds\n\n\n        var zoomFriction = 1,\n            minZoomLevel = _getMinZoomLevel(),\n            maxZoomLevel = _getMaxZoomLevel();\n\n        if (zoomLevel < minZoomLevel) {\n          if (_options.pinchToClose && !_wasOverInitialZoom && _startZoomLevel <= self.currItem.initialZoomLevel) {\n            // fade out background if zooming out\n            var minusDiff = minZoomLevel - zoomLevel;\n            var percent = 1 - minusDiff / (minZoomLevel / 1.2);\n\n            _applyBgOpacity(percent);\n\n            _shout('onPinchClose', percent);\n\n            _opacityChanged = true;\n          } else {\n            zoomFriction = (minZoomLevel - zoomLevel) / minZoomLevel;\n\n            if (zoomFriction > 1) {\n              zoomFriction = 1;\n            }\n\n            zoomLevel = minZoomLevel - zoomFriction * (minZoomLevel / 3);\n          }\n        } else if (zoomLevel > maxZoomLevel) {\n          // 1.5 - extra zoom level above the max. E.g. if max is x6, real max 6 + 1.5 = 7.5\n          zoomFriction = (zoomLevel - maxZoomLevel) / (minZoomLevel * 6);\n\n          if (zoomFriction > 1) {\n            zoomFriction = 1;\n          }\n\n          zoomLevel = maxZoomLevel + zoomFriction * minZoomLevel;\n        }\n\n        if (zoomFriction < 0) {\n          zoomFriction = 0;\n        } // distance between touch points after friction is applied\n\n\n        _currPointsDistance = pointsDistance; // _centerPoint - The point in the middle of two pointers\n\n        _findCenterOfPoints(p, p2, _centerPoint); // paning with two pointers pressed\n\n\n        _currPanDist.x += _centerPoint.x - _currCenterPoint.x;\n        _currPanDist.y += _centerPoint.y - _currCenterPoint.y;\n\n        _equalizePoints(_currCenterPoint, _centerPoint);\n\n        _panOffset.x = _calculatePanOffset('x', zoomLevel);\n        _panOffset.y = _calculatePanOffset('y', zoomLevel);\n        _isZoomingIn = zoomLevel > _currZoomLevel;\n        _currZoomLevel = zoomLevel;\n\n        _applyCurrentZoomPan();\n      } else {\n        // handle behaviour for one point (dragging or panning)\n        if (!_direction) {\n          return;\n        }\n\n        if (_isFirstMove) {\n          _isFirstMove = false; // subtract drag distance that was used during the detection direction  \n\n          if (Math.abs(delta.x) >= DIRECTION_CHECK_OFFSET) {\n            delta.x -= _currentPoints[0].x - _startPoint.x;\n          }\n\n          if (Math.abs(delta.y) >= DIRECTION_CHECK_OFFSET) {\n            delta.y -= _currentPoints[0].y - _startPoint.y;\n          }\n        }\n\n        _currPoint.x = p.x;\n        _currPoint.y = p.y; // do nothing if pointers position hasn't changed\n\n        if (delta.x === 0 && delta.y === 0) {\n          return;\n        }\n\n        if (_direction === 'v' && _options.closeOnVerticalDrag) {\n          if (!_canPan()) {\n            _currPanDist.y += delta.y;\n            _panOffset.y += delta.y;\n\n            var opacityRatio = _calculateVerticalDragOpacityRatio();\n\n            _verticalDragInitiated = true;\n\n            _shout('onVerticalDrag', opacityRatio);\n\n            _applyBgOpacity(opacityRatio);\n\n            _applyCurrentZoomPan();\n\n            return;\n          }\n        }\n\n        _pushPosPoint(_getCurrentTime(), p.x, p.y);\n\n        _moved = true;\n        _currPanBounds = self.currItem.bounds;\n\n        var mainScrollChanged = _panOrMoveMainScroll('x', delta);\n\n        if (!mainScrollChanged) {\n          _panOrMoveMainScroll('y', delta);\n\n          _roundPoint(_panOffset);\n\n          _applyCurrentZoomPan();\n        }\n      }\n    },\n        // Pointerup/pointercancel/touchend/touchcancel/mouseup event handler\n    _onDragRelease = function _onDragRelease(e) {\n      if (_features.isOldAndroid) {\n        if (_oldAndroidTouchEndTimeout && e.type === 'mouseup') {\n          return;\n        } // on Android (v4.1, 4.2, 4.3 & possibly older) \n        // ghost mousedown/up event isn't preventable via e.preventDefault,\n        // which causes fake mousedown event\n        // so we block mousedown/up for 600ms\n\n\n        if (e.type.indexOf('touch') > -1) {\n          clearTimeout(_oldAndroidTouchEndTimeout);\n          _oldAndroidTouchEndTimeout = setTimeout(function () {\n            _oldAndroidTouchEndTimeout = 0;\n          }, 600);\n        }\n      }\n\n      _shout('pointerUp');\n\n      if (_preventDefaultEventBehaviour(e, false)) {\n        e.preventDefault();\n      }\n\n      var releasePoint;\n\n      if (_pointerEventEnabled) {\n        var pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\n        if (pointerIndex > -1) {\n          releasePoint = _currPointers.splice(pointerIndex, 1)[0];\n\n          if (navigator.msPointerEnabled) {\n            var MSPOINTER_TYPES = {\n              4: 'mouse',\n              // event.MSPOINTER_TYPE_MOUSE\n              2: 'touch',\n              // event.MSPOINTER_TYPE_TOUCH \n              3: 'pen' // event.MSPOINTER_TYPE_PEN\n\n            };\n            releasePoint.type = MSPOINTER_TYPES[e.pointerType];\n\n            if (!releasePoint.type) {\n              releasePoint.type = e.pointerType || 'mouse';\n            }\n          } else {\n            releasePoint.type = e.pointerType || 'mouse';\n          }\n        }\n      }\n\n      var touchList = _getTouchPoints(e),\n          gestureType,\n          numPoints = touchList.length;\n\n      if (e.type === 'mouseup') {\n        numPoints = 0;\n      } // Do nothing if there were 3 touch points or more\n\n\n      if (numPoints === 2) {\n        _currentPoints = null;\n        return true;\n      } // if second pointer released\n\n\n      if (numPoints === 1) {\n        _equalizePoints(_startPoint, touchList[0]);\n      } // pointer hasn't moved, send \"tap release\" point\n\n\n      if (numPoints === 0 && !_direction && !_mainScrollAnimating) {\n        if (!releasePoint) {\n          if (e.type === 'mouseup') {\n            releasePoint = {\n              x: e.pageX,\n              y: e.pageY,\n              type: 'mouse'\n            };\n          } else if (e.changedTouches && e.changedTouches[0]) {\n            releasePoint = {\n              x: e.changedTouches[0].pageX,\n              y: e.changedTouches[0].pageY,\n              type: 'touch'\n            };\n          }\n        }\n\n        _shout('touchRelease', e, releasePoint);\n      } // Difference in time between releasing of two last touch points (zoom gesture)\n\n\n      var releaseTimeDiff = -1; // Gesture completed, no pointers left\n\n      if (numPoints === 0) {\n        _isDragging = false;\n        framework.unbind(window, _upMoveEvents, self);\n\n        _stopDragUpdateLoop();\n\n        if (_isZooming) {\n          // Two points released at the same time\n          releaseTimeDiff = 0;\n        } else if (_lastReleaseTime !== -1) {\n          releaseTimeDiff = _getCurrentTime() - _lastReleaseTime;\n        }\n      }\n\n      _lastReleaseTime = numPoints === 1 ? _getCurrentTime() : -1;\n\n      if (releaseTimeDiff !== -1 && releaseTimeDiff < 150) {\n        gestureType = 'zoom';\n      } else {\n        gestureType = 'swipe';\n      }\n\n      if (_isZooming && numPoints < 2) {\n        _isZooming = false; // Only second point released\n\n        if (numPoints === 1) {\n          gestureType = 'zoomPointerUp';\n        }\n\n        _shout('zoomGestureEnded');\n      }\n\n      _currentPoints = null;\n\n      if (!_moved && !_zoomStarted && !_mainScrollAnimating && !_verticalDragInitiated) {\n        // nothing to animate\n        return;\n      }\n\n      _stopAllAnimations();\n\n      if (!_releaseAnimData) {\n        _releaseAnimData = _initDragReleaseAnimationData();\n      }\n\n      _releaseAnimData.calculateSwipeSpeed('x');\n\n      if (_verticalDragInitiated) {\n        var opacityRatio = _calculateVerticalDragOpacityRatio();\n\n        if (opacityRatio < _options.verticalDragRange) {\n          self.close();\n        } else {\n          var initalPanY = _panOffset.y,\n              initialBgOpacity = _bgOpacity;\n\n          _animateProp('verticalDrag', 0, 1, 300, framework.easing.cubic.out, function (now) {\n            _panOffset.y = (self.currItem.initialPosition.y - initalPanY) * now + initalPanY;\n\n            _applyBgOpacity((1 - initialBgOpacity) * now + initialBgOpacity);\n\n            _applyCurrentZoomPan();\n          });\n\n          _shout('onVerticalDrag', 1);\n        }\n\n        return;\n      } // main scroll \n\n\n      if ((_mainScrollShifted || _mainScrollAnimating) && numPoints === 0) {\n        var itemChanged = _finishSwipeMainScrollGesture(gestureType, _releaseAnimData);\n\n        if (itemChanged) {\n          return;\n        }\n\n        gestureType = 'zoomPointerUp';\n      } // prevent zoom/pan animation when main scroll animation runs\n\n\n      if (_mainScrollAnimating) {\n        return;\n      } // Complete simple zoom gesture (reset zoom level if it's out of the bounds)  \n\n\n      if (gestureType !== 'swipe') {\n        _completeZoomGesture();\n\n        return;\n      } // Complete pan gesture if main scroll is not shifted, and it's possible to pan current image\n\n\n      if (!_mainScrollShifted && _currZoomLevel > self.currItem.fitRatio) {\n        _completePanGesture(_releaseAnimData);\n      }\n    },\n        // Returns object with data about gesture\n    // It's created only once and then reused\n    _initDragReleaseAnimationData = function _initDragReleaseAnimationData() {\n      // temp local vars\n      var lastFlickDuration, tempReleasePos; // s = this\n\n      var s = {\n        lastFlickOffset: {},\n        lastFlickDist: {},\n        lastFlickSpeed: {},\n        slowDownRatio: {},\n        slowDownRatioReverse: {},\n        speedDecelerationRatio: {},\n        speedDecelerationRatioAbs: {},\n        distanceOffset: {},\n        backAnimDestination: {},\n        backAnimStarted: {},\n        calculateSwipeSpeed: function calculateSwipeSpeed(axis) {\n          if (_posPoints.length > 1) {\n            lastFlickDuration = _getCurrentTime() - _gestureCheckSpeedTime + 50;\n            tempReleasePos = _posPoints[_posPoints.length - 2][axis];\n          } else {\n            lastFlickDuration = _getCurrentTime() - _gestureStartTime; // total gesture duration\n\n            tempReleasePos = _startPoint[axis];\n          }\n\n          s.lastFlickOffset[axis] = _currPoint[axis] - tempReleasePos;\n          s.lastFlickDist[axis] = Math.abs(s.lastFlickOffset[axis]);\n\n          if (s.lastFlickDist[axis] > 20) {\n            s.lastFlickSpeed[axis] = s.lastFlickOffset[axis] / lastFlickDuration;\n          } else {\n            s.lastFlickSpeed[axis] = 0;\n          }\n\n          if (Math.abs(s.lastFlickSpeed[axis]) < 0.1) {\n            s.lastFlickSpeed[axis] = 0;\n          }\n\n          s.slowDownRatio[axis] = 0.95;\n          s.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n          s.speedDecelerationRatio[axis] = 1;\n        },\n        calculateOverBoundsAnimOffset: function calculateOverBoundsAnimOffset(axis, speed) {\n          if (!s.backAnimStarted[axis]) {\n            if (_panOffset[axis] > _currPanBounds.min[axis]) {\n              s.backAnimDestination[axis] = _currPanBounds.min[axis];\n            } else if (_panOffset[axis] < _currPanBounds.max[axis]) {\n              s.backAnimDestination[axis] = _currPanBounds.max[axis];\n            }\n\n            if (s.backAnimDestination[axis] !== undefined) {\n              s.slowDownRatio[axis] = 0.7;\n              s.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\n              if (s.speedDecelerationRatioAbs[axis] < 0.05) {\n                s.lastFlickSpeed[axis] = 0;\n                s.backAnimStarted[axis] = true;\n\n                _animateProp('bounceZoomPan' + axis, _panOffset[axis], s.backAnimDestination[axis], speed || 300, framework.easing.sine.out, function (pos) {\n                  _panOffset[axis] = pos;\n\n                  _applyCurrentZoomPan();\n                });\n              }\n            }\n          }\n        },\n        // Reduces the speed by slowDownRatio (per 10ms)\n        calculateAnimOffset: function calculateAnimOffset(axis) {\n          if (!s.backAnimStarted[axis]) {\n            s.speedDecelerationRatio[axis] = s.speedDecelerationRatio[axis] * (s.slowDownRatio[axis] + s.slowDownRatioReverse[axis] - s.slowDownRatioReverse[axis] * s.timeDiff / 10);\n            s.speedDecelerationRatioAbs[axis] = Math.abs(s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis]);\n            s.distanceOffset[axis] = s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis] * s.timeDiff;\n            _panOffset[axis] += s.distanceOffset[axis];\n          }\n        },\n        panAnimLoop: function panAnimLoop() {\n          if (_animations.zoomPan) {\n            _animations.zoomPan.raf = _requestAF(s.panAnimLoop);\n            s.now = _getCurrentTime();\n            s.timeDiff = s.now - s.lastNow;\n            s.lastNow = s.now;\n            s.calculateAnimOffset('x');\n            s.calculateAnimOffset('y');\n\n            _applyCurrentZoomPan();\n\n            s.calculateOverBoundsAnimOffset('x');\n            s.calculateOverBoundsAnimOffset('y');\n\n            if (s.speedDecelerationRatioAbs.x < 0.05 && s.speedDecelerationRatioAbs.y < 0.05) {\n              // round pan position\n              _panOffset.x = Math.round(_panOffset.x);\n              _panOffset.y = Math.round(_panOffset.y);\n\n              _applyCurrentZoomPan();\n\n              _stopAnimation('zoomPan');\n\n              return;\n            }\n          }\n        }\n      };\n      return s;\n    },\n        _completePanGesture = function _completePanGesture(animData) {\n      // calculate swipe speed for Y axis (paanning)\n      animData.calculateSwipeSpeed('y');\n      _currPanBounds = self.currItem.bounds;\n      animData.backAnimDestination = {};\n      animData.backAnimStarted = {}; // Avoid acceleration animation if speed is too low\n\n      if (Math.abs(animData.lastFlickSpeed.x) <= 0.05 && Math.abs(animData.lastFlickSpeed.y) <= 0.05) {\n        animData.speedDecelerationRatioAbs.x = animData.speedDecelerationRatioAbs.y = 0; // Run pan drag release animation. E.g. if you drag image and release finger without momentum.\n\n        animData.calculateOverBoundsAnimOffset('x');\n        animData.calculateOverBoundsAnimOffset('y');\n        return true;\n      } // Animation loop that controls the acceleration after pan gesture ends\n\n\n      _registerStartAnimation('zoomPan');\n\n      animData.lastNow = _getCurrentTime();\n      animData.panAnimLoop();\n    },\n        _finishSwipeMainScrollGesture = function _finishSwipeMainScrollGesture(gestureType, _releaseAnimData) {\n      var itemChanged;\n\n      if (!_mainScrollAnimating) {\n        _currZoomedItemIndex = _currentItemIndex;\n      }\n\n      var itemsDiff;\n\n      if (gestureType === 'swipe') {\n        var totalShiftDist = _currPoint.x - _startPoint.x,\n            isFastLastFlick = _releaseAnimData.lastFlickDist.x < 10; // if container is shifted for more than MIN_SWIPE_DISTANCE, \n        // and last flick gesture was in right direction\n\n        if (totalShiftDist > MIN_SWIPE_DISTANCE && (isFastLastFlick || _releaseAnimData.lastFlickOffset.x > 20)) {\n          // go to prev item\n          itemsDiff = -1;\n        } else if (totalShiftDist < -MIN_SWIPE_DISTANCE && (isFastLastFlick || _releaseAnimData.lastFlickOffset.x < -20)) {\n          // go to next item\n          itemsDiff = 1;\n        }\n      }\n\n      var nextCircle;\n\n      if (itemsDiff) {\n        _currentItemIndex += itemsDiff;\n\n        if (_currentItemIndex < 0) {\n          _currentItemIndex = _options.loop ? _getNumItems() - 1 : 0;\n          nextCircle = true;\n        } else if (_currentItemIndex >= _getNumItems()) {\n          _currentItemIndex = _options.loop ? 0 : _getNumItems() - 1;\n          nextCircle = true;\n        }\n\n        if (!nextCircle || _options.loop) {\n          _indexDiff += itemsDiff;\n          _currPositionIndex -= itemsDiff;\n          itemChanged = true;\n        }\n      }\n\n      var animateToX = _slideSize.x * _currPositionIndex;\n      var animateToDist = Math.abs(animateToX - _mainScrollPos.x);\n      var finishAnimDuration;\n\n      if (!itemChanged && animateToX > _mainScrollPos.x !== _releaseAnimData.lastFlickSpeed.x > 0) {\n        // \"return to current\" duration, e.g. when dragging from slide 0 to -1\n        finishAnimDuration = 333;\n      } else {\n        finishAnimDuration = Math.abs(_releaseAnimData.lastFlickSpeed.x) > 0 ? animateToDist / Math.abs(_releaseAnimData.lastFlickSpeed.x) : 333;\n        finishAnimDuration = Math.min(finishAnimDuration, 400);\n        finishAnimDuration = Math.max(finishAnimDuration, 250);\n      }\n\n      if (_currZoomedItemIndex === _currentItemIndex) {\n        itemChanged = false;\n      }\n\n      _mainScrollAnimating = true;\n\n      _shout('mainScrollAnimStart');\n\n      _animateProp('mainScroll', _mainScrollPos.x, animateToX, finishAnimDuration, framework.easing.cubic.out, _moveMainScroll, function () {\n        _stopAllAnimations();\n\n        _mainScrollAnimating = false;\n        _currZoomedItemIndex = -1;\n\n        if (itemChanged || _currZoomedItemIndex !== _currentItemIndex) {\n          self.updateCurrItem();\n        }\n\n        _shout('mainScrollAnimComplete');\n      });\n\n      if (itemChanged) {\n        self.updateCurrItem(true);\n      }\n\n      return itemChanged;\n    },\n        _calculateZoomLevel = function _calculateZoomLevel(touchesDistance) {\n      return 1 / _startPointsDistance * touchesDistance * _startZoomLevel;\n    },\n        // Resets zoom if it's out of bounds\n    _completeZoomGesture = function _completeZoomGesture() {\n      var destZoomLevel = _currZoomLevel,\n          minZoomLevel = _getMinZoomLevel(),\n          maxZoomLevel = _getMaxZoomLevel();\n\n      if (_currZoomLevel < minZoomLevel) {\n        destZoomLevel = minZoomLevel;\n      } else if (_currZoomLevel > maxZoomLevel) {\n        destZoomLevel = maxZoomLevel;\n      }\n\n      var destOpacity = 1,\n          onUpdate,\n          initialOpacity = _bgOpacity;\n\n      if (_opacityChanged && !_isZoomingIn && !_wasOverInitialZoom && _currZoomLevel < minZoomLevel) {\n        //_closedByScroll = true;\n        self.close();\n        return true;\n      }\n\n      if (_opacityChanged) {\n        onUpdate = function onUpdate(now) {\n          _applyBgOpacity((destOpacity - initialOpacity) * now + initialOpacity);\n        };\n      }\n\n      self.zoomTo(destZoomLevel, 0, 200, framework.easing.cubic.out, onUpdate);\n      return true;\n    };\n\n    _registerModule('Gestures', {\n      publicMethods: {\n        initGestures: function initGestures() {\n          // helper function that builds touch/pointer/mouse events\n          var addEventNames = function addEventNames(pref, down, move, up, cancel) {\n            _dragStartEvent = pref + down;\n            _dragMoveEvent = pref + move;\n            _dragEndEvent = pref + up;\n\n            if (cancel) {\n              _dragCancelEvent = pref + cancel;\n            } else {\n              _dragCancelEvent = '';\n            }\n          };\n\n          _pointerEventEnabled = _features.pointerEvent;\n\n          if (_pointerEventEnabled && _features.touch) {\n            // we don't need touch events, if browser supports pointer events\n            _features.touch = false;\n          }\n\n          if (_pointerEventEnabled) {\n            if (navigator.msPointerEnabled) {\n              // IE10 pointer events are case-sensitive\n              addEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n            } else {\n              addEventNames('pointer', 'down', 'move', 'up', 'cancel');\n            }\n          } else if (_features.touch) {\n            addEventNames('touch', 'start', 'move', 'end', 'cancel');\n            _likelyTouchDevice = true;\n          } else {\n            addEventNames('mouse', 'down', 'move', 'up');\n          }\n\n          _upMoveEvents = _dragMoveEvent + ' ' + _dragEndEvent + ' ' + _dragCancelEvent;\n          _downEvents = _dragStartEvent;\n\n          if (_pointerEventEnabled && !_likelyTouchDevice) {\n            _likelyTouchDevice = navigator.maxTouchPoints > 1 || navigator.msMaxTouchPoints > 1;\n          } // make variable public\n\n\n          self.likelyTouchDevice = _likelyTouchDevice;\n          _globalEventHandlers[_dragStartEvent] = _onDragStart;\n          _globalEventHandlers[_dragMoveEvent] = _onDragMove;\n          _globalEventHandlers[_dragEndEvent] = _onDragRelease; // the Kraken\n\n          if (_dragCancelEvent) {\n            _globalEventHandlers[_dragCancelEvent] = _globalEventHandlers[_dragEndEvent];\n          } // Bind mouse events on device with detected hardware touch support, in case it supports multiple types of input.\n\n\n          if (_features.touch) {\n            _downEvents += ' mousedown';\n            _upMoveEvents += ' mousemove mouseup';\n            _globalEventHandlers.mousedown = _globalEventHandlers[_dragStartEvent];\n            _globalEventHandlers.mousemove = _globalEventHandlers[_dragMoveEvent];\n            _globalEventHandlers.mouseup = _globalEventHandlers[_dragEndEvent];\n          }\n\n          if (!_likelyTouchDevice) {\n            // don't allow pan to next slide from zoomed state on Desktop\n            _options.allowPanToNext = false;\n          }\n        }\n      }\n    });\n    /*>>gestures*/\n\n    /*>>show-hide-transition*/\n\n    /**\n     * show-hide-transition.js:\n     *\n     * Manages initial opening or closing transition.\n     *\n     * If you're not planning to use transition for gallery at all,\n     * you may set options hideAnimationDuration and showAnimationDuration to 0,\n     * and just delete startAnimation function.\n     * \n     */\n\n\n    var _showOrHideTimeout,\n        _showOrHide = function _showOrHide(item, img, out, completeFn) {\n      if (_showOrHideTimeout) {\n        clearTimeout(_showOrHideTimeout);\n      }\n\n      _initialZoomRunning = true;\n      _initialContentSet = true; // dimensions of small thumbnail {x:,y:,w:}.\n      // Height is optional, as calculated based on large image.\n\n      var thumbBounds;\n\n      if (item.initialLayout) {\n        thumbBounds = item.initialLayout;\n        item.initialLayout = null;\n      } else {\n        thumbBounds = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n      }\n\n      var duration = out ? _options.hideAnimationDuration : _options.showAnimationDuration;\n\n      var onComplete = function onComplete() {\n        _stopAnimation('initialZoom');\n\n        if (!out) {\n          _applyBgOpacity(1);\n\n          if (img) {\n            img.style.display = 'block';\n          }\n\n          framework.addClass(template, 'pswp--animated-in');\n\n          _shout('initialZoom' + (out ? 'OutEnd' : 'InEnd'));\n        } else {\n          self.template.removeAttribute('style');\n          self.bg.removeAttribute('style');\n        }\n\n        if (completeFn) {\n          completeFn();\n        }\n\n        _initialZoomRunning = false;\n      }; // if bounds aren't provided, just open gallery without animation\n\n\n      if (!duration || !thumbBounds || thumbBounds.x === undefined) {\n        _shout('initialZoom' + (out ? 'Out' : 'In'));\n\n        _currZoomLevel = item.initialZoomLevel;\n\n        _equalizePoints(_panOffset, item.initialPosition);\n\n        _applyCurrentZoomPan();\n\n        template.style.opacity = out ? 0 : 1;\n\n        _applyBgOpacity(1);\n\n        if (duration) {\n          setTimeout(function () {\n            onComplete();\n          }, duration);\n        } else {\n          onComplete();\n        }\n\n        return;\n      }\n\n      var startAnimation = function startAnimation() {\n        var closeWithRaf = _closedByScroll,\n            fadeEverything = !self.currItem.src || self.currItem.loadError || _options.showHideOpacity; // apply hw-acceleration to image\n\n        if (item.miniImg) {\n          item.miniImg.style.webkitBackfaceVisibility = 'hidden';\n        }\n\n        if (!out) {\n          _currZoomLevel = thumbBounds.w / item.w;\n          _panOffset.x = thumbBounds.x;\n          _panOffset.y = thumbBounds.y - _initalWindowScrollY;\n          self[fadeEverything ? 'template' : 'bg'].style.opacity = 0.001;\n\n          _applyCurrentZoomPan();\n        }\n\n        _registerStartAnimation('initialZoom');\n\n        if (out && !closeWithRaf) {\n          framework.removeClass(template, 'pswp--animated-in');\n        }\n\n        if (fadeEverything) {\n          if (out) {\n            framework[(closeWithRaf ? 'remove' : 'add') + 'Class'](template, 'pswp--animate_opacity');\n          } else {\n            setTimeout(function () {\n              framework.addClass(template, 'pswp--animate_opacity');\n            }, 30);\n          }\n        }\n\n        _showOrHideTimeout = setTimeout(function () {\n          _shout('initialZoom' + (out ? 'Out' : 'In'));\n\n          if (!out) {\n            // \"in\" animation always uses CSS transitions (instead of rAF).\n            // CSS transition work faster here, \n            // as developer may also want to animate other things, \n            // like ui on top of sliding area, which can be animated just via CSS\n            _currZoomLevel = item.initialZoomLevel;\n\n            _equalizePoints(_panOffset, item.initialPosition);\n\n            _applyCurrentZoomPan();\n\n            _applyBgOpacity(1);\n\n            if (fadeEverything) {\n              template.style.opacity = 1;\n            } else {\n              _applyBgOpacity(1);\n            }\n\n            _showOrHideTimeout = setTimeout(onComplete, duration + 20);\n          } else {\n            // \"out\" animation uses rAF only when PhotoSwipe is closed by browser scroll, to recalculate position\n            var destZoomLevel = thumbBounds.w / item.w,\n                initialPanOffset = {\n              x: _panOffset.x,\n              y: _panOffset.y\n            },\n                initialZoomLevel = _currZoomLevel,\n                initalBgOpacity = _bgOpacity,\n                onUpdate = function onUpdate(now) {\n              if (now === 1) {\n                _currZoomLevel = destZoomLevel;\n                _panOffset.x = thumbBounds.x;\n                _panOffset.y = thumbBounds.y - _currentWindowScrollY;\n              } else {\n                _currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n                _panOffset.x = (thumbBounds.x - initialPanOffset.x) * now + initialPanOffset.x;\n                _panOffset.y = (thumbBounds.y - _currentWindowScrollY - initialPanOffset.y) * now + initialPanOffset.y;\n              }\n\n              _applyCurrentZoomPan();\n\n              if (fadeEverything) {\n                template.style.opacity = 1 - now;\n              } else {\n                _applyBgOpacity(initalBgOpacity - now * initalBgOpacity);\n              }\n            };\n\n            if (closeWithRaf) {\n              _animateProp('initialZoom', 0, 1, duration, framework.easing.cubic.out, onUpdate, onComplete);\n            } else {\n              onUpdate(1);\n              _showOrHideTimeout = setTimeout(onComplete, duration + 20);\n            }\n          }\n        }, out ? 25 : 90); // Main purpose of this delay is to give browser time to paint and\n        // create composite layers of PhotoSwipe UI parts (background, controls, caption, arrows).\n        // Which avoids lag at the beginning of scale transition.\n      };\n\n      startAnimation();\n    };\n    /*>>show-hide-transition*/\n\n    /*>>items-controller*/\n\n    /**\n    *\n    * Controller manages gallery items, their dimensions, and their content.\n    * \n    */\n\n\n    var _items,\n        _tempPanAreaSize = {},\n        _imagesToAppendPool = [],\n        _initialContentSet,\n        _initialZoomRunning,\n        _controllerDefaultOptions = {\n      index: 0,\n      errorMsg: '<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',\n      forceProgressiveLoading: false,\n      // TODO\n      preload: [1, 1],\n      getNumItemsFn: function getNumItemsFn() {\n        return _items.length;\n      }\n    };\n\n    var _getItemAt,\n        _getNumItems,\n        _initialIsLoop,\n        _getZeroBounds = function _getZeroBounds() {\n      return {\n        center: {\n          x: 0,\n          y: 0\n        },\n        max: {\n          x: 0,\n          y: 0\n        },\n        min: {\n          x: 0,\n          y: 0\n        }\n      };\n    },\n        _calculateSingleItemPanBounds = function _calculateSingleItemPanBounds(item, realPanElementW, realPanElementH) {\n      var bounds = item.bounds; // position of element when it's centered\n\n      bounds.center.x = Math.round((_tempPanAreaSize.x - realPanElementW) / 2);\n      bounds.center.y = Math.round((_tempPanAreaSize.y - realPanElementH) / 2) + item.vGap.top; // maximum pan position\n\n      bounds.max.x = realPanElementW > _tempPanAreaSize.x ? Math.round(_tempPanAreaSize.x - realPanElementW) : bounds.center.x;\n      bounds.max.y = realPanElementH > _tempPanAreaSize.y ? Math.round(_tempPanAreaSize.y - realPanElementH) + item.vGap.top : bounds.center.y; // minimum pan position\n\n      bounds.min.x = realPanElementW > _tempPanAreaSize.x ? 0 : bounds.center.x;\n      bounds.min.y = realPanElementH > _tempPanAreaSize.y ? item.vGap.top : bounds.center.y;\n    },\n        _calculateItemSize = function _calculateItemSize(item, viewportSize, zoomLevel) {\n      if (item.src && !item.loadError) {\n        var isInitial = !zoomLevel;\n\n        if (isInitial) {\n          if (!item.vGap) {\n            item.vGap = {\n              top: 0,\n              bottom: 0\n            };\n          } // allows overriding vertical margin for individual items\n\n\n          _shout('parseVerticalMargin', item);\n        }\n\n        _tempPanAreaSize.x = viewportSize.x;\n        _tempPanAreaSize.y = viewportSize.y - item.vGap.top - item.vGap.bottom;\n\n        if (isInitial) {\n          var hRatio = _tempPanAreaSize.x / item.w;\n          var vRatio = _tempPanAreaSize.y / item.h;\n          item.fitRatio = hRatio < vRatio ? hRatio : vRatio; //item.fillRatio = hRatio > vRatio ? hRatio : vRatio;\n\n          var scaleMode = _options.scaleMode;\n\n          if (scaleMode === 'orig') {\n            zoomLevel = 1;\n          } else if (scaleMode === 'fit') {\n            zoomLevel = item.fitRatio;\n          }\n\n          if (zoomLevel > 1) {\n            zoomLevel = 1;\n          }\n\n          item.initialZoomLevel = zoomLevel;\n\n          if (!item.bounds) {\n            // reuse bounds object\n            item.bounds = _getZeroBounds();\n          }\n        }\n\n        if (!zoomLevel) {\n          return;\n        }\n\n        _calculateSingleItemPanBounds(item, item.w * zoomLevel, item.h * zoomLevel);\n\n        if (isInitial && zoomLevel === item.initialZoomLevel) {\n          item.initialPosition = item.bounds.center;\n        }\n\n        return item.bounds;\n      } else {\n        item.w = item.h = 0;\n        item.initialZoomLevel = item.fitRatio = 1;\n        item.bounds = _getZeroBounds();\n        item.initialPosition = item.bounds.center; // if it's not image, we return zero bounds (content is not zoomable)\n\n        return item.bounds;\n      }\n    },\n        _appendImage = function _appendImage(index, item, baseDiv, img, preventAnimation, keepPlaceholder) {\n      if (item.loadError) {\n        return;\n      }\n\n      if (img) {\n        item.imageAppended = true;\n\n        _setImageSize(item, img, item === self.currItem && _renderMaxResolution);\n\n        baseDiv.appendChild(img);\n\n        if (keepPlaceholder) {\n          setTimeout(function () {\n            if (item && item.loaded && item.placeholder) {\n              item.placeholder.style.display = 'none';\n              item.placeholder = null;\n            }\n          }, 500);\n        }\n      }\n    },\n        _preloadImage = function _preloadImage(item) {\n      item.loading = true;\n      item.loaded = false;\n      var img = item.img = framework.createEl('pswp__img', 'img');\n\n      var onComplete = function onComplete() {\n        item.loading = false;\n        item.loaded = true;\n\n        if (item.loadComplete) {\n          item.loadComplete(item);\n        } else {\n          item.img = null; // no need to store image object\n        }\n\n        img.onload = img.onerror = null;\n        img = null;\n      };\n\n      img.onload = onComplete;\n\n      img.onerror = function () {\n        item.loadError = true;\n        onComplete();\n      };\n\n      img.src = item.src; // + '?a=' + Math.random();\n\n      return img;\n    },\n        _checkForError = function _checkForError(item, cleanUp) {\n      if (item.src && item.loadError && item.container) {\n        if (cleanUp) {\n          item.container.innerHTML = '';\n        }\n\n        item.container.innerHTML = _options.errorMsg.replace('%url%', item.src);\n        return true;\n      }\n    },\n        _setImageSize = function _setImageSize(item, img, maxRes) {\n      if (!item.src) {\n        return;\n      }\n\n      if (!img) {\n        img = item.container.lastChild;\n      }\n\n      var w = maxRes ? item.w : Math.round(item.w * item.fitRatio),\n          h = maxRes ? item.h : Math.round(item.h * item.fitRatio);\n\n      if (item.placeholder && !item.loaded) {\n        item.placeholder.style.width = w + 'px';\n        item.placeholder.style.height = h + 'px';\n      }\n\n      img.style.width = w + 'px';\n      img.style.height = h + 'px';\n    },\n        _appendImagesPool = function _appendImagesPool() {\n      if (_imagesToAppendPool.length) {\n        var poolItem;\n\n        for (var i = 0; i < _imagesToAppendPool.length; i++) {\n          poolItem = _imagesToAppendPool[i];\n\n          if (poolItem.holder.index === poolItem.index) {\n            _appendImage(poolItem.index, poolItem.item, poolItem.baseDiv, poolItem.img, false, poolItem.clearPlaceholder);\n          }\n        }\n\n        _imagesToAppendPool = [];\n      }\n    };\n\n    _registerModule('Controller', {\n      publicMethods: {\n        lazyLoadItem: function lazyLoadItem(index) {\n          index = _getLoopedId(index);\n\n          var item = _getItemAt(index);\n\n          if (!item || (item.loaded || item.loading) && !_itemsNeedUpdate) {\n            return;\n          }\n\n          _shout('gettingData', index, item);\n\n          if (!item.src) {\n            return;\n          }\n\n          _preloadImage(item);\n        },\n        initController: function initController() {\n          framework.extend(_options, _controllerDefaultOptions, true);\n          self.items = _items = items;\n          _getItemAt = self.getItemAt;\n          _getNumItems = _options.getNumItemsFn; //self.getNumItems;\n\n          _initialIsLoop = _options.loop;\n\n          if (_getNumItems() < 3) {\n            _options.loop = false; // disable loop if less then 3 items\n          }\n\n          _listen('beforeChange', function (diff) {\n            var p = _options.preload,\n                isNext = diff === null ? true : diff >= 0,\n                preloadBefore = Math.min(p[0], _getNumItems()),\n                preloadAfter = Math.min(p[1], _getNumItems()),\n                i;\n\n            for (i = 1; i <= (isNext ? preloadAfter : preloadBefore); i++) {\n              self.lazyLoadItem(_currentItemIndex + i);\n            }\n\n            for (i = 1; i <= (isNext ? preloadBefore : preloadAfter); i++) {\n              self.lazyLoadItem(_currentItemIndex - i);\n            }\n          });\n\n          _listen('initialLayout', function () {\n            self.currItem.initialLayout = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n          });\n\n          _listen('mainScrollAnimComplete', _appendImagesPool);\n\n          _listen('initialZoomInEnd', _appendImagesPool);\n\n          _listen('destroy', function () {\n            var item;\n\n            for (var i = 0; i < _items.length; i++) {\n              item = _items[i]; // remove reference to DOM elements, for GC\n\n              if (item.container) {\n                item.container = null;\n              }\n\n              if (item.placeholder) {\n                item.placeholder = null;\n              }\n\n              if (item.img) {\n                item.img = null;\n              }\n\n              if (item.preloader) {\n                item.preloader = null;\n              }\n\n              if (item.loadError) {\n                item.loaded = item.loadError = false;\n              }\n            }\n\n            _imagesToAppendPool = null;\n          });\n        },\n        getItemAt: function getItemAt(index) {\n          if (index >= 0) {\n            return _items[index] !== undefined ? _items[index] : false;\n          }\n\n          return false;\n        },\n        allowProgressiveImg: function allowProgressiveImg() {\n          // 1. Progressive image loading isn't working on webkit/blink \n          //    when hw-acceleration (e.g. translateZ) is applied to IMG element.\n          //    That's why in PhotoSwipe parent element gets zoom transform, not image itself.\n          //    \n          // 2. Progressive image loading sometimes blinks in webkit/blink when applying animation to parent element.\n          //    That's why it's disabled on touch devices (mainly because of swipe transition)\n          //    \n          // 3. Progressive image loading sometimes doesn't work in IE (up to 11).\n          // Don't allow progressive loading on non-large touch devices\n          return _options.forceProgressiveLoading || !_likelyTouchDevice || _options.mouseUsed || screen.width > 1200; // 1200 - to eliminate touch devices with large screen (like Chromebook Pixel)\n        },\n        setContent: function setContent(holder, index) {\n          if (_options.loop) {\n            index = _getLoopedId(index);\n          }\n\n          var prevItem = self.getItemAt(holder.index);\n\n          if (prevItem) {\n            prevItem.container = null;\n          }\n\n          var item = self.getItemAt(index),\n              img;\n\n          if (!item) {\n            holder.el.innerHTML = '';\n            return;\n          } // allow to override data\n\n\n          _shout('gettingData', index, item);\n\n          holder.index = index;\n          holder.item = item; // base container DIV is created only once for each of 3 holders\n\n          var baseDiv = item.container = framework.createEl('pswp__zoom-wrap');\n\n          if (!item.src && item.html) {\n            if (item.html.tagName) {\n              baseDiv.appendChild(item.html);\n            } else {\n              baseDiv.innerHTML = item.html;\n            }\n          }\n\n          _checkForError(item);\n\n          _calculateItemSize(item, _viewportSize);\n\n          if (item.src && !item.loadError && !item.loaded) {\n            item.loadComplete = function (item) {\n              // gallery closed before image finished loading\n              if (!_isOpen) {\n                return;\n              } // check if holder hasn't changed while image was loading\n\n\n              if (holder && holder.index === index) {\n                if (_checkForError(item, true)) {\n                  item.loadComplete = item.img = null;\n\n                  _calculateItemSize(item, _viewportSize);\n\n                  _applyZoomPanToItem(item);\n\n                  if (holder.index === _currentItemIndex) {\n                    // recalculate dimensions\n                    self.updateCurrZoomItem();\n                  }\n\n                  return;\n                }\n\n                if (!item.imageAppended) {\n                  if (_features.transform && (_mainScrollAnimating || _initialZoomRunning)) {\n                    _imagesToAppendPool.push({\n                      item: item,\n                      baseDiv: baseDiv,\n                      img: item.img,\n                      index: index,\n                      holder: holder,\n                      clearPlaceholder: true\n                    });\n                  } else {\n                    _appendImage(index, item, baseDiv, item.img, _mainScrollAnimating || _initialZoomRunning, true);\n                  }\n                } else {\n                  // remove preloader & mini-img\n                  if (!_initialZoomRunning && item.placeholder) {\n                    item.placeholder.style.display = 'none';\n                    item.placeholder = null;\n                  }\n                }\n              }\n\n              item.loadComplete = null;\n              item.img = null; // no need to store image element after it's added\n\n              _shout('imageLoadComplete', index, item);\n            };\n\n            if (framework.features.transform) {\n              var placeholderClassName = 'pswp__img pswp__img--placeholder';\n              placeholderClassName += item.msrc ? '' : ' pswp__img--placeholder--blank';\n              var placeholder = framework.createEl(placeholderClassName, item.msrc ? 'img' : '');\n\n              if (item.msrc) {\n                placeholder.src = item.msrc;\n              }\n\n              _setImageSize(item, placeholder);\n\n              baseDiv.appendChild(placeholder);\n              item.placeholder = placeholder;\n            }\n\n            if (!item.loading) {\n              _preloadImage(item);\n            }\n\n            if (self.allowProgressiveImg()) {\n              // just append image\n              if (!_initialContentSet && _features.transform) {\n                _imagesToAppendPool.push({\n                  item: item,\n                  baseDiv: baseDiv,\n                  img: item.img,\n                  index: index,\n                  holder: holder\n                });\n              } else {\n                _appendImage(index, item, baseDiv, item.img, true, true);\n              }\n            }\n          } else if (item.src && !item.loadError) {\n            // image object is created every time, due to bugs of image loading & delay when switching images\n            img = framework.createEl('pswp__img', 'img');\n            img.style.opacity = 1;\n            img.src = item.src;\n\n            _setImageSize(item, img);\n\n            _appendImage(index, item, baseDiv, img, true);\n          }\n\n          if (!_initialContentSet && index === _currentItemIndex) {\n            _currZoomElementStyle = baseDiv.style;\n\n            _showOrHide(item, img || item.img);\n          } else {\n            _applyZoomPanToItem(item);\n          }\n\n          holder.el.innerHTML = '';\n          holder.el.appendChild(baseDiv);\n        },\n        cleanSlide: function cleanSlide(item) {\n          if (item.img) {\n            item.img.onload = item.img.onerror = null;\n          }\n\n          item.loaded = item.loading = item.img = item.imageAppended = false;\n        }\n      }\n    });\n    /*>>items-controller*/\n\n    /*>>tap*/\n\n    /**\n     * tap.js:\n     *\n     * Displatches tap and double-tap events.\n     * \n     */\n\n\n    var tapTimer,\n        tapReleasePoint = {},\n        _dispatchTapEvent = function _dispatchTapEvent(origEvent, releasePoint, pointerType) {\n      var e = document.createEvent('CustomEvent'),\n          eDetail = {\n        origEvent: origEvent,\n        target: origEvent.target,\n        releasePoint: releasePoint,\n        pointerType: pointerType || 'touch'\n      };\n      e.initCustomEvent('pswpTap', true, true, eDetail);\n      origEvent.target.dispatchEvent(e);\n    };\n\n    _registerModule('Tap', {\n      publicMethods: {\n        initTap: function initTap() {\n          _listen('firstTouchStart', self.onTapStart);\n\n          _listen('touchRelease', self.onTapRelease);\n\n          _listen('destroy', function () {\n            tapReleasePoint = {};\n            tapTimer = null;\n          });\n        },\n        onTapStart: function onTapStart(touchList) {\n          if (touchList.length > 1) {\n            clearTimeout(tapTimer);\n            tapTimer = null;\n          }\n        },\n        onTapRelease: function onTapRelease(e, releasePoint) {\n          if (!releasePoint) {\n            return;\n          }\n\n          if (!_moved && !_isMultitouch && !_numAnimations) {\n            var p0 = releasePoint;\n\n            if (tapTimer) {\n              clearTimeout(tapTimer);\n              tapTimer = null; // Check if taped on the same place\n\n              if (_isNearbyPoints(p0, tapReleasePoint)) {\n                _shout('doubleTap', p0);\n\n                return;\n              }\n            }\n\n            if (releasePoint.type === 'mouse') {\n              _dispatchTapEvent(e, releasePoint, 'mouse');\n\n              return;\n            }\n\n            var clickedTagName = e.target.tagName.toUpperCase(); // avoid double tap delay on buttons and elements that have class pswp__single-tap\n\n            if (clickedTagName === 'BUTTON' || framework.hasClass(e.target, 'pswp__single-tap')) {\n              _dispatchTapEvent(e, releasePoint);\n\n              return;\n            }\n\n            _equalizePoints(tapReleasePoint, p0);\n\n            tapTimer = setTimeout(function () {\n              _dispatchTapEvent(e, releasePoint);\n\n              tapTimer = null;\n            }, 300);\n          }\n        }\n      }\n    });\n    /*>>tap*/\n\n    /*>>desktop-zoom*/\n\n    /**\n     *\n     * desktop-zoom.js:\n     *\n     * - Binds mousewheel event for paning zoomed image.\n     * - Manages \"dragging\", \"zoomed-in\", \"zoom-out\" classes.\n     *   (which are used for cursors and zoom icon)\n     * - Adds toggleDesktopZoom function.\n     * \n     */\n\n\n    var _wheelDelta;\n\n    _registerModule('DesktopZoom', {\n      publicMethods: {\n        initDesktopZoom: function initDesktopZoom() {\n          if (_oldIE) {\n            // no zoom for old IE (<=8)\n            return;\n          }\n\n          if (_likelyTouchDevice) {\n            // if detected hardware touch support, we wait until mouse is used,\n            // and only then apply desktop-zoom features\n            _listen('mouseUsed', function () {\n              self.setupDesktopZoom();\n            });\n          } else {\n            self.setupDesktopZoom(true);\n          }\n        },\n        setupDesktopZoom: function setupDesktopZoom(onInit) {\n          _wheelDelta = {};\n          var events = 'wheel mousewheel DOMMouseScroll';\n\n          _listen('bindEvents', function () {\n            framework.bind(template, events, self.handleMouseWheel);\n          });\n\n          _listen('unbindEvents', function () {\n            if (_wheelDelta) {\n              framework.unbind(template, events, self.handleMouseWheel);\n            }\n          });\n\n          self.mouseZoomedIn = false;\n\n          var hasDraggingClass,\n              updateZoomable = function updateZoomable() {\n            if (self.mouseZoomedIn) {\n              framework.removeClass(template, 'pswp--zoomed-in');\n              self.mouseZoomedIn = false;\n            }\n\n            if (_currZoomLevel < 1) {\n              framework.addClass(template, 'pswp--zoom-allowed');\n            } else {\n              framework.removeClass(template, 'pswp--zoom-allowed');\n            }\n\n            removeDraggingClass();\n          },\n              removeDraggingClass = function removeDraggingClass() {\n            if (hasDraggingClass) {\n              framework.removeClass(template, 'pswp--dragging');\n              hasDraggingClass = false;\n            }\n          };\n\n          _listen('resize', updateZoomable);\n\n          _listen('afterChange', updateZoomable);\n\n          _listen('pointerDown', function () {\n            if (self.mouseZoomedIn) {\n              hasDraggingClass = true;\n              framework.addClass(template, 'pswp--dragging');\n            }\n          });\n\n          _listen('pointerUp', removeDraggingClass);\n\n          if (!onInit) {\n            updateZoomable();\n          }\n        },\n        handleMouseWheel: function handleMouseWheel(e) {\n          if (_currZoomLevel <= self.currItem.fitRatio) {\n            if (_options.modal) {\n              if (!_options.closeOnScroll || _numAnimations || _isDragging) {\n                e.preventDefault();\n              } else if (_transformKey && Math.abs(e.deltaY) > 2) {\n                // close PhotoSwipe\n                // if browser supports transforms & scroll changed enough\n                _closedByScroll = true;\n                self.close();\n              }\n            }\n\n            return true;\n          } // allow just one event to fire\n\n\n          e.stopPropagation(); // https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n\n          _wheelDelta.x = 0;\n\n          if ('deltaX' in e) {\n            if (e.deltaMode === 1\n            /* DOM_DELTA_LINE */\n            ) {\n                // 18 - average line height\n                _wheelDelta.x = e.deltaX * 18;\n                _wheelDelta.y = e.deltaY * 18;\n              } else {\n              _wheelDelta.x = e.deltaX;\n              _wheelDelta.y = e.deltaY;\n            }\n          } else if ('wheelDelta' in e) {\n            if (e.wheelDeltaX) {\n              _wheelDelta.x = -0.16 * e.wheelDeltaX;\n            }\n\n            if (e.wheelDeltaY) {\n              _wheelDelta.y = -0.16 * e.wheelDeltaY;\n            } else {\n              _wheelDelta.y = -0.16 * e.wheelDelta;\n            }\n          } else if ('detail' in e) {\n            _wheelDelta.y = e.detail;\n          } else {\n            return;\n          }\n\n          _calculatePanBounds(_currZoomLevel, true);\n\n          var newPanX = _panOffset.x - _wheelDelta.x,\n              newPanY = _panOffset.y - _wheelDelta.y; // only prevent scrolling in nonmodal mode when not at edges\n\n          if (_options.modal || newPanX <= _currPanBounds.min.x && newPanX >= _currPanBounds.max.x && newPanY <= _currPanBounds.min.y && newPanY >= _currPanBounds.max.y) {\n            e.preventDefault();\n          } // TODO: use rAF instead of mousewheel?\n\n\n          self.panTo(newPanX, newPanY);\n        },\n        toggleDesktopZoom: function toggleDesktopZoom(centerPoint) {\n          centerPoint = centerPoint || {\n            x: _viewportSize.x / 2 + _offset.x,\n            y: _viewportSize.y / 2 + _offset.y\n          };\n\n          var doubleTapZoomLevel = _options.getDoubleTapZoom(true, self.currItem);\n\n          var zoomOut = _currZoomLevel === doubleTapZoomLevel;\n          self.mouseZoomedIn = !zoomOut;\n          self.zoomTo(zoomOut ? self.currItem.initialZoomLevel : doubleTapZoomLevel, centerPoint, 333);\n          framework[(!zoomOut ? 'add' : 'remove') + 'Class'](template, 'pswp--zoomed-in');\n        }\n      }\n    });\n    /*>>desktop-zoom*/\n\n    /*>>history*/\n\n    /**\n     *\n     * history.js:\n     *\n     * - Back button to close gallery.\n     * \n     * - Unique URL for each slide: example.com/&pid=1&gid=3\n     *   (where PID is picture index, and GID and gallery index)\n     *   \n     * - Switch URL when slides change.\n     * \n     */\n\n\n    var _historyDefaultOptions = {\n      history: true,\n      galleryUID: 1\n    };\n\n    var _historyUpdateTimeout,\n        _hashChangeTimeout,\n        _hashAnimCheckTimeout,\n        _hashChangedByScript,\n        _hashChangedByHistory,\n        _hashReseted,\n        _initialHash,\n        _historyChanged,\n        _closedFromURL,\n        _urlChangedOnce,\n        _windowLoc,\n        _supportsPushState,\n        _getHash = function _getHash() {\n      return _windowLoc.hash.substring(1);\n    },\n        _cleanHistoryTimeouts = function _cleanHistoryTimeouts() {\n      if (_historyUpdateTimeout) {\n        clearTimeout(_historyUpdateTimeout);\n      }\n\n      if (_hashAnimCheckTimeout) {\n        clearTimeout(_hashAnimCheckTimeout);\n      }\n    },\n        // pid - Picture index\n    // gid - Gallery index\n    _parseItemIndexFromURL = function _parseItemIndexFromURL() {\n      var hash = _getHash(),\n          params = {};\n\n      if (hash.length < 5) {\n        // pid=1\n        return params;\n      }\n\n      var i,\n          vars = hash.split('&');\n\n      for (i = 0; i < vars.length; i++) {\n        if (!vars[i]) {\n          continue;\n        }\n\n        var pair = vars[i].split('=');\n\n        if (pair.length < 2) {\n          continue;\n        }\n\n        params[pair[0]] = pair[1];\n      }\n\n      if (_options.galleryPIDs) {\n        // detect custom pid in hash and search for it among the items collection\n        var searchfor = params.pid;\n        params.pid = 0; // if custom pid cannot be found, fallback to the first item\n\n        for (i = 0; i < _items.length; i++) {\n          if (_items[i].pid === searchfor) {\n            params.pid = i;\n            break;\n          }\n        }\n      } else {\n        params.pid = parseInt(params.pid, 10) - 1;\n      }\n\n      if (params.pid < 0) {\n        params.pid = 0;\n      }\n\n      return params;\n    },\n        _updateHash = function _updateHash() {\n      if (_hashAnimCheckTimeout) {\n        clearTimeout(_hashAnimCheckTimeout);\n      }\n\n      if (_numAnimations || _isDragging) {\n        // changing browser URL forces layout/paint in some browsers, which causes noticable lag during animation\n        // that's why we update hash only when no animations running\n        _hashAnimCheckTimeout = setTimeout(_updateHash, 500);\n        return;\n      }\n\n      if (_hashChangedByScript) {\n        clearTimeout(_hashChangeTimeout);\n      } else {\n        _hashChangedByScript = true;\n      }\n\n      var pid = _currentItemIndex + 1;\n\n      var item = _getItemAt(_currentItemIndex);\n\n      if (item.hasOwnProperty('pid')) {\n        // carry forward any custom pid assigned to the item\n        pid = item.pid;\n      }\n\n      var newHash = _initialHash + '&' + 'gid=' + _options.galleryUID + '&' + 'pid=' + pid;\n\n      if (!_historyChanged) {\n        if (_windowLoc.hash.indexOf(newHash) === -1) {\n          _urlChangedOnce = true;\n        } // first time - add new hisory record, then just replace\n\n      }\n\n      var newURL = _windowLoc.href.split('#')[0] + '#' + newHash;\n\n      if (_supportsPushState) {\n        if ('#' + newHash !== window.location.hash) {\n          history[_historyChanged ? 'replaceState' : 'pushState']('', document.title, newURL);\n        }\n      } else {\n        if (_historyChanged) {\n          _windowLoc.replace(newURL);\n        } else {\n          _windowLoc.hash = newHash;\n        }\n      }\n\n      _historyChanged = true;\n      _hashChangeTimeout = setTimeout(function () {\n        _hashChangedByScript = false;\n      }, 60);\n    };\n\n    _registerModule('History', {\n      publicMethods: {\n        initHistory: function initHistory() {\n          framework.extend(_options, _historyDefaultOptions, true);\n\n          if (!_options.history) {\n            return;\n          }\n\n          _windowLoc = window.location;\n          _urlChangedOnce = false;\n          _closedFromURL = false;\n          _historyChanged = false;\n          _initialHash = _getHash();\n          _supportsPushState = 'pushState' in history;\n\n          if (_initialHash.indexOf('gid=') > -1) {\n            _initialHash = _initialHash.split('&gid=')[0];\n            _initialHash = _initialHash.split('?gid=')[0];\n          }\n\n          _listen('afterChange', self.updateURL);\n\n          _listen('unbindEvents', function () {\n            framework.unbind(window, 'hashchange', self.onHashChange);\n          });\n\n          var returnToOriginal = function returnToOriginal() {\n            _hashReseted = true;\n\n            if (!_closedFromURL) {\n              if (_urlChangedOnce) {\n                history.back();\n              } else {\n                if (_initialHash) {\n                  _windowLoc.hash = _initialHash;\n                } else {\n                  if (_supportsPushState) {\n                    // remove hash from url without refreshing it or scrolling to top\n                    history.pushState('', document.title, _windowLoc.pathname + _windowLoc.search);\n                  } else {\n                    _windowLoc.hash = '';\n                  }\n                }\n              }\n            }\n\n            _cleanHistoryTimeouts();\n          };\n\n          _listen('unbindEvents', function () {\n            if (_closedByScroll) {\n              // if PhotoSwipe is closed by scroll, we go \"back\" before the closing animation starts\n              // this is done to keep the scroll position\n              returnToOriginal();\n            }\n          });\n\n          _listen('destroy', function () {\n            if (!_hashReseted) {\n              returnToOriginal();\n            }\n          });\n\n          _listen('firstUpdate', function () {\n            _currentItemIndex = _parseItemIndexFromURL().pid;\n          });\n\n          var index = _initialHash.indexOf('pid=');\n\n          if (index > -1) {\n            _initialHash = _initialHash.substring(0, index);\n\n            if (_initialHash.slice(-1) === '&') {\n              _initialHash = _initialHash.slice(0, -1);\n            }\n          }\n\n          setTimeout(function () {\n            if (_isOpen) {\n              // hasn't destroyed yet\n              framework.bind(window, 'hashchange', self.onHashChange);\n            }\n          }, 40);\n        },\n        onHashChange: function onHashChange() {\n          if (_getHash() === _initialHash) {\n            _closedFromURL = true;\n            self.close();\n            return;\n          }\n\n          if (!_hashChangedByScript) {\n            _hashChangedByHistory = true;\n            self.goTo(_parseItemIndexFromURL().pid);\n            _hashChangedByHistory = false;\n          }\n        },\n        updateURL: function updateURL() {\n          // Delay the update of URL, to avoid lag during transition, \n          // and to not to trigger actions like \"refresh page sound\" or \"blinking favicon\" to often\n          _cleanHistoryTimeouts();\n\n          if (_hashChangedByHistory) {\n            return;\n          }\n\n          if (!_historyChanged) {\n            _updateHash(); // first time\n\n          } else {\n            _historyUpdateTimeout = setTimeout(_updateHash, 800);\n          }\n        }\n      }\n    });\n    /*>>history*/\n\n\n    framework.extend(self, publicMethods);\n  };\n\n  return PhotoSwipe;\n});\n\n/***/ })\n\n}]);","inputSourceMap":null}