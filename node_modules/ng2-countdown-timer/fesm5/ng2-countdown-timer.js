import { Component, Input, Output, EventEmitter, NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/common';

function CountdownComponent_div_1_span_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 5);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r3 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r3.divider, " ");
} }
function CountdownComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "p", 2);
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(3, CountdownComponent_div_1_span_3_Template, 2, 1, "span", 3);
    ɵngcc0.ɵɵelementStart(4, "p", 4);
    ɵngcc0.ɵɵtext(5);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var time_r1 = ctx.$implicit;
    var i_r2 = ctx.index;
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassMapInterpolate1("measurements ", time_r1, "");
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r0.showZero && ctx_r0.displayNumbers[i_r2] < 10 ? "0" + ctx_r0.displayNumbers[i_r2].trim() : ctx_r0.displayNumbers[i_r2], " ");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.display[i_r2 + 1]);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", time_r1, " ");
} }
var _c0 = ["*"];
var CountdownComponent = /** @class */ (function () {
    function CountdownComponent() {
        var _this = this;
        this.displayString = '';
        this.showZero = false;
        this.reached = new EventEmitter();
        this.display = [];
        this.displayNumbers = [];
        this.wasReached = false;
        setInterval(function () { return _this._displayString(); }, 100);
    }
    /**
     * @return {?}
     */
    CountdownComponent.prototype._displayString = /**
     * @return {?}
     */
    function () {
        if (this.wasReached)
            return;
        if (typeof this.units === 'string') {
            this.units = this.units.split('|');
        }
        /** @type {?} */
        var givenDate = new Date(this.end);
        /** @type {?} */
        var now = new Date();
        /** @type {?} */
        var dateDifference = givenDate - now;
        if ((dateDifference < 100 && dateDifference > 0) || dateDifference < 0 && !this.wasReached) {
            this.wasReached = true;
            this.reached.next(now);
        }
        /** @type {?} */
        var lastUnit = this.units[this.units.length - 1];
        /** @type {?} */
        var unitConstantForMillisecs = {
            year: (((1000 * 60 * 60 * 24 * 7) * 4) * 12),
            month: ((1000 * 60 * 60 * 24 * 7) * 4),
            weeks: (1000 * 60 * 60 * 24 * 7),
            days: (1000 * 60 * 60 * 24),
            hours: (1000 * 60 * 60),
            minutes: (1000 * 60),
            seconds: 1000
        };
        /** @type {?} */
        var unitsLeft = {};
        /** @type {?} */
        var returnText = '';
        /** @type {?} */
        var returnNumbers = '';
        /** @type {?} */
        var totalMillisecsLeft = dateDifference;
        /** @type {?} */
        var i;
        /** @type {?} */
        var unit;
        for (i in this.units) {
            if (this.units.hasOwnProperty(i)) {
                unit = this.units[i].trim();
                if (unitConstantForMillisecs[unit.toLowerCase()] === false) {
                    //$interval.cancel(countDownInterval);
                    throw new Error('Cannot repeat unit: ' + unit);
                }
                if (unitConstantForMillisecs.hasOwnProperty(unit.toLowerCase()) === false) {
                    throw new Error('Unit: ' + unit + ' is not supported. Please use following units: year, month, weeks, days, hours, minutes, seconds, milliseconds');
                }
                // If it was reached, everything is zero
                unitsLeft[unit] = (this.wasReached) ? 0 : totalMillisecsLeft / unitConstantForMillisecs[unit.toLowerCase()];
                if (lastUnit === unit) {
                    unitsLeft[unit] = Math.ceil(unitsLeft[unit]);
                }
                else {
                    unitsLeft[unit] = Math.floor(unitsLeft[unit]);
                }
                totalMillisecsLeft -= unitsLeft[unit] * unitConstantForMillisecs[unit.toLowerCase()];
                unitConstantForMillisecs[unit.toLowerCase()] = false;
                // If it's less than 0, round to 0
                unitsLeft[unit] = (unitsLeft[unit] > 0) ? unitsLeft[unit] : 0;
                returnNumbers += ' ' + unitsLeft[unit] + ' | ';
                returnText += ' ' + unit;
            }
        }
        if (this.text === null || !this.text) {
            this.text = {
                Year: 'Year',
                Month: 'Month',
                Weeks: 'Weeks',
                Days: 'Days',
                Hours: 'Hours',
                Minutes: 'Minutes',
                Seconds: 'Seconds',
                MilliSeconds: 'Milliseconds'
            };
        }
        this.displayString = returnText
            .replace('Year', this.text.Year + ' | ')
            .replace('Month', this.text.Month + ' | ')
            .replace('Weeks', this.text.Weeks + ' | ')
            .replace('Days', this.text.Days + ' | ')
            .replace('Hours', this.text.Hours + ' | ')
            .replace('Minutes', this.text.Minutes + ' | ')
            .replace('Seconds', this.text.Seconds);
        this.displayNumbers = returnNumbers.split('|');
        this.display = this.displayString.split('|');
    };
    /** @nocollapse */
    CountdownComponent.ctorParameters = function () { return []; };
    CountdownComponent.propDecorators = {
        units: [{ type: Input }],
        end: [{ type: Input }],
        displayString: [{ type: Input }],
        text: [{ type: Input }],
        divider: [{ type: Input }],
        showZero: [{ type: Input }],
        reached: [{ type: Output }]
    };
CountdownComponent.ɵfac = function CountdownComponent_Factory(t) { return new (t || CountdownComponent)(); };
CountdownComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: CountdownComponent, selectors: [["countdown"]], inputs: { displayString: "displayString", showZero: "showZero", units: "units", text: "text", end: "end", divider: "divider" }, outputs: { reached: "reached" }, ngContentSelectors: _c0, decls: 3, vars: 1, consts: [[1, "countdown"], [3, "class", 4, "ngFor", "ngForOf"], [1, "measurements-number"], ["class", "divider", 4, "ngIf"], [1, "measurements-text"], [1, "divider"]], template: function CountdownComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef();
        ɵngcc0.ɵɵelementStart(0, "div", 0);
        ɵngcc0.ɵɵtemplate(1, CountdownComponent_div_1_Template, 6, 6, "div", 1);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵprojection(2);
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.display);
    } }, directives: [ɵngcc1.NgForOf, ɵngcc1.NgIf], styles: [".countdown[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;align-content:center;font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif}.countdown[_ngcontent-%COMP%]   .measurements[_ngcontent-%COMP%]{flex:.1}.countdown[_ngcontent-%COMP%]   .measurements[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{float:right}"] });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CountdownComponent, [{
        type: Component,
        args: [{
                selector: 'countdown',
                template: "<div class=\"countdown\">\n  <div *ngFor=\"let time of display; let i = index\" class=\"measurements {{time}}\">\n    <p class=\"measurements-number\">\n      {{ (showZero && displayNumbers[i] < 10) ? '0' + displayNumbers[i].trim() : displayNumbers[i]}}\n    </p>\n    <span *ngIf=\"display[i+1]\" class=\"divider\"> {{divider}} </span>\n    <p class=\"measurements-text\">\n      {{time}}\n    </p>\n  </div>\n</div>\n<ng-content></ng-content>",
                styles: [".countdown{display:flex;align-items:center;justify-content:center;align-content:center;font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif}.countdown .measurements{flex:.1}.countdown .measurements .divider{float:right}"]
            }]
    }], function () { return []; }, { displayString: [{
            type: Input
        }], showZero: [{
            type: Input
        }], reached: [{
            type: Output
        }], units: [{
            type: Input
        }], text: [{
            type: Input
        }], end: [{
            type: Input
        }], divider: [{
            type: Input
        }] }); })();
    return CountdownComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var CountdownModule = /** @class */ (function () {
    function CountdownModule() {
    }
CountdownModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: CountdownModule });
CountdownModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function CountdownModule_Factory(t) { return new (t || CountdownModule)(); }, imports: [[CommonModule]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(CountdownModule, { declarations: function () { return [CountdownComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [CountdownComponent]; } }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CountdownModule, [{
        type: NgModule,
        args: [{
                imports: [CommonModule],
                declarations: [
                    CountdownComponent
                ],
                exports: [
                    CountdownComponent,
                ]
            }]
    }], function () { return []; }, null); })();
    return CountdownModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

export { CountdownComponent, CountdownModule };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmcyLWNvdW50ZG93bi10aW1lci5qcyIsInNvdXJjZXMiOlsibmcyLWNvdW50ZG93bi10aW1lci9saWIvY291bnRkb3duL2NvdW50ZG93bi5jb21wb25lbnQudHMiLCJuZzItY291bnRkb3duLXRpbWVyL2xpYi9jb3VudGRvd24ubW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQXVELElBK0JyRDtBQUNjLFFBRGQsaUJBRUM7QUFDSCw2QkFabUMsRUFBRTtBQUNyQyx3QkFFK0IsS0FBSztBQUNwQyx1QkFBMEMsSUFBSSxZQUFZLEVBQUU7QUFDNUQsdUJBQWlCLEVBQUU7QUFDbkIsOEJBQXdCLEVBQUU7QUFDMUIsMEJBQXdCLEtBQUs7QUFDN0IsUUFFSSxXQUFXLENBQUMsY0FBTSxPQUFBLEtBQUksQ0FBQyxjQUFjLEVBQUUsR0FBQSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ2xELEtBQUc7QUFDSDtBQUNPO0FBQ0Y7QUFBUyxJQURaLDJDQUFjO0FBQ2Q7QUFBb0I7QUFDakIsSUFGSDtBQUFlLFFBQ2IsSUFBSSxJQUFJLENBQUMsVUFBVTtBQUN2QixZQUFNLE9BQU87QUFDYixRQUNJLElBQUksT0FBTyxJQUFJLENBQUMsS0FBSyxLQUFLLFFBQVEsRUFBRTtBQUN4QyxZQUFNLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekMsU0FBSztBQUNMO0FBQ3dCLFFBQXBCLElBQUksU0FBUyxHQUFRLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM1QztBQUEwQixRQUF0QixJQUFJLEdBQUcsR0FBUSxJQUFJLElBQUksRUFBRSxDQUFDO0FBQzlCO0FBQTBCLFFBQXRCLElBQUksY0FBYyxHQUFRLFNBQVMsR0FBRyxHQUFHLENBQUM7QUFDOUMsUUFDSSxJQUFJLENBQUMsY0FBYyxHQUFHLEdBQUcsSUFBSSxjQUFjLEdBQUcsQ0FBQyxLQUFLLGNBQWMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFO0FBQ2hHLFlBQU0sSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7QUFDN0IsWUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM3QixTQUFLO0FBQ0w7QUFDd0IsUUFBcEIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FlcEM7QUFDaEI7QUFDd0IsUUFqQnBCLElBQ0Usd0JBQXdCLEdBQUc7QUFDakMsWUFBUSxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNwRCxZQUFRLEtBQUssR0FBRyxDQUFDLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzlDLFlBQVEsS0FBSyxHQUFHLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDeEMsWUFBUSxJQUFJLEdBQUcsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO0FBQ25DLFlBQVEsS0FBSyxHQUFHLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO0FBQy9CLFlBQVEsT0FBTyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7QUFDNUIsWUFBUSxPQUFPLEVBQUUsSUFBSTtBQUNyQixTQUFPLENBTVM7QUFDaEI7QUFDd0IsUUFqQnBCLElBVUUsU0FBUyxHQUFHLEVBQUUsQ0FLSjtBQUNoQjtBQUN3QixRQWpCcEIsSUFXRSxVQUFVLEdBQUcsRUFBRSxDQUlMO0FBQ2hCO0FBQ3dCLFFBakJwQixJQVlFLGFBQWEsR0FBRyxFQUFFLENBR1I7QUFDaEI7QUFDd0IsUUFqQnBCLElBYUUsa0JBQWtCLEdBQUcsY0FBYyxDQUV6QjtBQUNoQjtBQUN3QixRQWpCcEIsSUFjRSxDQUFDLENBQ1M7QUFDaEI7QUFDd0IsUUFqQnBCLElBZUUsSUFBSSxDQUFNO0FBQ2hCLFFBQ0ksS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtBQUMxQixZQUFNLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDeEMsZ0JBQ1EsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDcEMsZ0JBQVEsSUFBSSx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxLQUFLLEVBQUU7QUFDcEU7QUFDVSxvQkFBQSxNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxDQUFDO0FBQ3pELGlCQUNTO0FBQ1QsZ0JBQVEsSUFBSSx3QkFBd0IsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssS0FBSyxFQUFFO0FBQ25GLG9CQUFVLE1BQU0sSUFBSSxLQUFLLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxnSEFBZ0gsQ0FBQyxDQUFDO0FBQzlKLGlCQUFTO0FBQ1Q7QUFFTSxnQkFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLENBQUMsR0FBRyxrQkFBa0IsR0FBRyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztBQUNwSCxnQkFDUSxJQUFJLFFBQVEsS0FBSyxJQUFJLEVBQUU7QUFDL0Isb0JBQVUsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDdkQsaUJBQVM7QUFBRSxxQkFBSTtBQUNmLG9CQUFVLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3hELGlCQUFTO0FBQ1QsZ0JBQ1Esa0JBQWtCLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLHdCQUF3QixDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO0FBQzdGLGdCQUFRLHdCQUF3QixDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUM3RDtBQUVNLGdCQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN0RSxnQkFDUSxhQUFhLElBQUksR0FBRyxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDdkQsZ0JBQVEsVUFBVSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUM7QUFDakMsYUFBTztBQUNQLFNBQUs7QUFDTCxRQUNJLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFO0FBQzFDLFlBQU0sSUFBSSxDQUFDLElBQUksR0FBRztBQUNsQixnQkFBUSxJQUFJLEVBQUUsTUFBTTtBQUNwQixnQkFBUSxLQUFLLEVBQUUsT0FBTztBQUN0QixnQkFBUSxLQUFLLEVBQUUsT0FBTztBQUN0QixnQkFBUSxJQUFJLEVBQUUsTUFBTTtBQUNwQixnQkFBUSxLQUFLLEVBQUUsT0FBTztBQUN0QixnQkFBUSxPQUFPLEVBQUUsU0FBUztBQUMxQixnQkFBUSxPQUFPLEVBQUUsU0FBUztBQUMxQixnQkFBUSxZQUFZLEVBQUUsY0FBYztBQUNwQyxhQUFPLENBQUM7QUFDUixTQUFLO0FBQ0wsUUFDSSxJQUFJLENBQUMsYUFBYSxHQUFHLFVBQVU7QUFDbkMsYUFBTyxPQUFPLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztBQUM5QyxhQUFPLE9BQU8sQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ2hELGFBQU8sT0FBTyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDaEQsYUFBTyxPQUFPLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztBQUM5QyxhQUFPLE9BQU8sQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ2hELGFBQU8sT0FBTyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFDcEQsYUFBTyxPQUFPLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDN0MsUUFDSSxJQUFJLENBQUMsY0FBYyxHQUFHLGFBQWEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDbkQsUUFBSSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2pELEtBQUcsQ0E1R087QUFBRTsrQkFoQlgsU0FBUyxTQUFDLGpEQWlCVjtHQWhCQyxRQUFRLEVBQUUsV0FBVyx4QkFtQkQ7SUFsQnBCLFFBQVEsRUFBRSxkQW9CVix3QkFKQyxLQUFLO0FBQU0sc0JBQ1gsS0FBSztBQUFNLGdDQUNYLEtBQUs7QUFBTSx1QkFDWCxLQUFLO0FBQU0sMEJBQ1gsS0FBSztBQUFNLDJCQUNYLEtBQUs7QUFBTSwwQkFDWCxNQUFNO0FBQUs7O3NGQVhZLHVCQUN4QixNQUFNLEVBQUUsQ0FBQyxrT0FBZ08sQ0FBQyxtQkFDM087Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBU21CO0FBQUUsNkJBMUJ0QjtBQUFHO0FBQU87QUFBRTtBQUFLO0FBQW1DO0FBSWhEO0FDSko7QUFDUztBQUFrQztxREFHMUMsUUFBUSxTQUFDO2tCQUNSLE9BQU8sRUFBRSxDQUFDLFlBQVksQ0FBQyx1QkFDdkIsWUFBWSxFQUFFLDJCQUNaLGtCQUFrQix1QkFDbkI7R0FDRCxPQUFPLEVBQUUsMkJBQ1Asa0JBQWtCLHdCQUNuQixtQkFDRjs7Ozs7Ozs7Ozs7O2dEQUNTO0FBQUUsMEJBYlo7QUFBRztBQUFPO0FBQUU7QUFBSztBQUNSO0FBQ2dCO0FBQUs7QUFBRTtBQUFLO0FBQ3BDO0FBSUs7QUFBSzs7O0FEUEEsQUErQkEsQUFBQSxBQUVBLEFBWEEsQUFBQSxBQUdBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFlQSxBQWZBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQU1BLEFBZkEsQUFVQSxBQUFBLEFBQUEsQUFBQSxBQUtBLEFBZkEsQUFXQSxBQUFBLEFBQUEsQUFBQSxBQUlBLEFBZkEsQUFZQSxBQUFBLEFBQUEsQUFBQSxBQUdBLEFBZkEsQUFhQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBZkEsQUFjQSxBQUFBLEFBQ0EsQUFmQSxBQWVBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBNUhBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBV0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUdBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUExQkEsQUNBQSxBQUlBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBWkEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdjb3VudGRvd24nLFxyXG4gIHRlbXBsYXRlOiBgPGRpdiBjbGFzcz1cImNvdW50ZG93blwiPlxyXG4gIDxkaXYgKm5nRm9yPVwibGV0IHRpbWUgb2YgZGlzcGxheTsgbGV0IGkgPSBpbmRleFwiIGNsYXNzPVwibWVhc3VyZW1lbnRzIHt7dGltZX19XCI+XHJcbiAgICA8cCBjbGFzcz1cIm1lYXN1cmVtZW50cy1udW1iZXJcIj5cclxuICAgICAge3sgKHNob3daZXJvICYmIGRpc3BsYXlOdW1iZXJzW2ldIDwgMTApID8gJzAnICsgZGlzcGxheU51bWJlcnNbaV0udHJpbSgpIDogZGlzcGxheU51bWJlcnNbaV19fVxyXG4gICAgPC9wPlxyXG4gICAgPHNwYW4gKm5nSWY9XCJkaXNwbGF5W2krMV1cIiBjbGFzcz1cImRpdmlkZXJcIj4ge3tkaXZpZGVyfX0gPC9zcGFuPlxyXG4gICAgPHAgY2xhc3M9XCJtZWFzdXJlbWVudHMtdGV4dFwiPlxyXG4gICAgICB7e3RpbWV9fVxyXG4gICAgPC9wPlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmAsXHJcbiAgc3R5bGVzOiBbYC5jb3VudGRvd257ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWNvbnRlbnQ6Y2VudGVyO2ZvbnQtZmFtaWx5OlwiSGVsdmV0aWNhIE5ldWVcIixIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZn0uY291bnRkb3duIC5tZWFzdXJlbWVudHN7ZmxleDouMX0uY291bnRkb3duIC5tZWFzdXJlbWVudHMgLmRpdmlkZXJ7ZmxvYXQ6cmlnaHR9YF1cclxufSlcclxuZXhwb3J0IGNsYXNzIENvdW50ZG93bkNvbXBvbmVudCB7XHJcblxyXG4gIEBJbnB1dCgpIHVuaXRzOiBhbnk7XHJcbiAgQElucHV0KCkgZW5kOiBhbnk7XHJcbiAgQElucHV0KCkgZGlzcGxheVN0cmluZzogU3RyaW5nID0gJyc7XHJcbiAgQElucHV0KCkgdGV4dDogYW55O1xyXG4gIEBJbnB1dCgpIGRpdmlkZXI6IGFueTtcclxuICBASW5wdXQoKSBzaG93WmVybzogQm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBPdXRwdXQoKSByZWFjaGVkOiBFdmVudEVtaXR0ZXI8RGF0ZT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgZGlzcGxheTogYW55ID0gW107XHJcbiAgZGlzcGxheU51bWJlcnM6IGFueSA9IFtdO1xyXG4gIHdhc1JlYWNoZWQ6IEJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLl9kaXNwbGF5U3RyaW5nKCksIDEwMCk7XHJcbiAgfVxyXG5cclxuICBfZGlzcGxheVN0cmluZygpIHtcclxuICAgIGlmICh0aGlzLndhc1JlYWNoZWQpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAodHlwZW9mIHRoaXMudW5pdHMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHRoaXMudW5pdHMgPSB0aGlzLnVuaXRzLnNwbGl0KCd8Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGdpdmVuRGF0ZTogYW55ID0gbmV3IERhdGUodGhpcy5lbmQpO1xyXG4gICAgbGV0IG5vdzogYW55ID0gbmV3IERhdGUoKTtcclxuICAgIGxldCBkYXRlRGlmZmVyZW5jZTogYW55ID0gZ2l2ZW5EYXRlIC0gbm93O1xyXG5cclxuICAgIGlmICgoZGF0ZURpZmZlcmVuY2UgPCAxMDAgJiYgZGF0ZURpZmZlcmVuY2UgPiAwKSB8fCBkYXRlRGlmZmVyZW5jZSA8IDAgJiYgIXRoaXMud2FzUmVhY2hlZCkge1xyXG4gICAgICB0aGlzLndhc1JlYWNoZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLnJlYWNoZWQubmV4dChub3cpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBsYXN0VW5pdCA9IHRoaXMudW5pdHNbdGhpcy51bml0cy5sZW5ndGggLSAxXSxcclxuICAgICAgdW5pdENvbnN0YW50Rm9yTWlsbGlzZWNzID0ge1xyXG4gICAgICAgIHllYXI6ICgoKDEwMDAgKiA2MCAqIDYwICogMjQgKiA3KSAqIDQpICogMTIpLFxyXG4gICAgICAgIG1vbnRoOiAoKDEwMDAgKiA2MCAqIDYwICogMjQgKiA3KSAqIDQpLFxyXG4gICAgICAgIHdlZWtzOiAoMTAwMCAqIDYwICogNjAgKiAyNCAqIDcpLFxyXG4gICAgICAgIGRheXM6ICgxMDAwICogNjAgKiA2MCAqIDI0KSxcclxuICAgICAgICBob3VyczogKDEwMDAgKiA2MCAqIDYwKSxcclxuICAgICAgICBtaW51dGVzOiAoMTAwMCAqIDYwKSxcclxuICAgICAgICBzZWNvbmRzOiAxMDAwXHJcbiAgICAgIH0sXHJcbiAgICAgIHVuaXRzTGVmdCA9IHt9LFxyXG4gICAgICByZXR1cm5UZXh0ID0gJycsXHJcbiAgICAgIHJldHVybk51bWJlcnMgPSAnJyxcclxuICAgICAgdG90YWxNaWxsaXNlY3NMZWZ0ID0gZGF0ZURpZmZlcmVuY2UsXHJcbiAgICAgIGksXHJcbiAgICAgIHVuaXQ6IGFueTtcclxuXHJcbiAgICBmb3IgKGkgaW4gdGhpcy51bml0cykge1xyXG4gICAgICBpZiAodGhpcy51bml0cy5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG5cclxuICAgICAgICB1bml0ID0gdGhpcy51bml0c1tpXS50cmltKCk7XHJcbiAgICAgICAgaWYgKHVuaXRDb25zdGFudEZvck1pbGxpc2Vjc1t1bml0LnRvTG93ZXJDYXNlKCldID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgLy8kaW50ZXJ2YWwuY2FuY2VsKGNvdW50RG93bkludGVydmFsKTtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlcGVhdCB1bml0OiAnICsgdW5pdCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodW5pdENvbnN0YW50Rm9yTWlsbGlzZWNzLmhhc093blByb3BlcnR5KHVuaXQudG9Mb3dlckNhc2UoKSkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuaXQ6ICcgKyB1bml0ICsgJyBpcyBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIGZvbGxvd2luZyB1bml0czogeWVhciwgbW9udGgsIHdlZWtzLCBkYXlzLCBob3VycywgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBpdCB3YXMgcmVhY2hlZCwgZXZlcnl0aGluZyBpcyB6ZXJvXHJcbiAgICAgICAgdW5pdHNMZWZ0W3VuaXRdID0gKHRoaXMud2FzUmVhY2hlZCkgPyAwIDogdG90YWxNaWxsaXNlY3NMZWZ0IC8gdW5pdENvbnN0YW50Rm9yTWlsbGlzZWNzW3VuaXQudG9Mb3dlckNhc2UoKV07XHJcblxyXG4gICAgICAgIGlmIChsYXN0VW5pdCA9PT0gdW5pdCkge1xyXG4gICAgICAgICAgdW5pdHNMZWZ0W3VuaXRdID0gTWF0aC5jZWlsKHVuaXRzTGVmdFt1bml0XSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHVuaXRzTGVmdFt1bml0XSA9IE1hdGguZmxvb3IodW5pdHNMZWZ0W3VuaXRdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRvdGFsTWlsbGlzZWNzTGVmdCAtPSB1bml0c0xlZnRbdW5pdF0gKiB1bml0Q29uc3RhbnRGb3JNaWxsaXNlY3NbdW5pdC50b0xvd2VyQ2FzZSgpXTtcclxuICAgICAgICB1bml0Q29uc3RhbnRGb3JNaWxsaXNlY3NbdW5pdC50b0xvd2VyQ2FzZSgpXSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBJZiBpdCdzIGxlc3MgdGhhbiAwLCByb3VuZCB0byAwXHJcbiAgICAgICAgdW5pdHNMZWZ0W3VuaXRdID0gKHVuaXRzTGVmdFt1bml0XSA+IDApID8gdW5pdHNMZWZ0W3VuaXRdIDogMDtcclxuXHJcbiAgICAgICAgcmV0dXJuTnVtYmVycyArPSAnICcgKyB1bml0c0xlZnRbdW5pdF0gKyAnIHwgJztcclxuICAgICAgICByZXR1cm5UZXh0ICs9ICcgJyArIHVuaXQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy50ZXh0ID09PSBudWxsIHx8ICF0aGlzLnRleHQpIHtcclxuICAgICAgdGhpcy50ZXh0ID0ge1xyXG4gICAgICAgIFllYXI6ICdZZWFyJyxcclxuICAgICAgICBNb250aDogJ01vbnRoJyxcclxuICAgICAgICBXZWVrczogJ1dlZWtzJyxcclxuICAgICAgICBEYXlzOiAnRGF5cycsXHJcbiAgICAgICAgSG91cnM6ICdIb3VycycsXHJcbiAgICAgICAgTWludXRlczogJ01pbnV0ZXMnLFxyXG4gICAgICAgIFNlY29uZHM6ICdTZWNvbmRzJyxcclxuICAgICAgICBNaWxsaVNlY29uZHM6ICdNaWxsaXNlY29uZHMnXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kaXNwbGF5U3RyaW5nID0gcmV0dXJuVGV4dFxyXG4gICAgICAucmVwbGFjZSgnWWVhcicsIHRoaXMudGV4dC5ZZWFyICsgJyB8ICcpXHJcbiAgICAgIC5yZXBsYWNlKCdNb250aCcsIHRoaXMudGV4dC5Nb250aCArICcgfCAnKVxyXG4gICAgICAucmVwbGFjZSgnV2Vla3MnLCB0aGlzLnRleHQuV2Vla3MgKyAnIHwgJylcclxuICAgICAgLnJlcGxhY2UoJ0RheXMnLCB0aGlzLnRleHQuRGF5cyArICcgfCAnKVxyXG4gICAgICAucmVwbGFjZSgnSG91cnMnLCB0aGlzLnRleHQuSG91cnMgKyAnIHwgJylcclxuICAgICAgLnJlcGxhY2UoJ01pbnV0ZXMnLCB0aGlzLnRleHQuTWludXRlcyArICcgfCAnKVxyXG4gICAgICAucmVwbGFjZSgnU2Vjb25kcycsIHRoaXMudGV4dC5TZWNvbmRzKTtcclxuXHJcbiAgICB0aGlzLmRpc3BsYXlOdW1iZXJzID0gcmV0dXJuTnVtYmVycy5zcGxpdCgnfCcpO1xyXG4gICAgdGhpcy5kaXNwbGF5ID0gdGhpcy5kaXNwbGF5U3RyaW5nLnNwbGl0KCd8Jyk7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nOyAgXHJcbmltcG9ydCB7IENvdW50ZG93bkNvbXBvbmVudCB9IGZyb20gJy4vY291bnRkb3duL2NvdW50ZG93bi5jb21wb25lbnQnO1xyXG5cclxuQE5nTW9kdWxlKHtcclxuICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSxcclxuICBkZWNsYXJhdGlvbnM6IFtcclxuICAgIENvdW50ZG93bkNvbXBvbmVudFxyXG4gIF0sXHJcbiAgZXhwb3J0czogW1xyXG4gICAgQ291bnRkb3duQ29tcG9uZW50LFxyXG4gIF1cclxufSlcclxuZXhwb3J0IGNsYXNzIENvdW50ZG93bk1vZHVsZSB7IH1cclxuIl19