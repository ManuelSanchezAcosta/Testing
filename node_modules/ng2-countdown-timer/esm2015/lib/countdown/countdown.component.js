/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter } from '@angular/core';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/common';

function CountdownComponent_div_1_span_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 5);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r3 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r3.divider, " ");
} }
function CountdownComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "p", 2);
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(3, CountdownComponent_div_1_span_3_Template, 2, 1, "span", 3);
    ɵngcc0.ɵɵelementStart(4, "p", 4);
    ɵngcc0.ɵɵtext(5);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const time_r1 = ctx.$implicit;
    const i_r2 = ctx.index;
    const ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassMapInterpolate1("measurements ", time_r1, "");
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r0.showZero && ctx_r0.displayNumbers[i_r2] < 10 ? "0" + ctx_r0.displayNumbers[i_r2].trim() : ctx_r0.displayNumbers[i_r2], " ");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.display[i_r2 + 1]);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", time_r1, " ");
} }
const _c0 = ["*"];
export class CountdownComponent {
    constructor() {
        this.displayString = '';
        this.showZero = false;
        this.reached = new EventEmitter();
        this.display = [];
        this.displayNumbers = [];
        this.wasReached = false;
        setInterval(() => this._displayString(), 100);
    }
    /**
     * @return {?}
     */
    _displayString() {
        if (this.wasReached)
            return;
        if (typeof this.units === 'string') {
            this.units = this.units.split('|');
        }
        /** @type {?} */
        let givenDate = new Date(this.end);
        /** @type {?} */
        let now = new Date();
        /** @type {?} */
        let dateDifference = givenDate - now;
        if ((dateDifference < 100 && dateDifference > 0) || dateDifference < 0 && !this.wasReached) {
            this.wasReached = true;
            this.reached.next(now);
        }
        /** @type {?} */
        let lastUnit = this.units[this.units.length - 1];
        /** @type {?} */
        let unitConstantForMillisecs = {
            year: (((1000 * 60 * 60 * 24 * 7) * 4) * 12),
            month: ((1000 * 60 * 60 * 24 * 7) * 4),
            weeks: (1000 * 60 * 60 * 24 * 7),
            days: (1000 * 60 * 60 * 24),
            hours: (1000 * 60 * 60),
            minutes: (1000 * 60),
            seconds: 1000
        };
        /** @type {?} */
        let unitsLeft = {};
        /** @type {?} */
        let returnText = '';
        /** @type {?} */
        let returnNumbers = '';
        /** @type {?} */
        let totalMillisecsLeft = dateDifference;
        /** @type {?} */
        let i;
        /** @type {?} */
        let unit;
        for (i in this.units) {
            if (this.units.hasOwnProperty(i)) {
                unit = this.units[i].trim();
                if (unitConstantForMillisecs[unit.toLowerCase()] === false) {
                    //$interval.cancel(countDownInterval);
                    throw new Error('Cannot repeat unit: ' + unit);
                }
                if (unitConstantForMillisecs.hasOwnProperty(unit.toLowerCase()) === false) {
                    throw new Error('Unit: ' + unit + ' is not supported. Please use following units: year, month, weeks, days, hours, minutes, seconds, milliseconds');
                }
                // If it was reached, everything is zero
                unitsLeft[unit] = (this.wasReached) ? 0 : totalMillisecsLeft / unitConstantForMillisecs[unit.toLowerCase()];
                if (lastUnit === unit) {
                    unitsLeft[unit] = Math.ceil(unitsLeft[unit]);
                }
                else {
                    unitsLeft[unit] = Math.floor(unitsLeft[unit]);
                }
                totalMillisecsLeft -= unitsLeft[unit] * unitConstantForMillisecs[unit.toLowerCase()];
                unitConstantForMillisecs[unit.toLowerCase()] = false;
                // If it's less than 0, round to 0
                unitsLeft[unit] = (unitsLeft[unit] > 0) ? unitsLeft[unit] : 0;
                returnNumbers += ' ' + unitsLeft[unit] + ' | ';
                returnText += ' ' + unit;
            }
        }
        if (this.text === null || !this.text) {
            this.text = {
                Year: 'Year',
                Month: 'Month',
                Weeks: 'Weeks',
                Days: 'Days',
                Hours: 'Hours',
                Minutes: 'Minutes',
                Seconds: 'Seconds',
                MilliSeconds: 'Milliseconds'
            };
        }
        this.displayString = returnText
            .replace('Year', this.text.Year + ' | ')
            .replace('Month', this.text.Month + ' | ')
            .replace('Weeks', this.text.Weeks + ' | ')
            .replace('Days', this.text.Days + ' | ')
            .replace('Hours', this.text.Hours + ' | ')
            .replace('Minutes', this.text.Minutes + ' | ')
            .replace('Seconds', this.text.Seconds);
        this.displayNumbers = returnNumbers.split('|');
        this.display = this.displayString.split('|');
    }
}
CountdownComponent.ɵfac = function CountdownComponent_Factory(t) { return new (t || CountdownComponent)(); };
CountdownComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: CountdownComponent, selectors: [["countdown"]], inputs: { displayString: "displayString", showZero: "showZero", units: "units", text: "text", end: "end", divider: "divider" }, outputs: { reached: "reached" }, ngContentSelectors: _c0, decls: 3, vars: 1, consts: [[1, "countdown"], [3, "class", 4, "ngFor", "ngForOf"], [1, "measurements-number"], ["class", "divider", 4, "ngIf"], [1, "measurements-text"], [1, "divider"]], template: function CountdownComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef();
        ɵngcc0.ɵɵelementStart(0, "div", 0);
        ɵngcc0.ɵɵtemplate(1, CountdownComponent_div_1_Template, 6, 6, "div", 1);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵprojection(2);
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.display);
    } }, directives: [ɵngcc1.NgForOf, ɵngcc1.NgIf], styles: [".countdown[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;align-content:center;font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif}.countdown[_ngcontent-%COMP%]   .measurements[_ngcontent-%COMP%]{flex:.1}.countdown[_ngcontent-%COMP%]   .measurements[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{float:right}"] });
/** @nocollapse */
CountdownComponent.ctorParameters = () => [];
CountdownComponent.propDecorators = {
    units: [{ type: Input }],
    end: [{ type: Input }],
    displayString: [{ type: Input }],
    text: [{ type: Input }],
    divider: [{ type: Input }],
    showZero: [{ type: Input }],
    reached: [{ type: Output }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CountdownComponent, [{
        type: Component,
        args: [{
                selector: 'countdown',
                template: `<div class="countdown">
  <div *ngFor="let time of display; let i = index" class="measurements {{time}}">
    <p class="measurements-number">
      {{ (showZero && displayNumbers[i] < 10) ? '0' + displayNumbers[i].trim() : displayNumbers[i]}}
    </p>
    <span *ngIf="display[i+1]" class="divider"> {{divider}} </span>
    <p class="measurements-text">
      {{time}}
    </p>
  </div>
</div>
<ng-content></ng-content>`,
                styles: [`.countdown{display:flex;align-items:center;justify-content:center;align-content:center;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}.countdown .measurements{flex:.1}.countdown .measurements .divider{float:right}`]
            }]
    }], function () { return []; }, { displayString: [{
            type: Input
        }], showZero: [{
            type: Input
        }], reached: [{
            type: Output
        }], units: [{
            type: Input
        }], text: [{
            type: Input
        }], end: [{
            type: Input
        }], divider: [{
            type: Input
        }] }); })();
if (false) {
    /** @type {?} */
    CountdownComponent.prototype.units;
    /** @type {?} */
    CountdownComponent.prototype.end;
    /** @type {?} */
    CountdownComponent.prototype.displayString;
    /** @type {?} */
    CountdownComponent.prototype.text;
    /** @type {?} */
    CountdownComponent.prototype.divider;
    /** @type {?} */
    CountdownComponent.prototype.showZero;
    /** @type {?} */
    CountdownComponent.prototype.reached;
    /** @type {?} */
    CountdownComponent.prototype.display;
    /** @type {?} */
    CountdownComponent.prototype.displayNumbers;
    /** @type {?} */
    CountdownComponent.prototype.wasReached;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY291bnRkb3duLmNvbXBvbmVudC5qcyIsInNvdXJjZXMiOlsibmcyLWNvdW50ZG93bi10aW1lci9saWIvY291bnRkb3duL2NvdW50ZG93bi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtCdkUsTUFBTTtBQUNOLElBWUU7QUFDRiw2QkFWbUMsRUFBRTtBQUNyQyx3QkFFK0IsS0FBSztBQUNwQyx1QkFBMEMsSUFBSSxZQUFZLEVBQUU7QUFDNUQsdUJBQWlCLEVBQUU7QUFDbkIsOEJBQXdCLEVBQUU7QUFDMUIsMEJBQXdCLEtBQUs7QUFDN0IsUUFFSSxXQUFXLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ2xELEtBQUc7QUFDSDtBQUNPO0FBQ0Y7QUFBUyxJQURaLGNBQWM7QUFDaEIsUUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO0FBQ3hCLFlBQU0sTUFBTSxDQUFDO0FBQ2IsUUFDSSxFQUFFLENBQUMsQ0FBQyxPQUFPLElBQUksQ0FBQyxLQUFLLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQztBQUN6QyxZQUFNLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekMsU0FBSztBQUNMO0FBQ3dCLFFBQXBCLElBQUksU0FBUyxHQUFRLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM1QztBQUEwQixRQUF0QixJQUFJLEdBQUcsR0FBUSxJQUFJLElBQUksRUFBRSxDQUFDO0FBQzlCO0FBQTBCLFFBQXRCLElBQUksY0FBYyxHQUFRLFNBQVMsR0FBRyxHQUFH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QUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFlQSxBQWZBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQU1BLEFBZkEsQUFVQSxBQUFBLEFBQUEsQUFBQSxBQUtBLEFBZkEsQUFXQSxBQUFBLEFBQUEsQUFBQSxBQUlBLEFBZkEsQUFZQSxBQUFBLEFBQUEsQUFBQSxBQUdBLEFBZkEsQUFhQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBZkEsQUFjQSxBQUFBLEFBQ0EsQUFmQSxBQWVBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUE1SEEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFXQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBR0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2NvdW50ZG93bicsXHJcbiAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwiY291bnRkb3duXCI+XHJcbiAgPGRpdiAqbmdGb3I9XCJsZXQgdGltZSBvZiBkaXNwbGF5OyBsZXQgaSA9IGluZGV4XCIgY2xhc3M9XCJtZWFzdXJlbWVudHMge3t0aW1lfX1cIj5cclxuICAgIDxwIGNsYXNzPVwibWVhc3VyZW1lbnRzLW51bWJlclwiPlxyXG4gICAgICB7eyAoc2hvd1plcm8gJiYgZGlzcGxheU51bWJlcnNbaV0gPCAxMCkgPyAnMCcgKyBkaXNwbGF5TnVtYmVyc1tpXS50cmltKCkgOiBkaXNwbGF5TnVtYmVyc1tpXX19XHJcbiAgICA8L3A+XHJcbiAgICA8c3BhbiAqbmdJZj1cImRpc3BsYXlbaSsxXVwiIGNsYXNzPVwiZGl2aWRlclwiPiB7e2RpdmlkZXJ9fSA8L3NwYW4+XHJcbiAgICA8cCBjbGFzcz1cIm1lYXN1cmVtZW50cy10ZXh0XCI+XHJcbiAgICAgIHt7dGltZX19XHJcbiAgICA8L3A+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG48bmctY29udGVudD48L25nLWNvbnRlbnQ+YCxcclxuICBzdHlsZXM6IFtgLmNvdW50ZG93bntkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24tY29udGVudDpjZW50ZXI7Zm9udC1mYW1pbHk6XCJIZWx2ZXRpY2EgTmV1ZVwiLEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmfS5jb3VudGRvd24gLm1lYXN1cmVtZW50c3tmbGV4Oi4xfS5jb3VudGRvd24gLm1lYXN1cmVtZW50cyAuZGl2aWRlcntmbG9hdDpyaWdodH1gXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgQ291bnRkb3duQ29tcG9uZW50IHtcclxuXHJcbiAgQElucHV0KCkgdW5pdHM6IGFueTtcclxuICBASW5wdXQoKSBlbmQ6IGFueTtcclxuICBASW5wdXQoKSBkaXNwbGF5U3RyaW5nOiBTdHJpbmcgPSAnJztcclxuICBASW5wdXQoKSB0ZXh0OiBhbnk7XHJcbiAgQElucHV0KCkgZGl2aWRlcjogYW55O1xyXG4gIEBJbnB1dCgpIHNob3daZXJvOiBCb29sZWFuID0gZmFsc2U7XHJcbiAgQE91dHB1dCgpIHJlYWNoZWQ6IEV2ZW50RW1pdHRlcjxEYXRlPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICBkaXNwbGF5OiBhbnkgPSBbXTtcclxuICBkaXNwbGF5TnVtYmVyczogYW55ID0gW107XHJcbiAgd2FzUmVhY2hlZDogQm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHNldEludGVydmFsKCgpID0+IHRoaXMuX2Rpc3BsYXlTdHJpbmcoKSwgMTAwKTtcclxuICB9XHJcblxyXG4gIF9kaXNwbGF5U3RyaW5nKCkge1xyXG4gICAgaWYgKHRoaXMud2FzUmVhY2hlZClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGlmICh0eXBlb2YgdGhpcy51bml0cyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgdGhpcy51bml0cyA9IHRoaXMudW5pdHMuc3BsaXQoJ3wnKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZ2l2ZW5EYXRlOiBhbnkgPSBuZXcgRGF0ZSh0aGlzLmVuZCk7XHJcbiAgICBsZXQgbm93OiBhbnkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgbGV0IGRhdGVEaWZmZXJlbmNlOiBhbnkgPSBnaXZlbkRhdGUgLSBub3c7XHJcblxyXG4gICAgaWYgKChkYXRlRGlmZmVyZW5jZSA8IDEwMCAmJiBkYXRlRGlmZmVyZW5jZSA+IDApIHx8IGRhdGVEaWZmZXJlbmNlIDwgMCAmJiAhdGhpcy53YXNSZWFjaGVkKSB7XHJcbiAgICAgIHRoaXMud2FzUmVhY2hlZCA9IHRydWU7XHJcbiAgICAgIHRoaXMucmVhY2hlZC5uZXh0KG5vdyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGxhc3RVbml0ID0gdGhpcy51bml0c1t0aGlzLnVuaXRzLmxlbmd0aCAtIDFdLFxyXG4gICAgICB1bml0Q29uc3RhbnRGb3JNaWxsaXNlY3MgPSB7XHJcbiAgICAgICAgeWVhcjogKCgoMTAwMCAqIDYwICogNjAgKiAyNCAqIDcpICogNCkgKiAxMiksXHJcbiAgICAgICAgbW9udGg6ICgoMTAwMCAqIDYwICogNjAgKiAyNCAqIDcpICogNCksXHJcbiAgICAgICAgd2Vla3M6ICgxMDAwICogNjAgKiA2MCAqIDI0ICogNyksXHJcbiAgICAgICAgZGF5czogKDEwMDAgKiA2MCAqIDYwICogMjQpLFxyXG4gICAgICAgIGhvdXJzOiAoMTAwMCAqIDYwICogNjApLFxyXG4gICAgICAgIG1pbnV0ZXM6ICgxMDAwICogNjApLFxyXG4gICAgICAgIHNlY29uZHM6IDEwMDBcclxuICAgICAgfSxcclxuICAgICAgdW5pdHNMZWZ0ID0ge30sXHJcbiAgICAgIHJldHVyblRleHQgPSAnJyxcclxuICAgICAgcmV0dXJuTnVtYmVycyA9ICcnLFxyXG4gICAgICB0b3RhbE1pbGxpc2Vjc0xlZnQgPSBkYXRlRGlmZmVyZW5jZSxcclxuICAgICAgaSxcclxuICAgICAgdW5pdDogYW55O1xyXG5cclxuICAgIGZvciAoaSBpbiB0aGlzLnVuaXRzKSB7XHJcbiAgICAgIGlmICh0aGlzLnVuaXRzLmhhc093blByb3BlcnR5KGkpKSB7XHJcblxyXG4gICAgICAgIHVuaXQgPSB0aGlzLnVuaXRzW2ldLnRyaW0oKTtcclxuICAgICAgICBpZiAodW5pdENvbnN0YW50Rm9yTWlsbGlzZWNzW3VuaXQudG9Mb3dlckNhc2UoKV0gPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAvLyRpbnRlcnZhbC5jYW5jZWwoY291bnREb3duSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVwZWF0IHVuaXQ6ICcgKyB1bml0KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh1bml0Q29uc3RhbnRGb3JNaWxsaXNlY3MuaGFzT3duUHJvcGVydHkodW5pdC50b0xvd2VyQ2FzZSgpKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5pdDogJyArIHVuaXQgKyAnIGlzIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSB1c2UgZm9sbG93aW5nIHVuaXRzOiB5ZWFyLCBtb250aCwgd2Vla3MsIGRheXMsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBtaWxsaXNlY29uZHMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGl0IHdhcyByZWFjaGVkLCBldmVyeXRoaW5nIGlzIHplcm9cclxuICAgICAgICB1bml0c0xlZnRbdW5pdF0gPSAodGhpcy53YXNSZWFjaGVkKSA/IDAgOiB0b3RhbE1pbGxpc2Vjc0xlZnQgLyB1bml0Q29uc3RhbnRGb3JNaWxsaXNlY3NbdW5pdC50b0xvd2VyQ2FzZSgpXTtcclxuXHJcbiAgICAgICAgaWYgKGxhc3RVbml0ID09PSB1bml0KSB7XHJcbiAgICAgICAgICB1bml0c0xlZnRbdW5pdF0gPSBNYXRoLmNlaWwodW5pdHNMZWZ0W3VuaXRdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdW5pdHNMZWZ0W3VuaXRdID0gTWF0aC5mbG9vcih1bml0c0xlZnRbdW5pdF0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdG90YWxNaWxsaXNlY3NMZWZ0IC09IHVuaXRzTGVmdFt1bml0XSAqIHVuaXRDb25zdGFudEZvck1pbGxpc2Vjc1t1bml0LnRvTG93ZXJDYXNlKCldO1xyXG4gICAgICAgIHVuaXRDb25zdGFudEZvck1pbGxpc2Vjc1t1bml0LnRvTG93ZXJDYXNlKCldID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIElmIGl0J3MgbGVzcyB0aGFuIDAsIHJvdW5kIHRvIDBcclxuICAgICAgICB1bml0c0xlZnRbdW5pdF0gPSAodW5pdHNMZWZ0W3VuaXRdID4gMCkgPyB1bml0c0xlZnRbdW5pdF0gOiAwO1xyXG5cclxuICAgICAgICByZXR1cm5OdW1iZXJzICs9ICcgJyArIHVuaXRzTGVmdFt1bml0XSArICcgfCAnO1xyXG4gICAgICAgIHJldHVyblRleHQgKz0gJyAnICsgdW5pdDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnRleHQgPT09IG51bGwgfHwgIXRoaXMudGV4dCkge1xyXG4gICAgICB0aGlzLnRleHQgPSB7XHJcbiAgICAgICAgWWVhcjogJ1llYXInLFxyXG4gICAgICAgIE1vbnRoOiAnTW9udGgnLFxyXG4gICAgICAgIFdlZWtzOiAnV2Vla3MnLFxyXG4gICAgICAgIERheXM6ICdEYXlzJyxcclxuICAgICAgICBIb3VyczogJ0hvdXJzJyxcclxuICAgICAgICBNaW51dGVzOiAnTWludXRlcycsXHJcbiAgICAgICAgU2Vjb25kczogJ1NlY29uZHMnLFxyXG4gICAgICAgIE1pbGxpU2Vjb25kczogJ01pbGxpc2Vjb25kcydcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRpc3BsYXlTdHJpbmcgPSByZXR1cm5UZXh0XHJcbiAgICAgIC5yZXBsYWNlKCdZZWFyJywgdGhpcy50ZXh0LlllYXIgKyAnIHwgJylcclxuICAgICAgLnJlcGxhY2UoJ01vbnRoJywgdGhpcy50ZXh0Lk1vbnRoICsgJyB8ICcpXHJcbiAgICAgIC5yZXBsYWNlKCdXZWVrcycsIHRoaXMudGV4dC5XZWVrcyArICcgfCAnKVxyXG4gICAgICAucmVwbGFjZSgnRGF5cycsIHRoaXMudGV4dC5EYXlzICsgJyB8ICcpXHJcbiAgICAgIC5yZXBsYWNlKCdIb3VycycsIHRoaXMudGV4dC5Ib3VycyArICcgfCAnKVxyXG4gICAgICAucmVwbGFjZSgnTWludXRlcycsIHRoaXMudGV4dC5NaW51dGVzICsgJyB8ICcpXHJcbiAgICAgIC5yZXBsYWNlKCdTZWNvbmRzJywgdGhpcy50ZXh0LlNlY29uZHMpO1xyXG5cclxuICAgIHRoaXMuZGlzcGxheU51bWJlcnMgPSByZXR1cm5OdW1iZXJzLnNwbGl0KCd8Jyk7XHJcbiAgICB0aGlzLmRpc3BsYXkgPSB0aGlzLmRpc3BsYXlTdHJpbmcuc3BsaXQoJ3wnKTtcclxuICB9XHJcblxyXG59XHJcbiJdfQ==